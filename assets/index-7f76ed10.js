function uE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lo={},fE={get exports(){return lo},set exports(e){lo=e}},Ll={},se={},dE={get exports(){return se},set exports(e){se=e}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=Symbol.for("react.element"),hE=Symbol.for("react.portal"),pE=Symbol.for("react.fragment"),vE=Symbol.for("react.strict_mode"),gE=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),xE=Symbol.for("react.forward_ref"),EE=Symbol.for("react.suspense"),SE=Symbol.for("react.memo"),AE=Symbol.for("react.lazy"),zh=Symbol.iterator;function wE(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hg=Object.assign,pg={};function ga(e,t,r){this.props=e,this.context=t,this.refs=pg,this.updater=r||dg}ga.prototype.isReactComponent={};ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vg(){}vg.prototype=ga.prototype;function Hf(e,t,r){this.props=e,this.context=t,this.refs=pg,this.updater=r||dg}var Vf=Hf.prototype=new vg;Vf.constructor=Hf;hg(Vf,ga.prototype);Vf.isPureReactComponent=!0;var Gh=Array.isArray,gg=Object.prototype.hasOwnProperty,Wf={current:null},mg={key:!0,ref:!0,__self:!0,__source:!0};function yg(e,t,r){var n,a={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)gg.call(t,n)&&!mg.hasOwnProperty(n)&&(a[n]=t[n]);var f=arguments.length-2;if(f===1)a.children=r;else if(1<f){for(var v=Array(f),c=0;c<f;c++)v[c]=arguments[c+2];a.children=v}if(e&&e.defaultProps)for(n in f=e.defaultProps,f)a[n]===void 0&&(a[n]=f[n]);return{$$typeof:Bo,type:e,key:o,ref:u,props:a,_owner:Wf.current}}function TE(e,t){return{$$typeof:Bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bo}function RE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kh=/\/+/g;function Nu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RE(""+e.key):t.toString(36)}function bs(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Bo:case hE:u=!0}}if(u)return u=e,a=a(u),e=n===""?"."+Nu(u,0):n,Gh(a)?(r="",e!=null&&(r=e.replace(Kh,"$&/")+"/"),bs(a,t,r,"",function(c){return c})):a!=null&&(Qf(a)&&(a=TE(a,r+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(Kh,"$&/")+"/")+e)),t.push(a)),1;if(u=0,n=n===""?".":n+":",Gh(e))for(var f=0;f<e.length;f++){o=e[f];var v=n+Nu(o,f);u+=bs(o,t,r,v,a)}else if(v=wE(e),typeof v=="function")for(e=v.call(e),f=0;!(o=e.next()).done;)o=o.value,v=n+Nu(o,f++),u+=bs(o,t,r,v,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function as(e,t,r){if(e==null)return e;var n=[],a=0;return bs(e,n,"","",function(o){return t.call(r,o,a++)}),n}function _E(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},Cs={transition:null},bE={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:Wf};Xe.Children={map:as,forEach:function(e,t,r){as(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return as(e,function(){t++}),t},toArray:function(e){return as(e,function(t){return t})||[]},only:function(e){if(!Qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=ga;Xe.Fragment=pE;Xe.Profiler=gE;Xe.PureComponent=Hf;Xe.StrictMode=vE;Xe.Suspense=EE;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bE;Xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hg({},e.props),a=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Wf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(v in t)gg.call(t,v)&&!mg.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&f!==void 0?f[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){f=Array(v);for(var c=0;c<v;c++)f[c]=arguments[c+2];n.children=f}return{$$typeof:Bo,type:e.type,key:a,ref:o,props:n,_owner:u}};Xe.createContext=function(e){return e={$$typeof:yE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mE,_context:e},e.Consumer=e};Xe.createElement=yg;Xe.createFactory=function(e){var t=yg.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:xE,render:e}};Xe.isValidElement=Qf;Xe.lazy=function(e){return{$$typeof:AE,_payload:{_status:-1,_result:e},_init:_E}};Xe.memo=function(e,t){return{$$typeof:SE,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};Xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xe.useCallback=function(e,t){return ur.current.useCallback(e,t)};Xe.useContext=function(e){return ur.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return ur.current.useEffect(e,t)};Xe.useId=function(){return ur.current.useId()};Xe.useImperativeHandle=function(e,t,r){return ur.current.useImperativeHandle(e,t,r)};Xe.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return ur.current.useMemo(e,t)};Xe.useReducer=function(e,t,r){return ur.current.useReducer(e,t,r)};Xe.useRef=function(e){return ur.current.useRef(e)};Xe.useState=function(e){return ur.current.useState(e)};Xe.useSyncExternalStore=function(e,t,r){return ur.current.useSyncExternalStore(e,t,r)};Xe.useTransition=function(){return ur.current.useTransition()};Xe.version="18.2.0";(function(e){e.exports=Xe})(dE);const Qa=fg(se),Cc=uE({__proto__:null,default:Qa},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE=se,DE=Symbol.for("react.element"),kE=Symbol.for("react.fragment"),LE=Object.prototype.hasOwnProperty,PE=CE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OE={key:!0,ref:!0,__self:!0,__source:!0};function xg(e,t,r){var n,a={},o=null,u=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)LE.call(t,n)&&!OE.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:DE,type:e,key:o,ref:u,props:a,_owner:PE.current}}Ll.Fragment=kE;Ll.jsx=xg;Ll.jsxs=xg;(function(e){e.exports=Ll})(fE);const os=lo.Fragment,Oe=lo.jsx,tr=lo.jsxs;var Dc={},uo={},IE={get exports(){return uo},set exports(e){uo=e}},wr={},kc={},FE={get exports(){return kc},set exports(e){kc=e}},Eg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,ue){var pe=ae.length;ae.push(ue);e:for(;0<pe;){var Ee=pe-1>>>1,ye=ae[Ee];if(0<a(ye,ue))ae[Ee]=ue,ae[pe]=ye,pe=Ee;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var ue=ae[0],pe=ae.pop();if(pe!==ue){ae[0]=pe;e:for(var Ee=0,ye=ae.length,Ce=ye>>>1;Ee<Ce;){var we=2*(Ee+1)-1,Ue=ae[we],Be=we+1,Le=ae[Be];if(0>a(Ue,pe))Be<ye&&0>a(Le,Ue)?(ae[Ee]=Le,ae[Be]=pe,Ee=Be):(ae[Ee]=Ue,ae[we]=pe,Ee=we);else if(Be<ye&&0>a(Le,pe))ae[Ee]=Le,ae[Be]=pe,Ee=Be;else break e}}return ue}function a(ae,ue){var pe=ae.sortIndex-ue.sortIndex;return pe!==0?pe:ae.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var v=[],c=[],p=1,w=null,x=3,E=!1,T=!1,m=!1,L=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ae){for(var ue=r(c);ue!==null;){if(ue.callback===null)n(c);else if(ue.startTime<=ae)n(c),ue.sortIndex=ue.expirationTime,t(v,ue);else break;ue=r(c)}}function k(ae){if(m=!1,C(ae),!T)if(r(v)!==null)T=!0,Te(P);else{var ue=r(c);ue!==null&&_e(k,ue.startTime-ae)}}function P(ae,ue){T=!1,m&&(m=!1,_(H),H=-1),E=!0;var pe=x;try{for(C(ue),w=r(v);w!==null&&(!(w.expirationTime>ue)||ae&&!ee());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,x=w.priorityLevel;var ye=Ee(w.expirationTime<=ue);ue=e.unstable_now(),typeof ye=="function"?w.callback=ye:w===r(v)&&n(v),C(ue)}else n(v);w=r(v)}if(w!==null)var Ce=!0;else{var we=r(c);we!==null&&_e(k,we.startTime-ue),Ce=!1}return Ce}finally{w=null,x=pe,E=!1}}var I=!1,F=null,H=-1,Q=5,V=-1;function ee(){return!(e.unstable_now()-V<Q)}function ce(){if(F!==null){var ae=e.unstable_now();V=ae;var ue=!0;try{ue=F(!0,ae)}finally{ue?fe():(I=!1,F=null)}}else I=!1}var fe;if(typeof A=="function")fe=function(){A(ce)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ae=he.port2;he.port1.onmessage=ce,fe=function(){Ae.postMessage(null)}}else fe=function(){L(ce,0)};function Te(ae){F=ae,I||(I=!0,fe())}function _e(ae,ue){H=L(function(){ae(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){T||E||(T=!0,Te(P))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var pe=x;x=ue;try{return ae()}finally{x=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,ue){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var pe=x;x=ae;try{return ue()}finally{x=pe}},e.unstable_scheduleCallback=function(ae,ue,pe){var Ee=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ee+pe:Ee):pe=Ee,ae){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=pe+ye,ae={id:p++,callback:ue,priorityLevel:ae,startTime:pe,expirationTime:ye,sortIndex:-1},pe>Ee?(ae.sortIndex=pe,t(c,ae),r(v)===null&&ae===r(c)&&(m?(_(H),H=-1):m=!0,_e(k,pe-Ee))):(ae.sortIndex=ye,t(v,ae),T||E||(T=!0,Te(P))),ae},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(ae){var ue=x;return function(){var pe=x;x=ue;try{return ae.apply(this,arguments)}finally{x=pe}}}})(Eg);(function(e){e.exports=Eg})(FE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=se,Sr=kc;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ag=new Set,co={};function _i(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(co[e]=t,e=0;e<t.length;e++)Ag.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=Object.prototype.hasOwnProperty,ME=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hh={},Vh={};function NE(e){return Lc.call(Vh,e)?!0:Lc.call(Hh,e)?!1:ME.test(e)?Vh[e]=!0:(Hh[e]=!0,!1)}function BE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UE(e,t,r,n){if(t===null||typeof t>"u"||BE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cr(e,t,r,n,a,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new cr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new cr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new cr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new cr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new cr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new cr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new cr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new cr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new cr(e,5,!1,e.toLowerCase(),null,!1,!1)});var $f=/[\-:]([a-z])/g;function qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($f,qf);qt[t]=new cr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($f,qf);qt[t]=new cr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($f,qf);qt[t]=new cr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new cr(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new cr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yf(e,t,r,n){var a=qt.hasOwnProperty(t)?qt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UE(t,r,a,n)&&(r=null),n||a===null?NE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sn=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),Pc=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),Oc=Symbol.for("react.suspense"),Ic=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Rg=Symbol.for("react.offscreen"),Wh=Symbol.iterator;function Da(e){return e===null||typeof e!="object"?null:(e=Wh&&e[Wh]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,Bu;function za(e){if(Bu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bu=t&&t[1]||""}return`
`+Bu+e}var Uu=!1;function ju(e,t){if(!e||Uu)return"";Uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),u=a.length-1,f=o.length-1;1<=u&&0<=f&&a[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(a[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||a[u]!==o[f]){var v=`
`+a[u].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=u&&0<=f);break}}}finally{Uu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?za(e):""}function jE(e){switch(e.tag){case 5:return za(e.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return e=ju(e.type,!1),e;case 11:return e=ju(e.type.render,!1),e;case 1:return e=ju(e.type,!0),e;default:return""}}function Fc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case Bi:return"Portal";case Pc:return"Profiler";case Xf:return"StrictMode";case Oc:return"Suspense";case Ic:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tg:return(e.displayName||"Context")+".Consumer";case wg:return(e._context.displayName||"Context")+".Provider";case Jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zf:return t=e.displayName||null,t!==null?t:Fc(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return Fc(e(t))}catch{}}return null}function zE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(t);case 8:return t===Xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GE(e){var t=_g(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=GE(e))}function bg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_g(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mc(e,t){var r=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cg(e,t){t=t.checked,t!=null&&Yf(e,"checked",t,!1)}function Nc(e,t){Cg(e,t);var r=Qn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bc(e,t.type,Qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $h(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bc(e,t,r){(t!=="number"||Vs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ga=Array.isArray;function Ji(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Uc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(Ga(r)){if(1<r.length)throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qn(r)}}function Dg(e,t){var r=Qn(t.value),n=Qn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var us,Lg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KE=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(e){KE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$a[t]=$a[e]})});function Pg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$a.hasOwnProperty(e)&&$a[e]?(""+t).trim():t+"px"}function Og(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Pg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var HE=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(e,t){if(t){if(HE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,Zi=null,ea=null;function Xh(e){if(e=zo(e)){if(typeof Hc!="function")throw Error(me(280));var t=e.stateNode;t&&(t=Ml(t),Hc(e.stateNode,e.type,t))}}function Ig(e){Zi?ea?ea.push(e):ea=[e]:Zi=e}function Fg(){if(Zi){var e=Zi,t=ea;if(ea=Zi=null,Xh(e),t)for(e=0;e<t.length;e++)Xh(t[e])}}function Mg(e,t){return e(t)}function Ng(){}var zu=!1;function Bg(e,t,r){if(zu)return e(t,r);zu=!0;try{return Mg(e,t,r)}finally{zu=!1,(Zi!==null||ea!==null)&&(Ng(),Fg())}}function ho(e,t){var r=e.stateNode;if(r===null)return null;var n=Ml(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var Vc=!1;if(vn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Vc=!1}function VE(e,t,r,n,a,o,u,f,v){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(p){this.onError(p)}}var qa=!1,Ws=null,Qs=!1,Wc=null,WE={onError:function(e){qa=!0,Ws=e}};function QE(e,t,r,n,a,o,u,f,v){qa=!1,Ws=null,VE.apply(WE,arguments)}function $E(e,t,r,n,a,o,u,f,v){if(QE.apply(this,arguments),qa){if(qa){var c=Ws;qa=!1,Ws=null}else throw Error(me(198));Qs||(Qs=!0,Wc=c)}}function bi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ug(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(bi(e)!==e)throw Error(me(188))}function qE(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Jh(a),e;if(o===n)return Jh(a),t;o=o.sibling}throw Error(me(188))}if(r.return!==n.return)r=a,n=o;else{for(var u=!1,f=a.child;f;){if(f===r){u=!0,r=a,n=o;break}if(f===n){u=!0,n=a,r=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===r){u=!0,r=o,n=a;break}if(f===n){u=!0,n=o,r=a;break}f=f.sibling}if(!u)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function jg(e){return e=qE(e),e!==null?zg(e):null}function zg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zg(e);if(t!==null)return t;e=e.sibling}return null}var Gg=Sr.unstable_scheduleCallback,Zh=Sr.unstable_cancelCallback,YE=Sr.unstable_shouldYield,XE=Sr.unstable_requestPaint,Lt=Sr.unstable_now,JE=Sr.unstable_getCurrentPriorityLevel,td=Sr.unstable_ImmediatePriority,Kg=Sr.unstable_UserBlockingPriority,$s=Sr.unstable_NormalPriority,ZE=Sr.unstable_LowPriority,Hg=Sr.unstable_IdlePriority,Pl=null,Zr=null;function eS(e){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:nS,tS=Math.log,rS=Math.LN2;function nS(e){return e>>>=0,e===0?32:31-(tS(e)/rS|0)|0}var cs=64,fs=4194304;function Ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,u=r&268435455;if(u!==0){var f=u&~a;f!==0?n=Ka(f):(o&=u,o!==0&&(n=Ka(o)))}else u=r&~a,u!==0?n=Ka(u):o!==0&&(n=Ka(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zr(t),a=1<<r,n|=e[r],t&=~a;return n}function iS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-zr(o),f=1<<u,v=a[u];v===-1?(!(f&r)||f&n)&&(a[u]=iS(f,t)):v<=t&&(e.expiredLanes|=f),o&=~f}}function Qc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vg(){var e=cs;return cs<<=1,!(cs&4194240)&&(cs=64),e}function Gu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zr(t),e[t]=r}function oS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-zr(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function rd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var at=0;function Wg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qg,nd,$g,qg,Yg,$c=!1,ds=[],Nn=null,Bn=null,Un=null,po=new Map,vo=new Map,Pn=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function La(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=zo(t),t!==null&&nd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lS(e,t,r,n,a){switch(t){case"focusin":return Nn=La(Nn,e,t,r,n,a),!0;case"dragenter":return Bn=La(Bn,e,t,r,n,a),!0;case"mouseover":return Un=La(Un,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return po.set(o,La(po.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,vo.set(o,La(vo.get(o)||null,e,t,r,n,a)),!0}return!1}function Xg(e){var t=pi(e.target);if(t!==null){var r=bi(t);if(r!==null){if(t=r.tag,t===13){if(t=Ug(r),t!==null){e.blockedOn=t,Yg(e.priority,function(){$g(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Kc=n,r.target.dispatchEvent(n),Kc=null}else return t=zo(r),t!==null&&nd(t),e.blockedOn=r,!1;t.shift()}return!0}function tp(e,t,r){Ds(e)&&r.delete(t)}function uS(){$c=!1,Nn!==null&&Ds(Nn)&&(Nn=null),Bn!==null&&Ds(Bn)&&(Bn=null),Un!==null&&Ds(Un)&&(Un=null),po.forEach(tp),vo.forEach(tp)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,uS)))}function go(e){function t(a){return Pa(a,e)}if(0<ds.length){Pa(ds[0],e);for(var r=1;r<ds.length;r++){var n=ds[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nn!==null&&Pa(Nn,e),Bn!==null&&Pa(Bn,e),Un!==null&&Pa(Un,e),po.forEach(t),vo.forEach(t),r=0;r<Pn.length;r++)n=Pn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pn.length&&(r=Pn[0],r.blockedOn===null);)Xg(r),r.blockedOn===null&&Pn.shift()}var ta=Sn.ReactCurrentBatchConfig,Ys=!0;function cS(e,t,r,n){var a=at,o=ta.transition;ta.transition=null;try{at=1,id(e,t,r,n)}finally{at=a,ta.transition=o}}function fS(e,t,r,n){var a=at,o=ta.transition;ta.transition=null;try{at=4,id(e,t,r,n)}finally{at=a,ta.transition=o}}function id(e,t,r,n){if(Ys){var a=qc(e,t,r,n);if(a===null)Ju(e,t,n,Xs,r),ep(e,n);else if(lS(a,e,t,r,n))n.stopPropagation();else if(ep(e,n),t&4&&-1<sS.indexOf(e)){for(;a!==null;){var o=zo(a);if(o!==null&&Qg(o),o=qc(e,t,r,n),o===null&&Ju(e,t,n,Xs,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Ju(e,t,n,null,r)}}var Xs=null;function qc(e,t,r,n){if(Xs=null,e=ed(n),e=pi(e),e!==null)if(t=bi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ug(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xs=e,null}function Jg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JE()){case td:return 1;case Kg:return 4;case $s:case ZE:return 16;case Hg:return 536870912;default:return 16}default:return 16}}var Fn=null,ad=null,ks=null;function Zg(){if(ks)return ks;var e,t=ad,r=t.length,n,a="value"in Fn?Fn.value:Fn.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===a[o-n];n++);return ks=a.slice(e,1<n?1-n:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function rp(){return!1}function Tr(e){function t(r,n,a,o,u){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hs:rp,this.isPropagationStopped=rp,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=Tr(ma),jo=wt({},ma,{view:0,detail:0}),dS=Tr(jo),Ku,Hu,Oa,Ol=wt({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oa&&(Oa&&e.type==="mousemove"?(Ku=e.screenX-Oa.screenX,Hu=e.screenY-Oa.screenY):Hu=Ku=0,Oa=e),Ku)},movementY:function(e){return"movementY"in e?e.movementY:Hu}}),np=Tr(Ol),hS=wt({},Ol,{dataTransfer:0}),pS=Tr(hS),vS=wt({},jo,{relatedTarget:0}),Vu=Tr(vS),gS=wt({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=Tr(gS),yS=wt({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xS=Tr(yS),ES=wt({},ma,{data:0}),ip=Tr(ES),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wS[e])?!!t[e]:!1}function sd(){return TS}var RS=wt({},jo,{key:function(e){if(e.key){var t=SS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_S=Tr(RS),bS=wt({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=Tr(bS),CS=wt({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),DS=Tr(CS),kS=wt({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=Tr(kS),PS=wt({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=Tr(PS),IS=[9,13,27,32],ld=vn&&"CompositionEvent"in window,Ya=null;vn&&"documentMode"in document&&(Ya=document.documentMode);var FS=vn&&"TextEvent"in window&&!Ya,e0=vn&&(!ld||Ya&&8<Ya&&11>=Ya),op=String.fromCharCode(32),sp=!1;function t0(e,t){switch(e){case"keyup":return IS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function MS(e,t){switch(e){case"compositionend":return r0(t);case"keypress":return t.which!==32?null:(sp=!0,op);case"textInput":return e=t.data,e===op&&sp?null:e;default:return null}}function NS(e,t){if(ji)return e==="compositionend"||!ld&&t0(e,t)?(e=Zg(),ks=ad=Fn=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e0&&t.locale!=="ko"?null:t.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BS[e.type]:t==="textarea"}function n0(e,t,r,n){Ig(n),t=Js(t,"onChange"),0<t.length&&(r=new od("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xa=null,mo=null;function US(e){p0(e,0)}function Il(e){var t=Ki(e);if(bg(t))return e}function jS(e,t){if(e==="change")return t}var i0=!1;if(vn){var Wu;if(vn){var Qu="oninput"in document;if(!Qu){var up=document.createElement("div");up.setAttribute("oninput","return;"),Qu=typeof up.oninput=="function"}Wu=Qu}else Wu=!1;i0=Wu&&(!document.documentMode||9<document.documentMode)}function cp(){Xa&&(Xa.detachEvent("onpropertychange",a0),mo=Xa=null)}function a0(e){if(e.propertyName==="value"&&Il(mo)){var t=[];n0(t,mo,e,ed(e)),Bg(US,t)}}function zS(e,t,r){e==="focusin"?(cp(),Xa=t,mo=r,Xa.attachEvent("onpropertychange",a0)):e==="focusout"&&cp()}function GS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(mo)}function KS(e,t){if(e==="click")return Il(t)}function HS(e,t){if(e==="input"||e==="change")return Il(t)}function VS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kr=typeof Object.is=="function"?Object.is:VS;function yo(e,t){if(Kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Lc.call(t,a)||!Kr(e[a],t[a]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var r=fp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fp(r)}}function o0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s0(){for(var e=window,t=Vs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vs(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WS(e){var t=s0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&o0(r.ownerDocument.documentElement,r)){if(n!==null&&ud(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=dp(r,o);var u=dp(r,n);a&&u&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QS=vn&&"documentMode"in document&&11>=document.documentMode,zi=null,Yc=null,Ja=null,Xc=!1;function hp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||zi==null||zi!==Vs(n)||(n=zi,"selectionStart"in n&&ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ja&&yo(Ja,n)||(Ja=n,n=Js(Yc,"onSelect"),0<n.length&&(t=new od("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zi)))}function ps(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gi={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},$u={},l0={};vn&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Fl(e){if($u[e])return $u[e];if(!Gi[e])return e;var t=Gi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l0)return $u[e]=t[r];return e}var u0=Fl("animationend"),c0=Fl("animationiteration"),f0=Fl("animationstart"),d0=Fl("transitionend"),h0=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(e,t){h0.set(e,t),_i(t,[e])}for(var qu=0;qu<pp.length;qu++){var Yu=pp[qu],$S=Yu.toLowerCase(),qS=Yu[0].toUpperCase()+Yu.slice(1);ei($S,"on"+qS)}ei(u0,"onAnimationEnd");ei(c0,"onAnimationIteration");ei(f0,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(d0,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function vp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$E(n,t,void 0,e),e.currentTarget=null}function p0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var f=n[u],v=f.instance,c=f.currentTarget;if(f=f.listener,v!==o&&a.isPropagationStopped())break e;vp(a,f,c),o=v}else for(u=0;u<n.length;u++){if(f=n[u],v=f.instance,c=f.currentTarget,f=f.listener,v!==o&&a.isPropagationStopped())break e;vp(a,f,c),o=v}}}if(Qs)throw e=Wc,Qs=!1,Wc=null,e}function pt(e,t){var r=t[rf];r===void 0&&(r=t[rf]=new Set);var n=e+"__bubble";r.has(n)||(v0(t,e,2,!1),r.add(n))}function Xu(e,t,r){var n=0;t&&(n|=4),v0(r,e,n,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[vs]){e[vs]=!0,Ag.forEach(function(r){r!=="selectionchange"&&(YS.has(r)||Xu(r,!1,e),Xu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,Xu("selectionchange",!1,t))}}function v0(e,t,r,n){switch(Jg(t)){case 1:var a=cS;break;case 4:a=fS;break;default:a=id}r=a.bind(null,t,r,e),a=void 0,!Vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ju(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var f=n.stateNode.containerInfo;if(f===a||f.nodeType===8&&f.parentNode===a)break;if(u===4)for(u=n.return;u!==null;){var v=u.tag;if((v===3||v===4)&&(v=u.stateNode.containerInfo,v===a||v.nodeType===8&&v.parentNode===a))return;u=u.return}for(;f!==null;){if(u=pi(f),u===null)return;if(v=u.tag,v===5||v===6){n=o=u;continue e}f=f.parentNode}}n=n.return}Bg(function(){var c=o,p=ed(r),w=[];e:{var x=h0.get(e);if(x!==void 0){var E=od,T=e;switch(e){case"keypress":if(Ls(r)===0)break e;case"keydown":case"keyup":E=_S;break;case"focusin":T="focus",E=Vu;break;case"focusout":T="blur",E=Vu;break;case"beforeblur":case"afterblur":E=Vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=pS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=DS;break;case u0:case c0:case f0:E=mS;break;case d0:E=LS;break;case"scroll":E=dS;break;case"wheel":E=OS;break;case"copy":case"cut":case"paste":E=xS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=ap}var m=(t&4)!==0,L=!m&&e==="scroll",_=m?x!==null?x+"Capture":null:x;m=[];for(var A=c,C;A!==null;){C=A;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,_!==null&&(k=ho(A,_),k!=null&&m.push(Eo(A,k,C)))),L)break;A=A.return}0<m.length&&(x=new E(x,T,null,r,p),w.push({event:x,listeners:m}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",x&&r!==Kc&&(T=r.relatedTarget||r.fromElement)&&(pi(T)||T[gn]))break e;if((E||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,E?(T=r.relatedTarget||r.toElement,E=c,T=T?pi(T):null,T!==null&&(L=bi(T),T!==L||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=c),E!==T)){if(m=np,k="onMouseLeave",_="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(m=ap,k="onPointerLeave",_="onPointerEnter",A="pointer"),L=E==null?x:Ki(E),C=T==null?x:Ki(T),x=new m(k,A+"leave",E,r,p),x.target=L,x.relatedTarget=C,k=null,pi(p)===c&&(m=new m(_,A+"enter",T,r,p),m.target=C,m.relatedTarget=L,k=m),L=k,E&&T)t:{for(m=E,_=T,A=0,C=m;C;C=Mi(C))A++;for(C=0,k=_;k;k=Mi(k))C++;for(;0<A-C;)m=Mi(m),A--;for(;0<C-A;)_=Mi(_),C--;for(;A--;){if(m===_||_!==null&&m===_.alternate)break t;m=Mi(m),_=Mi(_)}m=null}else m=null;E!==null&&gp(w,x,E,m,!1),T!==null&&L!==null&&gp(w,L,T,m,!0)}}e:{if(x=c?Ki(c):window,E=x.nodeName&&x.nodeName.toLowerCase(),E==="select"||E==="input"&&x.type==="file")var P=jS;else if(lp(x))if(i0)P=HS;else{P=GS;var I=zS}else(E=x.nodeName)&&E.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(P=KS);if(P&&(P=P(e,c))){n0(w,P,r,p);break e}I&&I(e,x,c),e==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&Bc(x,"number",x.value)}switch(I=c?Ki(c):window,e){case"focusin":(lp(I)||I.contentEditable==="true")&&(zi=I,Yc=c,Ja=null);break;case"focusout":Ja=Yc=zi=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,hp(w,r,p);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":hp(w,r,p)}var F;if(ld)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ji?t0(e,r)&&(H="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(e0&&r.locale!=="ko"&&(ji||H!=="onCompositionStart"?H==="onCompositionEnd"&&ji&&(F=Zg()):(Fn=p,ad="value"in Fn?Fn.value:Fn.textContent,ji=!0)),I=Js(c,H),0<I.length&&(H=new ip(H,e,null,r,p),w.push({event:H,listeners:I}),F?H.data=F:(F=r0(r),F!==null&&(H.data=F)))),(F=FS?MS(e,r):NS(e,r))&&(c=Js(c,"onBeforeInput"),0<c.length&&(p=new ip("onBeforeInput","beforeinput",null,r,p),w.push({event:p,listeners:c}),p.data=F))}p0(w,t)})}function Eo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Js(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ho(e,r),o!=null&&n.unshift(Eo(e,o,a)),o=ho(e,t),o!=null&&n.push(Eo(e,o,a))),e=e.return}return n}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gp(e,t,r,n,a){for(var o=t._reactName,u=[];r!==null&&r!==n;){var f=r,v=f.alternate,c=f.stateNode;if(v!==null&&v===n)break;f.tag===5&&c!==null&&(f=c,a?(v=ho(r,o),v!=null&&u.unshift(Eo(r,v,f))):a||(v=ho(r,o),v!=null&&u.push(Eo(r,v,f)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var XS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(XS,`
`).replace(JS,"")}function gs(e,t,r){if(t=mp(t),mp(e)!==t&&r)throw Error(me(425))}function Zs(){}var Jc=null,Zc=null;function ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(tA)}:tf;function tA(e){setTimeout(function(){throw e})}function Zu(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),go(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);go(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Yr="__reactFiber$"+ya,So="__reactProps$"+ya,gn="__reactContainer$"+ya,rf="__reactEvents$"+ya,rA="__reactListeners$"+ya,nA="__reactHandles$"+ya;function pi(e){var t=e[Yr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[Yr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xp(e);e!==null;){if(r=e[Yr])return r;e=xp(e)}return t}e=r,r=e.parentNode}return null}function zo(e){return e=e[Yr]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function Ml(e){return e[So]||null}var nf=[],Hi=-1;function ti(e){return{current:e}}function vt(e){0>Hi||(e.current=nf[Hi],nf[Hi]=null,Hi--)}function dt(e,t){Hi++,nf[Hi]=e.current,e.current=t}var $n={},nr=ti($n),hr=ti(!1),Si=$n;function sa(e,t){var r=e.type.contextTypes;if(!r)return $n;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pr(e){return e=e.childContextTypes,e!=null}function el(){vt(hr),vt(nr)}function Ep(e,t,r){if(nr.current!==$n)throw Error(me(168));dt(nr,t),dt(hr,r)}function g0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(me(108,zE(e)||"Unknown",a));return wt({},r,n)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,Si=nr.current,dt(nr,e),dt(hr,hr.current),!0}function Sp(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=g0(e,t,Si),n.__reactInternalMemoizedMergedChildContext=e,vt(hr),vt(nr),dt(nr,e)):vt(hr),dt(hr,r)}var un=null,Nl=!1,ec=!1;function m0(e){un===null?un=[e]:un.push(e)}function iA(e){Nl=!0,m0(e)}function ri(){if(!ec&&un!==null){ec=!0;var e=0,t=at;try{var r=un;for(at=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}un=null,Nl=!1}catch(a){throw un!==null&&(un=un.slice(e+1)),Gg(td,ri),a}finally{at=t,ec=!1}}return null}var Vi=[],Wi=0,rl=null,nl=0,br=[],Cr=0,Ai=null,cn=1,fn="";function ci(e,t){Vi[Wi++]=nl,Vi[Wi++]=rl,rl=e,nl=t}function y0(e,t,r){br[Cr++]=cn,br[Cr++]=fn,br[Cr++]=Ai,Ai=e;var n=cn;e=fn;var a=32-zr(n)-1;n&=~(1<<a),r+=1;var o=32-zr(t)+a;if(30<o){var u=a-a%5;o=(n&(1<<u)-1).toString(32),n>>=u,a-=u,cn=1<<32-zr(t)+a|r<<a|n,fn=o+e}else cn=1<<o|r<<a|n,fn=e}function cd(e){e.return!==null&&(ci(e,1),y0(e,1,0))}function fd(e){for(;e===rl;)rl=Vi[--Wi],Vi[Wi]=null,nl=Vi[--Wi],Vi[Wi]=null;for(;e===Ai;)Ai=br[--Cr],br[Cr]=null,fn=br[--Cr],br[Cr]=null,cn=br[--Cr],br[Cr]=null}var Er=null,xr=null,Et=!1,jr=null;function x0(e,t){var r=Dr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ap(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,xr=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,xr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ai!==null?{id:cn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Er=e,xr=null,!0):!1;default:return!1}}function af(e){return(e.mode&1)!==0&&(e.flags&128)===0}function of(e){if(Et){var t=xr;if(t){var r=t;if(!Ap(e,t)){if(af(e))throw Error(me(418));t=jn(r.nextSibling);var n=Er;t&&Ap(e,t)?x0(n,r):(e.flags=e.flags&-4097|2,Et=!1,Er=e)}}else{if(af(e))throw Error(me(418));e.flags=e.flags&-4097|2,Et=!1,Er=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function ms(e){if(e!==Er)return!1;if(!Et)return wp(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ef(e.type,e.memoizedProps)),t&&(t=xr)){if(af(e))throw E0(),Error(me(418));for(;t;)x0(e,t),t=jn(t.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xr=jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xr=null}}else xr=Er?jn(e.stateNode.nextSibling):null;return!0}function E0(){for(var e=xr;e;)e=jn(e.nextSibling)}function la(){xr=Er=null,Et=!1}function dd(e){jr===null?jr=[e]:jr.push(e)}var aA=Sn.ReactCurrentBatchConfig;function Br(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var il=ti(null),al=null,Qi=null,hd=null;function pd(){hd=Qi=al=null}function vd(e){var t=il.current;vt(il),e._currentValue=t}function sf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ra(e,t){al=e,hd=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function Lr(e){var t=e._currentValue;if(hd!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(al===null)throw Error(me(308));Qi=e,al.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var vi=null;function gd(e){vi===null?vi=[e]:vi.push(e)}function S0(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,gd(t)):(r.next=a.next,a.next=r),t.interleaved=r,mn(e,n)}function mn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,mn(e,r)}return a=n.interleaved,a===null?(t.next=t,gd(n)):(t.next=a.next,a.next=t),n.interleaved=t,mn(e,r)}function Ps(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rd(e,r)}}function Tp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ol(e,t,r,n){var a=e.updateQueue;Ln=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,f=a.shared.pending;if(f!==null){a.shared.pending=null;var v=f,c=v.next;v.next=null,u===null?o=c:u.next=c,u=v;var p=e.alternate;p!==null&&(p=p.updateQueue,f=p.lastBaseUpdate,f!==u&&(f===null?p.firstBaseUpdate=c:f.next=c,p.lastBaseUpdate=v))}if(o!==null){var w=a.baseState;u=0,p=c=v=null,f=o;do{var x=f.lane,E=f.eventTime;if((n&x)===x){p!==null&&(p=p.next={eventTime:E,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var T=e,m=f;switch(x=t,E=r,m.tag){case 1:if(T=m.payload,typeof T=="function"){w=T.call(E,w,x);break e}w=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=m.payload,x=typeof T=="function"?T.call(E,w,x):T,x==null)break e;w=wt({},w,x);break e;case 2:Ln=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[f]:x.push(f))}else E={eventTime:E,lane:x,tag:f.tag,payload:f.payload,callback:f.callback,next:null},p===null?(c=p=E,v=w):p=p.next=E,u|=x;if(f=f.next,f===null){if(f=a.shared.pending,f===null)break;x=f,f=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(1);if(p===null&&(v=w),a.baseState=v,a.firstBaseUpdate=c,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Ti|=u,e.lanes=u,e.memoizedState=w}}function Rp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(me(191,a));a.call(n)}}}var w0=new Sg.Component().refs;function lf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bl={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lr(),a=Kn(e),o=dn(n,a);o.payload=t,r!=null&&(o.callback=r),t=zn(e,o,a),t!==null&&(Gr(t,e,a,n),Ps(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lr(),a=Kn(e),o=dn(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=zn(e,o,a),t!==null&&(Gr(t,e,a,n),Ps(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lr(),n=Kn(e),a=dn(r,n);a.tag=2,t!=null&&(a.callback=t),t=zn(e,a,n),t!==null&&(Gr(t,e,n,r),Ps(t,e,n))}};function _p(e,t,r,n,a,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!yo(r,n)||!yo(a,o):!0}function T0(e,t,r){var n=!1,a=$n,o=t.contextType;return typeof o=="object"&&o!==null?o=Lr(o):(a=pr(t)?Si:nr.current,n=t.contextTypes,o=(n=n!=null)?sa(e,a):$n),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function bp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function uf(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=w0,md(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Lr(o):(o=pr(t)?Si:nr.current,a.context=sa(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(lf(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bl.enqueueReplaceState(a,a.state,null),ol(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ia(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var f=a.refs;f===w0&&(f=a.refs={}),u===null?delete f[o]:f[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cp(e){var t=e._init;return t(e._payload)}function R0(e){function t(_,A){if(e){var C=_.deletions;C===null?(_.deletions=[A],_.flags|=16):C.push(A)}}function r(_,A){if(!e)return null;for(;A!==null;)t(_,A),A=A.sibling;return null}function n(_,A){for(_=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function a(_,A){return _=Hn(_,A),_.index=0,_.sibling=null,_}function o(_,A,C){return _.index=C,e?(C=_.alternate,C!==null?(C=C.index,C<A?(_.flags|=2,A):C):(_.flags|=2,A)):(_.flags|=1048576,A)}function u(_){return e&&_.alternate===null&&(_.flags|=2),_}function f(_,A,C,k){return A===null||A.tag!==6?(A=sc(C,_.mode,k),A.return=_,A):(A=a(A,C),A.return=_,A)}function v(_,A,C,k){var P=C.type;return P===Ui?p(_,A,C.props.children,k,C.key):A!==null&&(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===kn&&Cp(P)===A.type)?(k=a(A,C.props),k.ref=Ia(_,A,C),k.return=_,k):(k=Bs(C.type,C.key,C.props,null,_.mode,k),k.ref=Ia(_,A,C),k.return=_,k)}function c(_,A,C,k){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=lc(C,_.mode,k),A.return=_,A):(A=a(A,C.children||[]),A.return=_,A)}function p(_,A,C,k,P){return A===null||A.tag!==7?(A=Ei(C,_.mode,k,P),A.return=_,A):(A=a(A,C),A.return=_,A)}function w(_,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return A=sc(""+A,_.mode,C),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ss:return C=Bs(A.type,A.key,A.props,null,_.mode,C),C.ref=Ia(_,null,A),C.return=_,C;case Bi:return A=lc(A,_.mode,C),A.return=_,A;case kn:var k=A._init;return w(_,k(A._payload),C)}if(Ga(A)||Da(A))return A=Ei(A,_.mode,C,null),A.return=_,A;ys(_,A)}return null}function x(_,A,C,k){var P=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return P!==null?null:f(_,A,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ss:return C.key===P?v(_,A,C,k):null;case Bi:return C.key===P?c(_,A,C,k):null;case kn:return P=C._init,x(_,A,P(C._payload),k)}if(Ga(C)||Da(C))return P!==null?null:p(_,A,C,k,null);ys(_,C)}return null}function E(_,A,C,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(C)||null,f(A,_,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ss:return _=_.get(k.key===null?C:k.key)||null,v(A,_,k,P);case Bi:return _=_.get(k.key===null?C:k.key)||null,c(A,_,k,P);case kn:var I=k._init;return E(_,A,C,I(k._payload),P)}if(Ga(k)||Da(k))return _=_.get(C)||null,p(A,_,k,P,null);ys(A,k)}return null}function T(_,A,C,k){for(var P=null,I=null,F=A,H=A=0,Q=null;F!==null&&H<C.length;H++){F.index>H?(Q=F,F=null):Q=F.sibling;var V=x(_,F,C[H],k);if(V===null){F===null&&(F=Q);break}e&&F&&V.alternate===null&&t(_,F),A=o(V,A,H),I===null?P=V:I.sibling=V,I=V,F=Q}if(H===C.length)return r(_,F),Et&&ci(_,H),P;if(F===null){for(;H<C.length;H++)F=w(_,C[H],k),F!==null&&(A=o(F,A,H),I===null?P=F:I.sibling=F,I=F);return Et&&ci(_,H),P}for(F=n(_,F);H<C.length;H++)Q=E(F,_,H,C[H],k),Q!==null&&(e&&Q.alternate!==null&&F.delete(Q.key===null?H:Q.key),A=o(Q,A,H),I===null?P=Q:I.sibling=Q,I=Q);return e&&F.forEach(function(ee){return t(_,ee)}),Et&&ci(_,H),P}function m(_,A,C,k){var P=Da(C);if(typeof P!="function")throw Error(me(150));if(C=P.call(C),C==null)throw Error(me(151));for(var I=P=null,F=A,H=A=0,Q=null,V=C.next();F!==null&&!V.done;H++,V=C.next()){F.index>H?(Q=F,F=null):Q=F.sibling;var ee=x(_,F,V.value,k);if(ee===null){F===null&&(F=Q);break}e&&F&&ee.alternate===null&&t(_,F),A=o(ee,A,H),I===null?P=ee:I.sibling=ee,I=ee,F=Q}if(V.done)return r(_,F),Et&&ci(_,H),P;if(F===null){for(;!V.done;H++,V=C.next())V=w(_,V.value,k),V!==null&&(A=o(V,A,H),I===null?P=V:I.sibling=V,I=V);return Et&&ci(_,H),P}for(F=n(_,F);!V.done;H++,V=C.next())V=E(F,_,H,V.value,k),V!==null&&(e&&V.alternate!==null&&F.delete(V.key===null?H:V.key),A=o(V,A,H),I===null?P=V:I.sibling=V,I=V);return e&&F.forEach(function(ce){return t(_,ce)}),Et&&ci(_,H),P}function L(_,A,C,k){if(typeof C=="object"&&C!==null&&C.type===Ui&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ss:e:{for(var P=C.key,I=A;I!==null;){if(I.key===P){if(P=C.type,P===Ui){if(I.tag===7){r(_,I.sibling),A=a(I,C.props.children),A.return=_,_=A;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===kn&&Cp(P)===I.type){r(_,I.sibling),A=a(I,C.props),A.ref=Ia(_,I,C),A.return=_,_=A;break e}r(_,I);break}else t(_,I);I=I.sibling}C.type===Ui?(A=Ei(C.props.children,_.mode,k,C.key),A.return=_,_=A):(k=Bs(C.type,C.key,C.props,null,_.mode,k),k.ref=Ia(_,A,C),k.return=_,_=k)}return u(_);case Bi:e:{for(I=C.key;A!==null;){if(A.key===I)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){r(_,A.sibling),A=a(A,C.children||[]),A.return=_,_=A;break e}else{r(_,A);break}else t(_,A);A=A.sibling}A=lc(C,_.mode,k),A.return=_,_=A}return u(_);case kn:return I=C._init,L(_,A,I(C._payload),k)}if(Ga(C))return T(_,A,C,k);if(Da(C))return m(_,A,C,k);ys(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,A!==null&&A.tag===6?(r(_,A.sibling),A=a(A,C),A.return=_,_=A):(r(_,A),A=sc(C,_.mode,k),A.return=_,_=A),u(_)):r(_,A)}return L}var ua=R0(!0),_0=R0(!1),Go={},en=ti(Go),Ao=ti(Go),wo=ti(Go);function gi(e){if(e===Go)throw Error(me(174));return e}function yd(e,t){switch(dt(wo,t),dt(Ao,e),dt(en,Go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jc(t,e)}vt(en),dt(en,t)}function ca(){vt(en),vt(Ao),vt(wo)}function b0(e){gi(wo.current);var t=gi(en.current),r=jc(t,e.type);t!==r&&(dt(Ao,e),dt(en,r))}function xd(e){Ao.current===e&&(vt(en),vt(Ao))}var St=ti(0);function sl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tc=[];function Ed(){for(var e=0;e<tc.length;e++)tc[e]._workInProgressVersionPrimary=null;tc.length=0}var Os=Sn.ReactCurrentDispatcher,rc=Sn.ReactCurrentBatchConfig,wi=0,At=null,Bt=null,Gt=null,ll=!1,Za=!1,To=0,oA=0;function Xt(){throw Error(me(321))}function Sd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function Ad(e,t,r,n,a,o){if(wi=o,At=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Os.current=e===null||e.memoizedState===null?cA:fA,e=r(n,a),Za){o=0;do{if(Za=!1,To=0,25<=o)throw Error(me(301));o+=1,Gt=Bt=null,t.updateQueue=null,Os.current=dA,e=r(n,a)}while(Za)}if(Os.current=ul,t=Bt!==null&&Bt.next!==null,wi=0,Gt=Bt=At=null,ll=!1,t)throw Error(me(300));return e}function wd(){var e=To!==0;return To=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?At.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Pr(){if(Bt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=Gt===null?At.memoizedState:Gt.next;if(t!==null)Gt=t,Bt=e;else{if(e===null)throw Error(me(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?At.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function Ro(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=Pr(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=Bt,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var u=a.next;a.next=o.next,o.next=u}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var f=u=null,v=null,c=o;do{var p=c.lane;if((wi&p)===p)v!==null&&(v=v.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var w={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};v===null?(f=v=w,u=n):v=v.next=w,At.lanes|=p,Ti|=p}c=c.next}while(c!==null&&c!==o);v===null?u=n:v.next=f,Kr(n,t.memoizedState)||(dr=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,At.lanes|=o,Ti|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ic(e){var t=Pr(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var u=a=a.next;do o=e(o,u.action),u=u.next;while(u!==a);Kr(o,t.memoizedState)||(dr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function C0(){}function D0(e,t){var r=At,n=Pr(),a=t(),o=!Kr(n.memoizedState,a);if(o&&(n.memoizedState=a,dr=!0),n=n.queue,Td(P0.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,_o(9,L0.bind(null,r,n,a,t),void 0,null),Kt===null)throw Error(me(349));wi&30||k0(r,t,a)}return a}function k0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function L0(e,t,r,n){t.value=r,t.getSnapshot=n,O0(t)&&I0(e)}function P0(e,t,r){return r(function(){O0(t)&&I0(e)})}function O0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch{return!0}}function I0(e){var t=mn(e,1);t!==null&&Gr(t,e,1,-1)}function Dp(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=uA.bind(null,At,e),[t.memoizedState,e]}function _o(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function F0(){return Pr().memoizedState}function Is(e,t,r,n){var a=$r();At.flags|=e,a.memoizedState=_o(1|t,r,void 0,n===void 0?null:n)}function Ul(e,t,r,n){var a=Pr();n=n===void 0?null:n;var o=void 0;if(Bt!==null){var u=Bt.memoizedState;if(o=u.destroy,n!==null&&Sd(n,u.deps)){a.memoizedState=_o(t,r,o,n);return}}At.flags|=e,a.memoizedState=_o(1|t,r,o,n)}function kp(e,t){return Is(8390656,8,e,t)}function Td(e,t){return Ul(2048,8,e,t)}function M0(e,t){return Ul(4,2,e,t)}function N0(e,t){return Ul(4,4,e,t)}function B0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U0(e,t,r){return r=r!=null?r.concat([e]):null,Ul(4,4,B0.bind(null,t,e),r)}function Rd(){}function j0(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function z0(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function G0(e,t,r){return wi&21?(Kr(r,t)||(r=Vg(),At.lanes|=r,Ti|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=r)}function sA(e,t){var r=at;at=r!==0&&4>r?r:4,e(!0);var n=rc.transition;rc.transition={};try{e(!1),t()}finally{at=r,rc.transition=n}}function K0(){return Pr().memoizedState}function lA(e,t,r){var n=Kn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},H0(e))V0(t,r);else if(r=S0(e,t,r,n),r!==null){var a=lr();Gr(r,e,n,a),W0(r,t,n)}}function uA(e,t,r){var n=Kn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(H0(e))V0(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,f=o(u,r);if(a.hasEagerState=!0,a.eagerState=f,Kr(f,u)){var v=t.interleaved;v===null?(a.next=a,gd(t)):(a.next=v.next,v.next=a),t.interleaved=a;return}}catch{}finally{}r=S0(e,t,a,n),r!==null&&(a=lr(),Gr(r,e,n,a),W0(r,t,n))}}function H0(e){var t=e.alternate;return e===At||t!==null&&t===At}function V0(e,t){Za=ll=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function W0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rd(e,r)}}var ul={readContext:Lr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},cA={readContext:Lr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:Lr,useEffect:kp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Is(4194308,4,B0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lA.bind(null,At,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:Dp,useDebugValue:Rd,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=Dp(!1),t=e[0];return e=sA.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=At,a=$r();if(Et){if(r===void 0)throw Error(me(407));r=r()}else{if(r=t(),Kt===null)throw Error(me(349));wi&30||k0(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,kp(P0.bind(null,n,o,e),[e]),n.flags|=2048,_o(9,L0.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=$r(),t=Kt.identifierPrefix;if(Et){var r=fn,n=cn;r=(n&~(1<<32-zr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=To++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fA={readContext:Lr,useCallback:j0,useContext:Lr,useEffect:Td,useImperativeHandle:U0,useInsertionEffect:M0,useLayoutEffect:N0,useMemo:z0,useReducer:nc,useRef:F0,useState:function(){return nc(Ro)},useDebugValue:Rd,useDeferredValue:function(e){var t=Pr();return G0(t,Bt.memoizedState,e)},useTransition:function(){var e=nc(Ro)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:C0,useSyncExternalStore:D0,useId:K0,unstable_isNewReconciler:!1},dA={readContext:Lr,useCallback:j0,useContext:Lr,useEffect:Td,useImperativeHandle:U0,useInsertionEffect:M0,useLayoutEffect:N0,useMemo:z0,useReducer:ic,useRef:F0,useState:function(){return ic(Ro)},useDebugValue:Rd,useDeferredValue:function(e){var t=Pr();return Bt===null?t.memoizedState=e:G0(t,Bt.memoizedState,e)},useTransition:function(){var e=ic(Ro)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:C0,useSyncExternalStore:D0,useId:K0,unstable_isNewReconciler:!1};function fa(e,t){try{var r="",n=t;do r+=jE(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function ac(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hA=typeof WeakMap=="function"?WeakMap:Map;function Q0(e,t,r){r=dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fl||(fl=!0,Ef=n),cf(e,t)},r}function $0(e,t,r){r=dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){cf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){cf(e,t),typeof n!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Lp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=bA.bind(null,e,t,r),t.then(e,e))}function Pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Op(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dn(-1,1),t.tag=2,zn(r,t,1))),r.lanes|=1),e)}var pA=Sn.ReactCurrentOwner,dr=!1;function sr(e,t,r,n){t.child=e===null?_0(t,null,r,n):ua(t,e.child,r,n)}function Ip(e,t,r,n,a){r=r.render;var o=t.ref;return ra(t,a),n=Ad(e,t,r,n,o,a),r=wd(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yn(e,t,a)):(Et&&r&&cd(t),t.flags|=1,sr(e,t,n,a),t.child)}function Fp(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Od(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,q0(e,t,o,n,a)):(e=Bs(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var u=o.memoizedProps;if(r=r.compare,r=r!==null?r:yo,r(u,n)&&e.ref===t.ref)return yn(e,t,a)}return t.flags|=1,e=Hn(o,n),e.ref=t.ref,e.return=t,t.child=e}function q0(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(yo(o,n)&&e.ref===t.ref)if(dr=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,yn(e,t,a)}return ff(e,t,r,n,a)}function Y0(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(qi,yr),yr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(qi,yr),yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,dt(qi,yr),yr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,dt(qi,yr),yr|=n;return sr(e,t,a,r),t.child}function X0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ff(e,t,r,n,a){var o=pr(r)?Si:nr.current;return o=sa(t,o),ra(t,a),r=Ad(e,t,r,n,o,a),n=wd(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yn(e,t,a)):(Et&&n&&cd(t),t.flags|=1,sr(e,t,r,a),t.child)}function Mp(e,t,r,n,a){if(pr(r)){var o=!0;tl(t)}else o=!1;if(ra(t,a),t.stateNode===null)Fs(e,t),T0(t,r,n),uf(t,r,n,a),n=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var v=u.context,c=r.contextType;typeof c=="object"&&c!==null?c=Lr(c):(c=pr(r)?Si:nr.current,c=sa(t,c));var p=r.getDerivedStateFromProps,w=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function";w||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==n||v!==c)&&bp(t,u,n,c),Ln=!1;var x=t.memoizedState;u.state=x,ol(t,n,u,a),v=t.memoizedState,f!==n||x!==v||hr.current||Ln?(typeof p=="function"&&(lf(t,r,p,n),v=t.memoizedState),(f=Ln||_p(t,r,f,n,x,v,c))?(w||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),u.props=n,u.state=v,u.context=c,n=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,A0(e,t),f=t.memoizedProps,c=t.type===t.elementType?f:Br(t.type,f),u.props=c,w=t.pendingProps,x=u.context,v=r.contextType,typeof v=="object"&&v!==null?v=Lr(v):(v=pr(r)?Si:nr.current,v=sa(t,v));var E=r.getDerivedStateFromProps;(p=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==w||x!==v)&&bp(t,u,n,v),Ln=!1,x=t.memoizedState,u.state=x,ol(t,n,u,a);var T=t.memoizedState;f!==w||x!==T||hr.current||Ln?(typeof E=="function"&&(lf(t,r,E,n),T=t.memoizedState),(c=Ln||_p(t,r,c,n,x,T,v)||!1)?(p||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,T,v),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,T,v)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=T),u.props=n,u.state=T,u.context=v,n=c):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return df(e,t,r,n,o,a)}function df(e,t,r,n,a,o){X0(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return a&&Sp(t,r,!1),yn(e,t,o);n=t.stateNode,pA.current=t;var f=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=ua(t,e.child,null,o),t.child=ua(t,null,f,o)):sr(e,t,f,o),t.memoizedState=n.state,a&&Sp(t,r,!0),t.child}function J0(e){var t=e.stateNode;t.pendingContext?Ep(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ep(e,t.context,!1),yd(e,t.containerInfo)}function Np(e,t,r,n,a){return la(),dd(a),t.flags|=256,sr(e,t,r,n),t.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function pf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z0(e,t,r){var n=t.pendingProps,a=St.current,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(a&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),dt(St,a&1),e===null)return of(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,o?(n=t.mode,o=t.child,u={mode:"hidden",children:u},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=Gl(u,n,0,null),e=Ei(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=pf(r),t.memoizedState=hf,e):_d(t,u));if(a=e.memoizedState,a!==null&&(f=a.dehydrated,f!==null))return vA(e,t,u,n,f,a,r);if(o){o=n.fallback,u=t.mode,a=e.child,f=a.sibling;var v={mode:"hidden",children:n.children};return!(u&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=v,t.deletions=null):(n=Hn(a,v),n.subtreeFlags=a.subtreeFlags&14680064),f!==null?o=Hn(f,o):(o=Ei(o,u,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,u=e.child.memoizedState,u=u===null?pf(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~r,t.memoizedState=hf,n}return o=e.child,e=o.sibling,n=Hn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _d(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xs(e,t,r,n){return n!==null&&dd(n),ua(t,e.child,null,r),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vA(e,t,r,n,a,o,u){if(r)return t.flags&256?(t.flags&=-257,n=ac(Error(me(422))),xs(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Gl({mode:"visible",children:n.children},a,0,null),o=Ei(o,a,u,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ua(t,e.child,null,u),t.child.memoizedState=pf(u),t.memoizedState=hf,o);if(!(t.mode&1))return xs(e,t,u,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var f=n.dgst;return n=f,o=Error(me(419)),n=ac(o,n,void 0),xs(e,t,u,n)}if(f=(u&e.childLanes)!==0,dr||f){if(n=Kt,n!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|u)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,mn(e,a),Gr(n,e,a,-1))}return Pd(),n=ac(Error(me(421))),xs(e,t,u,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=CA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,xr=jn(a.nextSibling),Er=t,Et=!0,jr=null,e!==null&&(br[Cr++]=cn,br[Cr++]=fn,br[Cr++]=Ai,cn=e.id,fn=e.overflow,Ai=t),t=_d(t,n.children),t.flags|=4096,t)}function Bp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sf(e.return,t,r)}function oc(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function em(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(sr(e,t,n.children,r),n=St.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,r,t);else if(e.tag===19)Bp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(dt(St,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sl(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),oc(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sl(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oc(t,!0,r,null,o);break;case"together":oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ti|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=Hn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gA(e,t,r){switch(t.tag){case 3:J0(t),la();break;case 5:b0(t);break;case 1:pr(t.type)&&tl(t);break;case 4:yd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;dt(il,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(dt(St,St.current&1),t.flags|=128,null):r&t.child.childLanes?Z0(e,t,r):(dt(St,St.current&1),e=yn(e,t,r),e!==null?e.sibling:null);dt(St,St.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return em(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),dt(St,St.current),n)break;return null;case 22:case 23:return t.lanes=0,Y0(e,t,r)}return yn(e,t,r)}var tm,vf,rm,nm;tm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vf=function(){};rm=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,gi(en.current);var o=null;switch(r){case"input":a=Mc(e,a),n=Mc(e,n),o=[];break;case"select":a=wt({},a,{value:void 0}),n=wt({},n,{value:void 0}),o=[];break;case"textarea":a=Uc(e,a),n=Uc(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zs)}zc(r,n);var u;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var f=a[c];for(u in f)f.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(co.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var v=n[c];if(f=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&v!==f&&(v!=null||f!=null))if(c==="style")if(f){for(u in f)!f.hasOwnProperty(u)||v&&v.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in v)v.hasOwnProperty(u)&&f[u]!==v[u]&&(r||(r={}),r[u]=v[u])}else r||(o||(o=[]),o.push(c,r)),r=v;else c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,f=f?f.__html:void 0,v!=null&&f!==v&&(o=o||[]).push(c,v)):c==="children"?typeof v!="string"&&typeof v!="number"||(o=o||[]).push(c,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(co.hasOwnProperty(c)?(v!=null&&c==="onScroll"&&pt("scroll",e),o||f===v||(o=[])):(o=o||[]).push(c,v))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};nm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fa(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mA(e,t,r){var n=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return pr(t.type)&&el(),Jt(t),null;case 3:return n=t.stateNode,ca(),vt(hr),vt(nr),Ed(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jr!==null&&(wf(jr),jr=null))),vf(e,t),Jt(t),null;case 5:xd(t);var a=gi(wo.current);if(r=t.type,e!==null&&t.stateNode!=null)rm(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(me(166));return Jt(t),null}if(e=gi(en.current),ms(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Yr]=t,n[So]=o,e=(t.mode&1)!==0,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(a=0;a<Ha.length;a++)pt(Ha[a],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":Qh(n,o),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},pt("invalid",n);break;case"textarea":qh(n,o),pt("invalid",n)}zc(r,o),a=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?n.textContent!==f&&(o.suppressHydrationWarning!==!0&&gs(n.textContent,f,e),a=["children",f]):typeof f=="number"&&n.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&gs(n.textContent,f,e),a=["children",""+f]):co.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&pt("scroll",n)}switch(r){case"input":ls(n),$h(n,o,!0);break;case"textarea":ls(n),Yh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Zs)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Yr]=t,e[So]=n,tm(e,t,!1,!1),t.stateNode=e;e:{switch(u=Gc(r,n),r){case"dialog":pt("cancel",e),pt("close",e),a=n;break;case"iframe":case"object":case"embed":pt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ha.length;a++)pt(Ha[a],e);a=n;break;case"source":pt("error",e),a=n;break;case"img":case"image":case"link":pt("error",e),pt("load",e),a=n;break;case"details":pt("toggle",e),a=n;break;case"input":Qh(e,n),a=Mc(e,n),pt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=wt({},n,{value:void 0}),pt("invalid",e);break;case"textarea":qh(e,n),a=Uc(e,n),pt("invalid",e);break;default:a=n}zc(r,a),f=a;for(o in f)if(f.hasOwnProperty(o)){var v=f[o];o==="style"?Og(e,v):o==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Lg(e,v)):o==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&fo(e,v):typeof v=="number"&&fo(e,""+v):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(co.hasOwnProperty(o)?v!=null&&o==="onScroll"&&pt("scroll",e):v!=null&&Yf(e,o,v,u))}switch(r){case"input":ls(e),$h(e,n,!1);break;case"textarea":ls(e),Yh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ji(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ji(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jt(t),null;case 6:if(e&&t.stateNode!=null)nm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));if(r=gi(wo.current),gi(en.current),ms(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yr]=t,(o=n.nodeValue!==r)&&(e=Er,e!==null))switch(e.tag){case 3:gs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yr]=t,t.stateNode=n}return Jt(t),null;case 13:if(vt(St),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&xr!==null&&t.mode&1&&!(t.flags&128))E0(),la(),t.flags|=98560,o=!1;else if(o=ms(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(me(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(me(317));o[Yr]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jt(t),o=!1}else jr!==null&&(wf(jr),jr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Ut===0&&(Ut=3):Pd())),t.updateQueue!==null&&(t.flags|=4),Jt(t),null);case 4:return ca(),vf(e,t),e===null&&xo(t.stateNode.containerInfo),Jt(t),null;case 10:return vd(t.type._context),Jt(t),null;case 17:return pr(t.type)&&el(),Jt(t),null;case 19:if(vt(St),o=t.memoizedState,o===null)return Jt(t),null;if(n=(t.flags&128)!==0,u=o.rendering,u===null)if(n)Fa(o,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=sl(e),u!==null){for(t.flags|=128,Fa(o,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return dt(St,St.current&1|2),t.child}e=e.sibling}o.tail!==null&&Lt()>da&&(t.flags|=128,n=!0,Fa(o,!1),t.lanes=4194304)}else{if(!n)if(e=sl(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Et)return Jt(t),null}else 2*Lt()-o.renderingStartTime>da&&r!==1073741824&&(t.flags|=128,n=!0,Fa(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(r=o.last,r!==null?r.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Lt(),t.sibling=null,r=St.current,dt(St,n?r&1|2:r&1),t):(Jt(t),null);case 22:case 23:return Ld(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yr&1073741824&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function yA(e,t){switch(fd(t),t.tag){case 1:return pr(t.type)&&el(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(),vt(hr),vt(nr),Ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xd(t),null;case 13:if(vt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(St),null;case 4:return ca(),null;case 10:return vd(t.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Es=!1,er=!1,xA=typeof WeakSet=="function"?WeakSet:Set,be=null;function $i(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(e,t,n)}else r.current=null}function gf(e,t,r){try{r()}catch(n){_t(e,t,n)}}var Up=!1;function EA(e,t){if(Jc=Ys,e=s0(),ud(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var u=0,f=-1,v=-1,c=0,p=0,w=e,x=null;t:for(;;){for(var E;w!==r||a!==0&&w.nodeType!==3||(f=u+a),w!==o||n!==0&&w.nodeType!==3||(v=u+n),w.nodeType===3&&(u+=w.nodeValue.length),(E=w.firstChild)!==null;)x=w,w=E;for(;;){if(w===e)break t;if(x===r&&++c===a&&(f=u),x===o&&++p===n&&(v=u),(E=w.nextSibling)!==null)break;w=x,x=w.parentNode}w=E}r=f===-1||v===-1?null:{start:f,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zc={focusedElem:e,selectionRange:r},Ys=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var m=T.memoizedProps,L=T.memoizedState,_=t.stateNode,A=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:Br(t.type,m),L);_.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(k){_t(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return T=Up,Up=!1,T}function eo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&gf(t,r,o)}a=a.next}while(a!==n)}}function jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function im(e){var t=e.alternate;t!==null&&(e.alternate=null,im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yr],delete t[So],delete t[rf],delete t[rA],delete t[nA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function am(e){return e.tag===5||e.tag===3||e.tag===4}function jp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zs));else if(n!==4&&(e=e.child,e!==null))for(yf(e,t,r),e=e.sibling;e!==null;)yf(e,t,r),e=e.sibling}function xf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xf(e,t,r),e=e.sibling;e!==null;)xf(e,t,r),e=e.sibling}var Qt=null,Ur=!1;function _n(e,t,r){for(r=r.child;r!==null;)om(e,t,r),r=r.sibling}function om(e,t,r){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Pl,r)}catch{}switch(r.tag){case 5:er||$i(r,t);case 6:var n=Qt,a=Ur;Qt=null,_n(e,t,r),Qt=n,Ur=a,Qt!==null&&(Ur?(e=Qt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qt.removeChild(r.stateNode));break;case 18:Qt!==null&&(Ur?(e=Qt,r=r.stateNode,e.nodeType===8?Zu(e.parentNode,r):e.nodeType===1&&Zu(e,r),go(e)):Zu(Qt,r.stateNode));break;case 4:n=Qt,a=Ur,Qt=r.stateNode.containerInfo,Ur=!0,_n(e,t,r),Qt=n,Ur=a;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&gf(r,t,u),a=a.next}while(a!==n)}_n(e,t,r);break;case 1:if(!er&&($i(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(f){_t(r,t,f)}_n(e,t,r);break;case 21:_n(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,_n(e,t,r),er=n):_n(e,t,r);break;default:_n(e,t,r)}}function zp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xA),t.forEach(function(n){var a=DA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:Qt=f.stateNode,Ur=!1;break e;case 3:Qt=f.stateNode.containerInfo,Ur=!0;break e;case 4:Qt=f.stateNode.containerInfo,Ur=!0;break e}f=f.return}if(Qt===null)throw Error(me(160));om(o,u,a),Qt=null,Ur=!1;var v=a.alternate;v!==null&&(v.return=null),a.return=null}catch(c){_t(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sm(t,e),t=t.sibling}function sm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),Qr(e),n&4){try{eo(3,e,e.return),jl(3,e)}catch(m){_t(e,e.return,m)}try{eo(5,e,e.return)}catch(m){_t(e,e.return,m)}}break;case 1:Nr(t,e),Qr(e),n&512&&r!==null&&$i(r,r.return);break;case 5:if(Nr(t,e),Qr(e),n&512&&r!==null&&$i(r,r.return),e.flags&32){var a=e.stateNode;try{fo(a,"")}catch(m){_t(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,u=r!==null?r.memoizedProps:o,f=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&Cg(a,o),Gc(f,u);var c=Gc(f,o);for(u=0;u<v.length;u+=2){var p=v[u],w=v[u+1];p==="style"?Og(a,w):p==="dangerouslySetInnerHTML"?Lg(a,w):p==="children"?fo(a,w):Yf(a,p,w,c)}switch(f){case"input":Nc(a,o);break;case"textarea":Dg(a,o);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Ji(a,!!o.multiple,E,!1):x!==!!o.multiple&&(o.defaultValue!=null?Ji(a,!!o.multiple,o.defaultValue,!0):Ji(a,!!o.multiple,o.multiple?[]:"",!1))}a[So]=o}catch(m){_t(e,e.return,m)}}break;case 6:if(Nr(t,e),Qr(e),n&4){if(e.stateNode===null)throw Error(me(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){_t(e,e.return,m)}}break;case 3:if(Nr(t,e),Qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(m){_t(e,e.return,m)}break;case 4:Nr(t,e),Qr(e);break;case 13:Nr(t,e),Qr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Dd=Lt())),n&4&&zp(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(er=(c=er)||p,Nr(t,e),er=c):Nr(t,e),Qr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(be=e,p=e.child;p!==null;){for(w=be=p;be!==null;){switch(x=be,E=x.child,x.tag){case 0:case 11:case 14:case 15:eo(4,x,x.return);break;case 1:$i(x,x.return);var T=x.stateNode;if(typeof T.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(m){_t(n,r,m)}}break;case 5:$i(x,x.return);break;case 22:if(x.memoizedState!==null){Kp(w);continue}}E!==null?(E.return=x,be=E):Kp(w)}p=p.sibling}e:for(p=null,w=e;;){if(w.tag===5){if(p===null){p=w;try{a=w.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=w.stateNode,v=w.memoizedProps.style,u=v!=null&&v.hasOwnProperty("display")?v.display:null,f.style.display=Pg("display",u))}catch(m){_t(e,e.return,m)}}}else if(w.tag===6){if(p===null)try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(m){_t(e,e.return,m)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;p===w&&(p=null),w=w.return}p===w&&(p=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Nr(t,e),Qr(e),n&4&&zp(e);break;case 21:break;default:Nr(t,e),Qr(e)}}function Qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(am(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(fo(a,""),n.flags&=-33);var o=jp(e);xf(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,f=jp(e);yf(e,f,u);break;default:throw Error(me(161))}}catch(v){_t(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SA(e,t,r){be=e,lm(e)}function lm(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var a=be,o=a.child;if(a.tag===22&&n){var u=a.memoizedState!==null||Es;if(!u){var f=a.alternate,v=f!==null&&f.memoizedState!==null||er;f=Es;var c=er;if(Es=u,(er=v)&&!c)for(be=a;be!==null;)u=be,v=u.child,u.tag===22&&u.memoizedState!==null?Hp(a):v!==null?(v.return=u,be=v):Hp(a);for(;o!==null;)be=o,lm(o),o=o.sibling;be=a,Es=f,er=c}Gp(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,be=o):Gp(e)}}function Gp(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||jl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Br(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Rp(t,o,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Rp(t,u,r)}break;case 5:var f=t.stateNode;if(r===null&&t.flags&4){r=f;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var w=p.dehydrated;w!==null&&go(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}er||t.flags&512&&mf(t)}catch(x){_t(t,t.return,x)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Kp(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Hp(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jl(4,t)}catch(v){_t(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(v){_t(t,a,v)}}var o=t.return;try{mf(t)}catch(v){_t(t,o,v)}break;case 5:var u=t.return;try{mf(t)}catch(v){_t(t,u,v)}}}catch(v){_t(t,t.return,v)}if(t===e){be=null;break}var f=t.sibling;if(f!==null){f.return=t.return,be=f;break}be=t.return}}var AA=Math.ceil,cl=Sn.ReactCurrentDispatcher,bd=Sn.ReactCurrentOwner,kr=Sn.ReactCurrentBatchConfig,tt=0,Kt=null,It=null,$t=0,yr=0,qi=ti(0),Ut=0,bo=null,Ti=0,zl=0,Cd=0,to=null,fr=null,Dd=0,da=1/0,sn=null,fl=!1,Ef=null,Gn=null,Ss=!1,Mn=null,dl=0,ro=0,Sf=null,Ms=-1,Ns=0;function lr(){return tt&6?Lt():Ms!==-1?Ms:Ms=Lt()}function Kn(e){return e.mode&1?tt&2&&$t!==0?$t&-$t:aA.transition!==null?(Ns===0&&(Ns=Vg()),Ns):(e=at,e!==0||(e=window.event,e=e===void 0?16:Jg(e.type)),e):1}function Gr(e,t,r,n){if(50<ro)throw ro=0,Sf=null,Error(me(185));Uo(e,r,n),(!(tt&2)||e!==Kt)&&(e===Kt&&(!(tt&2)&&(zl|=r),Ut===4&&On(e,$t)),vr(e,n),r===1&&tt===0&&!(t.mode&1)&&(da=Lt()+500,Nl&&ri()))}function vr(e,t){var r=e.callbackNode;aS(e,t);var n=qs(e,e===Kt?$t:0);if(n===0)r!==null&&Zh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zh(r),t===1)e.tag===0?iA(Vp.bind(null,e)):m0(Vp.bind(null,e)),eA(function(){!(tt&6)&&ri()}),r=null;else{switch(Wg(n)){case 1:r=td;break;case 4:r=Kg;break;case 16:r=$s;break;case 536870912:r=Hg;break;default:r=$s}r=gm(r,um.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function um(e,t){if(Ms=-1,Ns=0,tt&6)throw Error(me(327));var r=e.callbackNode;if(na()&&e.callbackNode!==r)return null;var n=qs(e,e===Kt?$t:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hl(e,n);else{t=n;var a=tt;tt|=2;var o=fm();(Kt!==e||$t!==t)&&(sn=null,da=Lt()+500,xi(e,t));do try{RA();break}catch(f){cm(e,f)}while(1);pd(),cl.current=o,tt=a,It!==null?t=0:(Kt=null,$t=0,t=Ut)}if(t!==0){if(t===2&&(a=Qc(e),a!==0&&(n=a,t=Af(e,a))),t===1)throw r=bo,xi(e,0),On(e,n),vr(e,Lt()),r;if(t===6)On(e,n);else{if(a=e.current.alternate,!(n&30)&&!wA(a)&&(t=hl(e,n),t===2&&(o=Qc(e),o!==0&&(n=o,t=Af(e,o))),t===1))throw r=bo,xi(e,0),On(e,n),vr(e,Lt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(me(345));case 2:fi(e,fr,sn);break;case 3:if(On(e,n),(n&130023424)===n&&(t=Dd+500-Lt(),10<t)){if(qs(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){lr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tf(fi.bind(null,e,fr,sn),t);break}fi(e,fr,sn);break;case 4:if(On(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var u=31-zr(n);o=1<<u,u=t[u],u>a&&(a=u),n&=~o}if(n=a,n=Lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AA(n/1960))-n,10<n){e.timeoutHandle=tf(fi.bind(null,e,fr,sn),n);break}fi(e,fr,sn);break;case 5:fi(e,fr,sn);break;default:throw Error(me(329))}}}return vr(e,Lt()),e.callbackNode===r?um.bind(null,e):null}function Af(e,t){var r=to;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=hl(e,t),e!==2&&(t=fr,fr=r,t!==null&&wf(t)),e}function wf(e){fr===null?fr=e:fr.push.apply(fr,e)}function wA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Kr(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~Cd,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zr(t),n=1<<r;e[r]=-1,t&=~n}}function Vp(e){if(tt&6)throw Error(me(327));na();var t=qs(e,0);if(!(t&1))return vr(e,Lt()),null;var r=hl(e,t);if(e.tag!==0&&r===2){var n=Qc(e);n!==0&&(t=n,r=Af(e,n))}if(r===1)throw r=bo,xi(e,0),On(e,t),vr(e,Lt()),r;if(r===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fi(e,fr,sn),vr(e,Lt()),null}function kd(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(da=Lt()+500,Nl&&ri())}}function Ri(e){Mn!==null&&Mn.tag===0&&!(tt&6)&&na();var t=tt;tt|=1;var r=kr.transition,n=at;try{if(kr.transition=null,at=1,e)return e()}finally{at=n,kr.transition=r,tt=t,!(tt&6)&&ri()}}function Ld(){yr=qi.current,vt(qi)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZS(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&el();break;case 3:ca(),vt(hr),vt(nr),Ed();break;case 5:xd(n);break;case 4:ca();break;case 13:vt(St);break;case 19:vt(St);break;case 10:vd(n.type._context);break;case 22:case 23:Ld()}r=r.return}if(Kt=e,It=e=Hn(e.current,null),$t=yr=t,Ut=0,bo=null,Cd=zl=Ti=0,fr=to=null,vi!==null){for(t=0;t<vi.length;t++)if(r=vi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var u=o.next;o.next=a,n.next=u}r.pending=n}vi=null}return e}function cm(e,t){do{var r=It;try{if(pd(),Os.current=ul,ll){for(var n=At.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ll=!1}if(wi=0,Gt=Bt=At=null,Za=!1,To=0,bd.current=null,r===null||r.return===null){Ut=1,bo=t,It=null;break}e:{var o=e,u=r.return,f=r,v=t;if(t=$t,f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var c=v,p=f,w=p.tag;if(!(p.mode&1)&&(w===0||w===11||w===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=Pp(u);if(E!==null){E.flags&=-257,Op(E,u,f,o,t),E.mode&1&&Lp(o,c,t),t=E,v=c;var T=t.updateQueue;if(T===null){var m=new Set;m.add(v),t.updateQueue=m}else T.add(v);break e}else{if(!(t&1)){Lp(o,c,t),Pd();break e}v=Error(me(426))}}else if(Et&&f.mode&1){var L=Pp(u);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Op(L,u,f,o,t),dd(fa(v,f));break e}}o=v=fa(v,f),Ut!==4&&(Ut=2),to===null?to=[o]:to.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=Q0(o,v,t);Tp(o,_);break e;case 1:f=v;var A=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Gn===null||!Gn.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=$0(o,f,t);Tp(o,k);break e}}o=o.return}while(o!==null)}hm(r)}catch(P){t=P,It===r&&r!==null&&(It=r=r.return);continue}break}while(1)}function fm(){var e=cl.current;return cl.current=ul,e===null?ul:e}function Pd(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Kt===null||!(Ti&268435455)&&!(zl&268435455)||On(Kt,$t)}function hl(e,t){var r=tt;tt|=2;var n=fm();(Kt!==e||$t!==t)&&(sn=null,xi(e,t));do try{TA();break}catch(a){cm(e,a)}while(1);if(pd(),tt=r,cl.current=n,It!==null)throw Error(me(261));return Kt=null,$t=0,Ut}function TA(){for(;It!==null;)dm(It)}function RA(){for(;It!==null&&!YE();)dm(It)}function dm(e){var t=vm(e.alternate,e,yr);e.memoizedProps=e.pendingProps,t===null?hm(e):It=t,bd.current=null}function hm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yA(r,t),r!==null){r.flags&=32767,It=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,It=null;return}}else if(r=mA(r,t,yr),r!==null){It=r;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Ut===0&&(Ut=5)}function fi(e,t,r){var n=at,a=kr.transition;try{kr.transition=null,at=1,_A(e,t,r,n)}finally{kr.transition=a,at=n}return null}function _A(e,t,r,n){do na();while(Mn!==null);if(tt&6)throw Error(me(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(oS(e,o),e===Kt&&(It=Kt=null,$t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ss||(Ss=!0,gm($s,function(){return na(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=kr.transition,kr.transition=null;var u=at;at=1;var f=tt;tt|=4,bd.current=null,EA(e,r),sm(r,e),WS(Zc),Ys=!!Jc,Zc=Jc=null,e.current=r,SA(r),XE(),tt=f,at=u,kr.transition=o}else e.current=r;if(Ss&&(Ss=!1,Mn=e,dl=a),o=e.pendingLanes,o===0&&(Gn=null),eS(r.stateNode),vr(e,Lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(fl)throw fl=!1,e=Ef,Ef=null,e;return dl&1&&e.tag!==0&&na(),o=e.pendingLanes,o&1?e===Sf?ro++:(ro=0,Sf=e):ro=0,ri(),null}function na(){if(Mn!==null){var e=Wg(dl),t=kr.transition,r=at;try{if(kr.transition=null,at=16>e?16:e,Mn===null)var n=!1;else{if(e=Mn,Mn=null,dl=0,tt&6)throw Error(me(331));var a=tt;for(tt|=4,be=e.current;be!==null;){var o=be,u=o.child;if(be.flags&16){var f=o.deletions;if(f!==null){for(var v=0;v<f.length;v++){var c=f[v];for(be=c;be!==null;){var p=be;switch(p.tag){case 0:case 11:case 15:eo(8,p,o)}var w=p.child;if(w!==null)w.return=p,be=w;else for(;be!==null;){p=be;var x=p.sibling,E=p.return;if(im(p),p===c){be=null;break}if(x!==null){x.return=E,be=x;break}be=E}}}var T=o.alternate;if(T!==null){var m=T.child;if(m!==null){T.child=null;do{var L=m.sibling;m.sibling=null,m=L}while(m!==null)}}be=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,be=u;else e:for(;be!==null;){if(o=be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:eo(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,be=_;break e}be=o.return}}var A=e.current;for(be=A;be!==null;){u=be;var C=u.child;if(u.subtreeFlags&2064&&C!==null)C.return=u,be=C;else e:for(u=A;be!==null;){if(f=be,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:jl(9,f)}}catch(P){_t(f,f.return,P)}if(f===u){be=null;break e}var k=f.sibling;if(k!==null){k.return=f.return,be=k;break e}be=f.return}}if(tt=a,ri(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Pl,e)}catch{}n=!0}return n}finally{at=r,kr.transition=t}}return!1}function Wp(e,t,r){t=fa(r,t),t=Q0(e,t,1),e=zn(e,t,1),t=lr(),e!==null&&(Uo(e,1,t),vr(e,t))}function _t(e,t,r){if(e.tag===3)Wp(e,e,r);else for(;t!==null;){if(t.tag===3){Wp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gn===null||!Gn.has(n))){e=fa(r,e),e=$0(t,e,1),t=zn(t,e,1),e=lr(),t!==null&&(Uo(t,1,e),vr(t,e));break}}t=t.return}}function bA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&r,Kt===e&&($t&r)===r&&(Ut===4||Ut===3&&($t&130023424)===$t&&500>Lt()-Dd?xi(e,0):Cd|=r),vr(e,t)}function pm(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var r=lr();e=mn(e,t),e!==null&&(Uo(e,t,r),vr(e,r))}function CA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pm(e,r)}function DA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(t),pm(e,r)}var vm;vm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||hr.current)dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dr=!1,gA(e,t,r);dr=!!(e.flags&131072)}else dr=!1,Et&&t.flags&1048576&&y0(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fs(e,t),e=t.pendingProps;var a=sa(t,nr.current);ra(t,r),a=Ad(null,t,n,e,a,r);var o=wd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(n)?(o=!0,tl(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,md(t),a.updater=Bl,t.stateNode=a,a._reactInternals=t,uf(t,n,e,r),t=df(null,t,n,!0,o,r)):(t.tag=0,Et&&o&&cd(t),sr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=LA(n),e=Br(n,e),a){case 0:t=ff(null,t,n,e,r);break e;case 1:t=Mp(null,t,n,e,r);break e;case 11:t=Ip(null,t,n,e,r);break e;case 14:t=Fp(null,t,n,Br(n.type,e),r);break e}throw Error(me(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),ff(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),Mp(e,t,n,a,r);case 3:e:{if(J0(t),e===null)throw Error(me(387));n=t.pendingProps,o=t.memoizedState,a=o.element,A0(e,t),ol(t,n,null,r);var u=t.memoizedState;if(n=u.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=fa(Error(me(423)),t),t=Np(e,t,n,r,a);break e}else if(n!==a){a=fa(Error(me(424)),t),t=Np(e,t,n,r,a);break e}else for(xr=jn(t.stateNode.containerInfo.firstChild),Er=t,Et=!0,jr=null,r=_0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(la(),n===a){t=yn(e,t,r);break e}sr(e,t,n,r)}t=t.child}return t;case 5:return b0(t),e===null&&of(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,u=a.children,ef(n,a)?u=null:o!==null&&ef(n,o)&&(t.flags|=32),X0(e,t),sr(e,t,u,r),t.child;case 6:return e===null&&of(t),null;case 13:return Z0(e,t,r);case 4:return yd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ua(t,null,n,r):sr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),Ip(e,t,n,a,r);case 7:return sr(e,t,t.pendingProps,r),t.child;case 8:return sr(e,t,t.pendingProps.children,r),t.child;case 12:return sr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,u=a.value,dt(il,n._currentValue),n._currentValue=u,o!==null)if(Kr(o.value,u)){if(o.children===a.children&&!hr.current){t=yn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var v=f.firstContext;v!==null;){if(v.context===n){if(o.tag===1){v=dn(-1,r&-r),v.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?v.next=v:(v.next=p.next,p.next=v),c.pending=v}}o.lanes|=r,v=o.alternate,v!==null&&(v.lanes|=r),sf(o.return,r,t),f.lanes|=r;break}v=v.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(me(341));u.lanes|=r,f=u.alternate,f!==null&&(f.lanes|=r),sf(u,r,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}sr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ra(t,r),a=Lr(a),n=n(a),t.flags|=1,sr(e,t,n,r),t.child;case 14:return n=t.type,a=Br(n,t.pendingProps),a=Br(n.type,a),Fp(e,t,n,a,r);case 15:return q0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),Fs(e,t),t.tag=1,pr(n)?(e=!0,tl(t)):e=!1,ra(t,r),T0(t,n,a),uf(t,n,a,r),df(null,t,n,!0,e,r);case 19:return em(e,t,r);case 22:return Y0(e,t,r)}throw Error(me(156,t.tag))};function gm(e,t){return Gg(e,t)}function kA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,r,n){return new kA(e,t,r,n)}function Od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LA(e){if(typeof e=="function")return Od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jf)return 11;if(e===Zf)return 14}return 2}function Hn(e,t){var r=e.alternate;return r===null?(r=Dr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bs(e,t,r,n,a,o){var u=2;if(n=e,typeof e=="function")Od(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ui:return Ei(r.children,a,o,t);case Xf:u=8,a|=8;break;case Pc:return e=Dr(12,r,t,a|2),e.elementType=Pc,e.lanes=o,e;case Oc:return e=Dr(13,r,t,a),e.elementType=Oc,e.lanes=o,e;case Ic:return e=Dr(19,r,t,a),e.elementType=Ic,e.lanes=o,e;case Rg:return Gl(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wg:u=10;break e;case Tg:u=9;break e;case Jf:u=11;break e;case Zf:u=14;break e;case kn:u=16,n=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=Dr(u,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Ei(e,t,r,n){return e=Dr(7,e,n,t),e.lanes=r,e}function Gl(e,t,r,n){return e=Dr(22,e,n,t),e.elementType=Rg,e.lanes=r,e.stateNode={isHidden:!1},e}function sc(e,t,r){return e=Dr(6,e,null,t),e.lanes=r,e}function lc(e,t,r){return t=Dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Id(e,t,r,n,a,o,u,f,v){return e=new PA(e,t,r,f,v),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(o),e}function OA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mm(e){if(!e)return $n;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var r=e.type;if(pr(r))return g0(e,r,t)}return t}function ym(e,t,r,n,a,o,u,f,v){return e=Id(r,n,!0,e,a,o,u,f,v),e.context=mm(null),r=e.current,n=lr(),a=Kn(r),o=dn(n,a),o.callback=t??null,zn(r,o,a),e.current.lanes=a,Uo(e,a,n),vr(e,n),e}function Kl(e,t,r,n){var a=t.current,o=lr(),u=Kn(a);return r=mm(r),t.context===null?t.context=r:t.pendingContext=r,t=dn(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zn(a,t,u),e!==null&&(Gr(e,a,u,o),Ps(e,a,u)),u}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fd(e,t){Qp(e,t),(e=e.alternate)&&Qp(e,t)}function IA(){return null}var xm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Md(e){this._internalRoot=e}Hl.prototype.render=Md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));Kl(e,t,null,null)};Hl.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ri(function(){Kl(null,e,null,null)}),t[gn]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pn.length&&t!==0&&t<Pn[r].priority;r++);Pn.splice(r,0,e),r===0&&Xg(e)}};function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $p(){}function FA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=pl(u);o.call(c)}}var u=ym(t,n,e,0,null,!1,!1,"",$p);return e._reactRootContainer=u,e[gn]=u.current,xo(e.nodeType===8?e.parentNode:e),Ri(),u}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var f=n;n=function(){var c=pl(v);f.call(c)}}var v=Id(e,0,!1,null,null,!1,!1,"",$p);return e._reactRootContainer=v,e[gn]=v.current,xo(e.nodeType===8?e.parentNode:e),Ri(function(){Kl(t,v,r,n)}),v}function Wl(e,t,r,n,a){var o=r._reactRootContainer;if(o){var u=o;if(typeof a=="function"){var f=a;a=function(){var v=pl(u);f.call(v)}}Kl(t,u,e,a)}else u=FA(r,t,e,a,n);return pl(u)}Qg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ka(t.pendingLanes);r!==0&&(rd(t,r|1),vr(t,Lt()),!(tt&6)&&(da=Lt()+500,ri()))}break;case 13:Ri(function(){var n=mn(e,1);if(n!==null){var a=lr();Gr(n,e,1,a)}}),Fd(e,1)}};nd=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var r=lr();Gr(t,e,134217728,r)}Fd(e,134217728)}};$g=function(e){if(e.tag===13){var t=Kn(e),r=mn(e,t);if(r!==null){var n=lr();Gr(r,e,t,n)}Fd(e,t)}};qg=function(){return at};Yg=function(e,t){var r=at;try{return at=e,t()}finally{at=r}};Hc=function(e,t,r){switch(t){case"input":if(Nc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ml(n);if(!a)throw Error(me(90));bg(n),Nc(n,a)}}}break;case"textarea":Dg(e,r);break;case"select":t=r.value,t!=null&&Ji(e,!!r.multiple,t,!1)}};Mg=kd;Ng=Ri;var MA={usingClientEntryPoint:!1,Events:[zo,Ki,Ml,Ig,Fg,kd]},Ma={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NA={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||IA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{Pl=As.inject(NA),Zr=As}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MA;wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(t))throw Error(me(200));return OA(e,t,null,r)};wr.createRoot=function(e,t){if(!Nd(e))throw Error(me(299));var r=!1,n="",a=xm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Id(e,1,!1,null,null,r,!1,n,a),e[gn]=t.current,xo(e.nodeType===8?e.parentNode:e),new Md(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=jg(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return Ri(e)};wr.hydrate=function(e,t,r){if(!Vl(t))throw Error(me(200));return Wl(null,e,t,!0,r)};wr.hydrateRoot=function(e,t,r){if(!Nd(e))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",u=xm;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=ym(t,null,e,1,r??null,a,!1,o,u),e[gn]=t.current,xo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Hl(t)};wr.render=function(e,t,r){if(!Vl(t))throw Error(me(200));return Wl(null,e,t,!1,r)};wr.unmountComponentAtNode=function(e){if(!Vl(e))throw Error(me(40));return e._reactRootContainer?(Ri(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};wr.unstable_batchedUpdates=kd;wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vl(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Wl(e,t,r,!1,n)};wr.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=wr})(IE);var qp=uo;Dc.createRoot=qp.createRoot,Dc.hydrateRoot=qp.hydrateRoot;var Tf={},BA={get exports(){return Tf},set exports(e){Tf=e}},Em={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=se;function UA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jA=typeof Object.is=="function"?Object.is:UA,zA=ha.useState,GA=ha.useEffect,KA=ha.useLayoutEffect,HA=ha.useDebugValue;function VA(e,t){var r=t(),n=zA({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return KA(function(){a.value=r,a.getSnapshot=t,uc(a)&&o({inst:a})},[e,r,t]),GA(function(){return uc(a)&&o({inst:a}),e(function(){uc(a)&&o({inst:a})})},[e]),HA(r),r}function uc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jA(e,r)}catch{return!0}}function WA(e,t){return t()}var QA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WA:VA;Em.useSyncExternalStore=ha.useSyncExternalStore!==void 0?ha.useSyncExternalStore:QA;(function(e){e.exports=Em})(BA);var Rf={},$A={get exports(){return Rf},set exports(e){Rf=e}},Sm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=se,qA=Tf;function YA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XA=typeof Object.is=="function"?Object.is:YA,JA=qA.useSyncExternalStore,ZA=Ql.useRef,e1=Ql.useEffect,t1=Ql.useMemo,r1=Ql.useDebugValue;Sm.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var o=ZA(null);if(o.current===null){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=t1(function(){function v(E){if(!c){if(c=!0,p=E,E=n(E),a!==void 0&&u.hasValue){var T=u.value;if(a(T,E))return w=T}return w=E}if(T=w,XA(p,E))return T;var m=n(E);return a!==void 0&&a(T,m)?T:(p=E,w=m)}var c=!1,p,w,x=r===void 0?null:r;return[function(){return v(t())},x===null?void 0:function(){return v(x())}]},[t,r,n,a]);var f=JA(e,o[0],o[1]);return e1(function(){u.hasValue=!0,u.value=f},[f]),r1(f),f};(function(e){e.exports=Sm})($A);function n1(e){e()}let Am=n1;const i1=e=>Am=e,a1=()=>Am,qn=se.createContext(null);function wm(){return se.useContext(qn)}const o1=()=>{throw new Error("uSES not initialized!")};let Tm=o1;const s1=e=>{Tm=e},l1=(e,t)=>e===t;function u1(e=qn){const t=e===qn?wm:()=>se.useContext(e);return function(n,a=l1){const{store:o,subscription:u,getServerState:f}=t(),v=Tm(u.addNestedSub,o.getState,f||o.getState,n,a);return se.useDebugValue(v),v}}const c1=u1();var _f={},f1={get exports(){return _f},set exports(e){_f=e}},ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=typeof Symbol=="function"&&Symbol.for,Bd=Ht?Symbol.for("react.element"):60103,Ud=Ht?Symbol.for("react.portal"):60106,$l=Ht?Symbol.for("react.fragment"):60107,ql=Ht?Symbol.for("react.strict_mode"):60108,Yl=Ht?Symbol.for("react.profiler"):60114,Xl=Ht?Symbol.for("react.provider"):60109,Jl=Ht?Symbol.for("react.context"):60110,jd=Ht?Symbol.for("react.async_mode"):60111,Zl=Ht?Symbol.for("react.concurrent_mode"):60111,eu=Ht?Symbol.for("react.forward_ref"):60112,tu=Ht?Symbol.for("react.suspense"):60113,d1=Ht?Symbol.for("react.suspense_list"):60120,ru=Ht?Symbol.for("react.memo"):60115,nu=Ht?Symbol.for("react.lazy"):60116,h1=Ht?Symbol.for("react.block"):60121,p1=Ht?Symbol.for("react.fundamental"):60117,v1=Ht?Symbol.for("react.responder"):60118,g1=Ht?Symbol.for("react.scope"):60119;function Rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Bd:switch(e=e.type,e){case jd:case Zl:case $l:case Yl:case ql:case tu:return e;default:switch(e=e&&e.$$typeof,e){case Jl:case eu:case nu:case ru:case Xl:return e;default:return t}}case Ud:return t}}}function Rm(e){return Rr(e)===Zl}ot.AsyncMode=jd;ot.ConcurrentMode=Zl;ot.ContextConsumer=Jl;ot.ContextProvider=Xl;ot.Element=Bd;ot.ForwardRef=eu;ot.Fragment=$l;ot.Lazy=nu;ot.Memo=ru;ot.Portal=Ud;ot.Profiler=Yl;ot.StrictMode=ql;ot.Suspense=tu;ot.isAsyncMode=function(e){return Rm(e)||Rr(e)===jd};ot.isConcurrentMode=Rm;ot.isContextConsumer=function(e){return Rr(e)===Jl};ot.isContextProvider=function(e){return Rr(e)===Xl};ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bd};ot.isForwardRef=function(e){return Rr(e)===eu};ot.isFragment=function(e){return Rr(e)===$l};ot.isLazy=function(e){return Rr(e)===nu};ot.isMemo=function(e){return Rr(e)===ru};ot.isPortal=function(e){return Rr(e)===Ud};ot.isProfiler=function(e){return Rr(e)===Yl};ot.isStrictMode=function(e){return Rr(e)===ql};ot.isSuspense=function(e){return Rr(e)===tu};ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$l||e===Zl||e===Yl||e===ql||e===tu||e===d1||typeof e=="object"&&e!==null&&(e.$$typeof===nu||e.$$typeof===ru||e.$$typeof===Xl||e.$$typeof===Jl||e.$$typeof===eu||e.$$typeof===p1||e.$$typeof===v1||e.$$typeof===g1||e.$$typeof===h1)};ot.typeOf=Rr;(function(e){e.exports=ot})(f1);var _m=_f,m1={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bm={};bm[_m.ForwardRef]=m1;bm[_m.Memo]=y1;var Yp={},x1={get exports(){return Yp},set exports(e){Yp=e}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),Gd=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),au=Symbol.for("react.strict_mode"),ou=Symbol.for("react.profiler"),su=Symbol.for("react.provider"),lu=Symbol.for("react.context"),E1=Symbol.for("react.server_context"),uu=Symbol.for("react.forward_ref"),cu=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),S1=Symbol.for("react.offscreen"),Cm;Cm=Symbol.for("react.module.reference");function Or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zd:switch(e=e.type,e){case iu:case ou:case au:case cu:case fu:return e;default:switch(e=e&&e.$$typeof,e){case E1:case lu:case uu:case hu:case du:case su:return e;default:return t}}case Gd:return t}}}st.ContextConsumer=lu;st.ContextProvider=su;st.Element=zd;st.ForwardRef=uu;st.Fragment=iu;st.Lazy=hu;st.Memo=du;st.Portal=Gd;st.Profiler=ou;st.StrictMode=au;st.Suspense=cu;st.SuspenseList=fu;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return Or(e)===lu};st.isContextProvider=function(e){return Or(e)===su};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zd};st.isForwardRef=function(e){return Or(e)===uu};st.isFragment=function(e){return Or(e)===iu};st.isLazy=function(e){return Or(e)===hu};st.isMemo=function(e){return Or(e)===du};st.isPortal=function(e){return Or(e)===Gd};st.isProfiler=function(e){return Or(e)===ou};st.isStrictMode=function(e){return Or(e)===au};st.isSuspense=function(e){return Or(e)===cu};st.isSuspenseList=function(e){return Or(e)===fu};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iu||e===ou||e===au||e===cu||e===fu||e===S1||typeof e=="object"&&e!==null&&(e.$$typeof===hu||e.$$typeof===du||e.$$typeof===su||e.$$typeof===lu||e.$$typeof===uu||e.$$typeof===Cm||e.getModuleId!==void 0)};st.typeOf=Or;(function(e){e.exports=st})(x1);function A1(){const e=a1();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],a=t;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!a||t===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Xp={notify(){},get:()=>[]};function w1(e,t){let r,n=Xp;function a(w){return v(),n.subscribe(w)}function o(){n.notify()}function u(){p.onStateChange&&p.onStateChange()}function f(){return!!r}function v(){r||(r=t?t.addNestedSub(u):e.subscribe(u),n=A1())}function c(){r&&(r(),r=void 0,n.clear(),n=Xp)}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:c,getListeners:()=>n};return p}const T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R1=T1?se.useLayoutEffect:se.useEffect;function Jp(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vl(e,t){if(Jp(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Jp(e[r[a]],t[r[a]]))return!1;return!0}function _1({store:e,context:t,children:r,serverState:n}){const a=se.useMemo(()=>{const f=w1(e);return{store:e,subscription:f,getServerState:n?()=>n:void 0}},[e,n]),o=se.useMemo(()=>e.getState(),[e]);R1(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==e.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=t||qn;return Qa.createElement(u.Provider,{value:a},r)}function Dm(e=qn){const t=e===qn?wm:()=>se.useContext(e);return function(){const{store:n}=t();return n}}const km=Dm();function b1(e=qn){const t=e===qn?km:Dm(e);return function(){return t().dispatch}}const C1=b1();s1(Rf.useSyncExternalStoreWithSelector);i1(uo.unstable_batchedUpdates);function rr(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xn(e){return!!e&&!!e[yt]}function Hr(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===M1}(e)||Array.isArray(e)||!!e[no]||!!(!((t=e.constructor)===null||t===void 0)&&t[no])||pu(e)||vu(e))}function Yn(e,t,r){r===void 0&&(r=!1),Xn(e)===0?(r?Object.keys:ia)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,a){return t(a,n,e)})}function Xn(e){var t=e[yt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pu(e)?2:vu(e)?3:0}function Vn(e,t){return Xn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Us(e,t){return Xn(e)===2?e.get(t):e[t]}function Lm(e,t,r){var n=Xn(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Pm(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function pu(e){return I1&&e instanceof Map}function vu(e){return F1&&e instanceof Set}function di(e){return e.o||e.t}function Kd(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Im(e);delete t[yt];for(var r=ia(t),n=0;n<r.length;n++){var a=r[n],o=t[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function Hd(e,t){return t===void 0&&(t=!1),Vd(e)||xn(e)||!Hr(e)||(Xn(e)>1&&(e.set=e.add=e.clear=e.delete=D1),Object.freeze(e),t&&Yn(e,function(r,n){return Hd(n,!0)},!0)),e}function D1(){rr(2)}function Vd(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function tn(e){var t=kf[e];return t||rr(18,e),t}function Om(e,t){kf[e]||(kf[e]=t)}function bf(){return Co}function cc(e,t){t&&(tn("Patches"),e.u=[],e.s=[],e.v=t)}function gl(e){Cf(e),e.p.forEach(k1),e.p=null}function Cf(e){e===Co&&(Co=e.l)}function Zp(e){return Co={p:[],l:Co,h:e,m:!0,_:0}}function k1(e){var t=e[yt];t.i===0||t.i===1?t.j():t.O=!0}function fc(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||tn("ES5").S(t,e,n),n?(r[yt].P&&(gl(t),rr(4)),Hr(e)&&(e=ml(t,e),t.l||yl(t,e)),t.u&&tn("Patches").M(r[yt].t,e,t.u,t.s)):e=ml(t,r,[]),gl(t),t.u&&t.v(t.u,t.s),e!==Qd?e:void 0}function ml(e,t,r){if(Vd(t))return t;var n=t[yt];if(!n)return Yn(t,function(f,v){return ev(e,n,t,f,v,r)},!0),t;if(n.A!==e)return t;if(!n.P)return yl(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=Kd(n.k):n.o,o=a,u=!1;n.i===3&&(o=new Set(a),a.clear(),u=!0),Yn(o,function(f,v){return ev(e,n,a,f,v,r,u)}),yl(e,a,!1),r&&e.u&&tn("Patches").N(n,r,e.u,e.s)}return n.o}function ev(e,t,r,n,a,o,u){if(xn(a)){var f=ml(e,a,o&&t&&t.i!==3&&!Vn(t.R,n)?o.concat(n):void 0);if(Lm(r,n,f),!xn(f))return;e.m=!1}else u&&r.add(a);if(Hr(a)&&!Vd(a)){if(!e.h.D&&e._<1)return;ml(e,a),t&&t.A.l||yl(e,a)}}function yl(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Hd(t,r)}function dc(e,t){var r=e[yt];return(r?di(r):e)[t]}function tv(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function In(e){e.P||(e.P=!0,e.l&&In(e.l))}function hc(e){e.o||(e.o=Kd(e.t))}function Df(e,t,r){var n=pu(t)?tn("MapSet").F(t,r):vu(t)?tn("MapSet").T(t,r):e.g?function(a,o){var u=Array.isArray(a),f={i:u?1:0,A:o?o.A:bf(),P:!1,I:!1,R:{},l:o,t:a,k:null,o:null,j:null,C:!1},v=f,c=Do;u&&(v=[f],c=Va);var p=Proxy.revocable(v,c),w=p.revoke,x=p.proxy;return f.k=x,f.j=w,x}(t,r):tn("ES5").J(t,r);return(r?r.A:bf()).p.push(n),n}function L1(e){return xn(e)||rr(22,e),function t(r){if(!Hr(r))return r;var n,a=r[yt],o=Xn(r);if(a){if(!a.P&&(a.i<4||!tn("ES5").K(a)))return a.t;a.I=!0,n=rv(r,o),a.I=!1}else n=rv(r,o);return Yn(n,function(u,f){a&&Us(a.t,u)===f||Lm(n,u,t(f))}),o===3?new Set(n):n}(e)}function rv(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Kd(e)}function P1(){function e(o,u){var f=a[o];return f?f.enumerable=u:a[o]=f={configurable:!0,enumerable:u,get:function(){var v=this[yt];return Do.get(v,o)},set:function(v){var c=this[yt];Do.set(c,o,v)}},f}function t(o){for(var u=o.length-1;u>=0;u--){var f=o[u][yt];if(!f.P)switch(f.i){case 5:n(f)&&In(f);break;case 4:r(f)&&In(f)}}}function r(o){for(var u=o.t,f=o.k,v=ia(f),c=v.length-1;c>=0;c--){var p=v[c];if(p!==yt){var w=u[p];if(w===void 0&&!Vn(u,p))return!0;var x=f[p],E=x&&x[yt];if(E?E.t!==w:!Pm(x,w))return!0}}var T=!!u[yt];return v.length!==ia(u).length+(T?0:1)}function n(o){var u=o.k;if(u.length!==o.t.length)return!0;var f=Object.getOwnPropertyDescriptor(u,u.length-1);if(f&&!f.get)return!0;for(var v=0;v<u.length;v++)if(!u.hasOwnProperty(v))return!0;return!1}var a={};Om("ES5",{J:function(o,u){var f=Array.isArray(o),v=function(p,w){if(p){for(var x=Array(w.length),E=0;E<w.length;E++)Object.defineProperty(x,""+E,e(E,!0));return x}var T=Im(w);delete T[yt];for(var m=ia(T),L=0;L<m.length;L++){var _=m[L];T[_]=e(_,p||!!T[_].enumerable)}return Object.create(Object.getPrototypeOf(w),T)}(f,o),c={i:f?5:4,A:u?u.A:bf(),P:!1,I:!1,R:{},l:u,t:o,k:v,o:null,O:!1,C:!1};return Object.defineProperty(v,yt,{value:c,writable:!0}),v},S:function(o,u,f){f?xn(u)&&u[yt].A===o&&t(o.p):(o.u&&function v(c){if(c&&typeof c=="object"){var p=c[yt];if(p){var w=p.t,x=p.k,E=p.R,T=p.i;if(T===4)Yn(x,function(C){C!==yt&&(w[C]!==void 0||Vn(w,C)?E[C]||v(x[C]):(E[C]=!0,In(p)))}),Yn(w,function(C){x[C]!==void 0||Vn(x,C)||(E[C]=!1,In(p))});else if(T===5){if(n(p)&&(In(p),E.length=!0),x.length<w.length)for(var m=x.length;m<w.length;m++)E[m]=!1;else for(var L=w.length;L<x.length;L++)E[L]=!0;for(var _=Math.min(x.length,w.length),A=0;A<_;A++)x.hasOwnProperty(A)||(E[A]=!0),E[A]===void 0&&v(x[A])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}function O1(){function e(n){if(!Hr(n))return n;if(Array.isArray(n))return n.map(e);if(pu(n))return new Map(Array.from(n.entries()).map(function(u){return[u[0],e(u[1])]}));if(vu(n))return new Set(Array.from(n).map(e));var a=Object.create(Object.getPrototypeOf(n));for(var o in n)a[o]=e(n[o]);return Vn(n,no)&&(a[no]=n[no]),a}function t(n){return xn(n)?e(n):n}var r="add";Om("Patches",{$:function(n,a){return a.forEach(function(o){for(var u=o.path,f=o.op,v=n,c=0;c<u.length-1;c++){var p=Xn(v),w=""+u[c];p!==0&&p!==1||w!=="__proto__"&&w!=="constructor"||rr(24),typeof v=="function"&&w==="prototype"&&rr(24),typeof(v=Us(v,w))!="object"&&rr(15,u.join("/"))}var x=Xn(v),E=e(o.value),T=u[u.length-1];switch(f){case"replace":switch(x){case 2:return v.set(T,E);case 3:rr(16);default:return v[T]=E}case r:switch(x){case 1:return T==="-"?v.push(E):v.splice(T,0,E);case 2:return v.set(T,E);case 3:return v.add(E);default:return v[T]=E}case"remove":switch(x){case 1:return v.splice(T,1);case 2:return v.delete(T);case 3:return v.delete(o.value);default:return delete v[T]}default:rr(17,f)}}),n},N:function(n,a,o,u){switch(n.i){case 0:case 4:case 2:return function(f,v,c,p){var w=f.t,x=f.o;Yn(f.R,function(E,T){var m=Us(w,E),L=Us(x,E),_=T?Vn(w,E)?"replace":r:"remove";if(m!==L||_!=="replace"){var A=v.concat(E);c.push(_==="remove"?{op:_,path:A}:{op:_,path:A,value:L}),p.push(_===r?{op:"remove",path:A}:_==="remove"?{op:r,path:A,value:t(m)}:{op:"replace",path:A,value:t(m)})}})}(n,a,o,u);case 5:case 1:return function(f,v,c,p){var w=f.t,x=f.R,E=f.o;if(E.length<w.length){var T=[E,w];w=T[0],E=T[1];var m=[p,c];c=m[0],p=m[1]}for(var L=0;L<w.length;L++)if(x[L]&&E[L]!==w[L]){var _=v.concat([L]);c.push({op:"replace",path:_,value:t(E[L])}),p.push({op:"replace",path:_,value:t(w[L])})}for(var A=w.length;A<E.length;A++){var C=v.concat([A]);c.push({op:r,path:C,value:t(E[A])})}w.length<E.length&&p.push({op:"replace",path:v.concat(["length"]),value:w.length})}(n,a,o,u);case 3:return function(f,v,c,p){var w=f.t,x=f.o,E=0;w.forEach(function(T){if(!x.has(T)){var m=v.concat([E]);c.push({op:"remove",path:m,value:T}),p.unshift({op:r,path:m,value:T})}E++}),E=0,x.forEach(function(T){if(!w.has(T)){var m=v.concat([E]);c.push({op:r,path:m,value:T}),p.unshift({op:"remove",path:m,value:T})}E++})}(n,a,o,u)}},M:function(n,a,o,u){o.push({op:"replace",path:[],value:a===Qd?void 0:a}),u.push({op:"replace",path:[],value:n})}})}var nv,Co,Wd=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",I1=typeof Map<"u",F1=typeof Set<"u",iv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Qd=Wd?Symbol.for("immer-nothing"):((nv={})["immer-nothing"]=!0,nv),no=Wd?Symbol.for("immer-draftable"):"__$immer_draftable",yt=Wd?Symbol.for("immer-state"):"__$immer_state",M1=""+Object.prototype.constructor,ia=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Im=Object.getOwnPropertyDescriptors||function(e){var t={};return ia(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},kf={},Do={get:function(e,t){if(t===yt)return e;var r=di(e);if(!Vn(r,t))return function(a,o,u){var f,v=tv(o,u);return v?"value"in v?v.value:(f=v.get)===null||f===void 0?void 0:f.call(a.k):void 0}(e,r,t);var n=r[t];return e.I||!Hr(n)?n:n===dc(e.t,t)?(hc(e),e.o[t]=Df(e.A.h,n,e)):n},has:function(e,t){return t in di(e)},ownKeys:function(e){return Reflect.ownKeys(di(e))},set:function(e,t,r){var n=tv(di(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=dc(di(e),t),o=a==null?void 0:a[yt];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(Pm(r,a)&&(r!==void 0||Vn(e.t,t)))return!0;hc(e),In(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return dc(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,hc(e),In(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=di(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){rr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){rr(12)}},Va={};Yn(Do,function(e,t){Va[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Va.deleteProperty=function(e,t){return Va.set.call(this,e,t,void 0)},Va.set=function(e,t,r){return Do.set.call(this,e[0],t,r,e[0])};var N1=function(){function e(r){var n=this;this.g=iv,this.D=!0,this.produce=function(a,o,u){if(typeof a=="function"&&typeof o!="function"){var f=o;o=a;var v=n;return function(m){var L=this;m===void 0&&(m=f);for(var _=arguments.length,A=Array(_>1?_-1:0),C=1;C<_;C++)A[C-1]=arguments[C];return v.produce(m,function(k){var P;return(P=o).call.apply(P,[L,k].concat(A))})}}var c;if(typeof o!="function"&&rr(6),u!==void 0&&typeof u!="function"&&rr(7),Hr(a)){var p=Zp(n),w=Df(n,a,void 0),x=!0;try{c=o(w),x=!1}finally{x?gl(p):Cf(p)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(m){return cc(p,u),fc(m,p)},function(m){throw gl(p),m}):(cc(p,u),fc(c,p))}if(!a||typeof a!="object"){if((c=o(a))===void 0&&(c=a),c===Qd&&(c=void 0),n.D&&Hd(c,!0),u){var E=[],T=[];tn("Patches").M(a,c,E,T),u(E,T)}return c}rr(21,a)},this.produceWithPatches=function(a,o){if(typeof a=="function")return function(c){for(var p=arguments.length,w=Array(p>1?p-1:0),x=1;x<p;x++)w[x-1]=arguments[x];return n.produceWithPatches(c,function(E){return a.apply(void 0,[E].concat(w))})};var u,f,v=n.produce(a,o,function(c,p){u=c,f=p});return typeof Promise<"u"&&v instanceof Promise?v.then(function(c){return[c,u,f]}):[v,u,f]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Hr(r)||rr(8),xn(r)&&(r=L1(r));var n=Zp(this),a=Df(this,r,void 0);return a[yt].C=!0,Cf(n),a},t.finishDraft=function(r,n){var a=r&&r[yt],o=a.A;return cc(o,n),fc(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!iv&&rr(20),this.g=r},t.applyPatches=function(r,n){var a;for(a=n.length-1;a>=0;a--){var o=n[a];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}a>-1&&(n=n.slice(a+1));var u=tn("Patches").$;return xn(r)?u(r,n):this.produce(r,function(f){return u(f,n)})},e}(),Ar=new N1,Ko=Ar.produce,Fm=Ar.produceWithPatches.bind(Ar);Ar.setAutoFreeze.bind(Ar);Ar.setUseProxies.bind(Ar);var av=Ar.applyPatches.bind(Ar);Ar.createDraft.bind(Ar);Ar.finishDraft.bind(Ar);function ko(e){return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function B1(e,t){if(ko(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ko(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U1(e){var t=B1(e,"string");return ko(t)==="symbol"?t:String(t)}function j1(e,t,r){return t=U1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(r),!0).forEach(function(n){j1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var lv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),pc=function(){return Math.random().toString(36).substring(7).split("").join(".")},xl={INIT:"@@redux/INIT"+pc(),REPLACE:"@@redux/REPLACE"+pc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pc()}};function z1(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Mm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Zt(1));return r(Mm)(e,t)}if(typeof e!="function")throw new Error(Zt(2));var a=e,o=t,u=[],f=u,v=!1;function c(){f===u&&(f=u.slice())}function p(){if(v)throw new Error(Zt(3));return o}function w(m){if(typeof m!="function")throw new Error(Zt(4));if(v)throw new Error(Zt(5));var L=!0;return c(),f.push(m),function(){if(L){if(v)throw new Error(Zt(6));L=!1,c();var A=f.indexOf(m);f.splice(A,1),u=null}}}function x(m){if(!z1(m))throw new Error(Zt(7));if(typeof m.type>"u")throw new Error(Zt(8));if(v)throw new Error(Zt(9));try{v=!0,o=a(o,m)}finally{v=!1}for(var L=u=f,_=0;_<L.length;_++){var A=L[_];A()}return m}function E(m){if(typeof m!="function")throw new Error(Zt(10));a=m,x({type:xl.REPLACE})}function T(){var m,L=w;return m={subscribe:function(A){if(typeof A!="object"||A===null)throw new Error(Zt(11));function C(){A.next&&A.next(p())}C();var k=L(C);return{unsubscribe:k}}},m[lv]=function(){return this},m}return x({type:xl.INIT}),n={dispatch:x,subscribe:w,getState:p,replaceReducer:E},n[lv]=T,n}function G1(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:xl.INIT});if(typeof n>"u")throw new Error(Zt(12));if(typeof r(void 0,{type:xl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function Nm(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n];typeof e[a]=="function"&&(r[a]=e[a])}var o=Object.keys(r),u;try{G1(r)}catch(f){u=f}return function(v,c){if(v===void 0&&(v={}),u)throw u;for(var p=!1,w={},x=0;x<o.length;x++){var E=o[x],T=r[E],m=v[E],L=T(m,c);if(typeof L>"u")throw c&&c.type,new Error(Zt(14));w[E]=L,p=p||L!==m}return p=p||o.length!==Object.keys(v).length,p?w:v}}function El(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function K1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),o=function(){throw new Error(Zt(15))},u={getState:a.getState,dispatch:function(){return o.apply(void 0,arguments)}},f=t.map(function(v){return v(u)});return o=El.apply(void 0,f)(a.dispatch),sv(sv({},a),{},{dispatch:o})}}}var Sl="NOT_FOUND";function H1(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:Sl},put:function(n,a){t={key:n,value:a}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function V1(e,t){var r=[];function n(f){var v=r.findIndex(function(p){return t(f,p.key)});if(v>-1){var c=r[v];return v>0&&(r.splice(v,1),r.unshift(c)),c.value}return Sl}function a(f,v){n(f)===Sl&&(r.unshift({key:f,value:v}),r.length>e&&r.pop())}function o(){return r}function u(){r=[]}return{get:n,put:a,getEntries:o,clear:u}}var W1=function(t,r){return t===r};function Q1(e){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;for(var a=r.length,o=0;o<a;o++)if(!e(r[o],n[o]))return!1;return!0}}function Lf(e,t){var r=typeof t=="object"?t:{equalityCheck:t},n=r.equalityCheck,a=n===void 0?W1:n,o=r.maxSize,u=o===void 0?1:o,f=r.resultEqualityCheck,v=Q1(a),c=u===1?H1(v):V1(u,v);function p(){var w=c.get(arguments);if(w===Sl){if(w=e.apply(null,arguments),f){var x=c.getEntries(),E=x.find(function(T){return f(T.value,w)});E&&(w=E.value)}c.put(arguments,w)}return w}return p.clearCache=function(){return c.clear()},p}function $1(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function q1(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=function(){for(var u=arguments.length,f=new Array(u),v=0;v<u;v++)f[v]=arguments[v];var c=0,p,w={memoizeOptions:void 0},x=f.pop();if(typeof x=="object"&&(w=x,x=f.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var E=w,T=E.memoizeOptions,m=T===void 0?r:T,L=Array.isArray(m)?m:[m],_=$1(f),A=e.apply(void 0,[function(){return c++,x.apply(null,arguments)}].concat(L)),C=e(function(){for(var P=[],I=_.length,F=0;F<I;F++)P.push(_[F].apply(null,arguments));return p=A.apply(null,P),p});return Object.assign(C,{resultFunc:x,memoizedResultFunc:A,dependencies:_,lastResult:function(){return p},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),C};return a}var io=q1(Lf);function Bm(e){var t=function(n){var a=n.dispatch,o=n.getState;return function(u){return function(f){return typeof f=="function"?f(a,o,e):u(f)}}};return t}var Um=Bm();Um.withExtraArgument=Bm;const uv=Um;var Y1=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X1=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(p){return v([c,p])}}function v(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=c[0]&2?a.return:c[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,c[1])).done)return o;switch(a=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(p){c=[6,p],a=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Al=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},J1=Object.defineProperty,Z1=Object.defineProperties,ew=Object.getOwnPropertyDescriptors,cv=Object.getOwnPropertySymbols,tw=Object.prototype.hasOwnProperty,rw=Object.prototype.propertyIsEnumerable,fv=function(e,t,r){return t in e?J1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Wn=function(e,t){for(var r in t||(t={}))tw.call(t,r)&&fv(e,r,t[r]);if(cv)for(var n=0,a=cv(t);n<a.length;n++){var r=a[n];rw.call(t,r)&&fv(e,r,t[r])}return e},vc=function(e,t){return Z1(e,ew(t))},nw=function(e,t,r){return new Promise(function(n,a){var o=function(v){try{f(r.next(v))}catch(c){a(c)}},u=function(v){try{f(r.throw(v))}catch(c){a(c)}},f=function(v){return v.done?n(v.value):Promise.resolve(v.value).then(o,u)};f((r=r.apply(e,t)).next())})},iw=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?El:El.apply(null,arguments)};function Jn(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var aw=function(e){Y1(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Al([void 0],r[0].concat(this)))):new(t.bind.apply(t,Al([void 0],r.concat(this))))},t}(Array);function Pf(e){return Hr(e)?Ko(e,function(){}):e}function ow(e){return typeof e=="boolean"}function sw(){return function(t){return lw(t)}}function lw(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new aw;return r&&(ow(r)?n.push(uv):n.push(uv.withExtraArgument(r.extraArgument))),n}var uw=!0;function cw(e){var t=sw(),r=e||{},n=r.reducer,a=n===void 0?void 0:n,o=r.middleware,u=o===void 0?t():o,f=r.devTools,v=f===void 0?!0:f,c=r.preloadedState,p=c===void 0?void 0:c,w=r.enhancers,x=w===void 0?void 0:w,E;if(typeof a=="function")E=a;else if(Jn(a))E=Nm(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var T=u;typeof T=="function"&&(T=T(t));var m=K1.apply(void 0,T),L=El;v&&(L=iw(Wn({trace:!uw},typeof v=="object"&&v)));var _=[m];Array.isArray(x)?_=Al([m],x):typeof x=="function"&&(_=x(_));var A=L.apply(void 0,_);return Mm(E,p,A)}function gr(e,t){function r(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Wn(Wn({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function jm(e){var t={},r=[],n,a={addCase:function(o,u){var f=typeof o=="string"?o:o.type;if(f in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[f]=u,a},addMatcher:function(o,u){return r.push({matcher:o,reducer:u}),a},addDefaultCase:function(o){return n=o,a}};return e(a),[t,r,n]}function fw(e){return typeof e=="function"}function dw(e,t,r,n){r===void 0&&(r=[]);var a=typeof t=="function"?jm(t):[t,r,n],o=a[0],u=a[1],f=a[2],v;if(fw(e))v=function(){return Pf(e())};else{var c=Pf(e);v=function(){return c}}function p(w,x){w===void 0&&(w=v());var E=Al([o[x.type]],u.filter(function(T){var m=T.matcher;return m(x)}).map(function(T){var m=T.reducer;return m}));return E.filter(function(T){return!!T}).length===0&&(E=[f]),E.reduce(function(T,m){if(m)if(xn(T)){var L=T,_=m(L,x);return _===void 0?T:_}else{if(Hr(T))return Ko(T,function(A){return m(A,x)});var _=m(T,x);if(_===void 0){if(T===null)return T;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}return T},w)}return p.getInitialState=v,p}function hw(e,t){return e+"/"+t}function hi(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:Pf(e.initialState),n=e.reducers||{},a=Object.keys(n),o={},u={},f={};a.forEach(function(p){var w=n[p],x=hw(t,p),E,T;"reducer"in w?(E=w.reducer,T=w.prepare):E=w,o[p]=E,u[x]=E,f[p]=T?gr(x,T):gr(x)});function v(){var p=typeof e.extraReducers=="function"?jm(e.extraReducers):[e.extraReducers],w=p[0],x=w===void 0?{}:w,E=p[1],T=E===void 0?[]:E,m=p[2],L=m===void 0?void 0:m,_=Wn(Wn({},x),u);return dw(r,function(A){for(var C in _)A.addCase(C,_[C]);for(var k=0,P=T;k<P.length;k++){var I=P[k];A.addMatcher(I.matcher,I.reducer)}L&&A.addDefaultCase(L)})}var c;return{name:t,reducer:function(p,w){return c||(c=v()),c(p,w)},actions:f,caseReducers:o,getInitialState:function(){return c||(c=v()),c.getInitialState()}}}var pw="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zm=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=pw[Math.random()*64|0];return t},vw=["name","message","stack","code"],gc=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),dv=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),gw=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=vw;r<n.length;r++){var a=n[r];typeof e[a]=="string"&&(t[a]=e[a])}return t}return{message:String(e)}},hv=function(){function e(t,r,n){var a=gr(t+"/fulfilled",function(c,p,w,x){return{payload:c,meta:vc(Wn({},x||{}),{arg:w,requestId:p,requestStatus:"fulfilled"})}}),o=gr(t+"/pending",function(c,p,w){return{payload:void 0,meta:vc(Wn({},w||{}),{arg:p,requestId:c,requestStatus:"pending"})}}),u=gr(t+"/rejected",function(c,p,w,x,E){return{payload:x,error:(n&&n.serializeError||gw)(c||"Rejected"),meta:vc(Wn({},E||{}),{arg:w,requestId:p,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),f=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function v(c){return function(p,w,x){var E=n!=null&&n.idGenerator?n.idGenerator(c):zm(),T=new f,m;function L(A){m=A,T.abort()}var _=function(){return nw(this,null,function(){var A,C,k,P,I,F,H;return X1(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,4,,5]),P=(A=n==null?void 0:n.condition)==null?void 0:A.call(n,c,{getState:w,extra:x}),yw(P)?[4,P]:[3,2];case 1:P=Q.sent(),Q.label=2;case 2:if(P===!1||T.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(V,ee){return T.signal.addEventListener("abort",function(){return ee({name:"AbortError",message:m||"Aborted"})})}),p(o(E,c,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:E,arg:c},{getState:w,extra:x}))),[4,Promise.race([I,Promise.resolve(r(c,{dispatch:p,getState:w,extra:x,requestId:E,signal:T.signal,abort:L,rejectWithValue:function(V,ee){return new gc(V,ee)},fulfillWithValue:function(V,ee){return new dv(V,ee)}})).then(function(V){if(V instanceof gc)throw V;return V instanceof dv?a(V.payload,E,c,V.meta):a(V,E,c)})])];case 3:return k=Q.sent(),[3,5];case 4:return F=Q.sent(),k=F instanceof gc?u(null,E,c,F.payload,F.meta):u(F,E,c),[3,5];case 5:return H=n&&!n.dispatchConditionRejection&&u.match(k)&&k.meta.condition,H||p(k),[2,k]}})})}();return Object.assign(_,{abort:L,requestId:E,arg:c,unwrap:function(){return _.then(mw)}})}}return Object.assign(v,{pending:o,rejected:u,fulfilled:a,typePrefix:t})}return e.withTypes=function(){return e},e}();function mw(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function yw(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var xw=function(e){return e&&typeof e.match=="function"},Gm=function(e,t){return xw(e)?e.match(t):e(t)};function xa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.some(function(n){return Gm(n,r)})}}function ao(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.every(function(n){return Gm(n,r)})}}function gu(e,t){if(!e||!e.meta)return!1;var r=typeof e.meta.requestId=="string",n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function Ho(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function $d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return gu(r,["pending"])}:Ho(e)?function(r){var n=e.map(function(o){return o.pending}),a=xa.apply(void 0,n);return a(r)}:$d()(e[0])}function Lo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return gu(r,["rejected"])}:Ho(e)?function(r){var n=e.map(function(o){return o.rejected}),a=xa.apply(void 0,n);return a(r)}:Lo()(e[0])}function mu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n&&n.meta&&n.meta.rejectedWithValue};return e.length===0?function(n){var a=ao(Lo.apply(void 0,e),r);return a(n)}:Ho(e)?function(n){var a=ao(Lo.apply(void 0,e),r);return a(n)}:mu()(e[0])}function Ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return gu(r,["fulfilled"])}:Ho(e)?function(r){var n=e.map(function(o){return o.fulfilled}),a=xa.apply(void 0,n);return a(r)}:Ci()(e[0])}function Of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return gu(r,["pending","fulfilled","rejected"])}:Ho(e)?function(r){for(var n=[],a=0,o=e;a<o.length;a++){var u=o[a];n.push(u.pending,u.rejected,u.fulfilled)}var f=xa.apply(void 0,n);return f(r)}:Of()(e[0])}var qd="listenerMiddleware";gr(qd+"/add");gr(qd+"/removeAll");gr(qd+"/remove");var Wa="RTK_autoBatch",pv=function(){return function(e){var t;return{payload:e,meta:(t={},t[Wa]=!0,t)}}},vv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);P1();var wl=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(p){return v([c,p])}}function v(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=c[0]&2?a.return:c[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,c[1])).done)return o;switch(a=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(p){c=[6,p],a=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Tl=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},Ew=Object.defineProperty,Sw=Object.defineProperties,Aw=Object.getOwnPropertyDescriptors,Rl=Object.getOwnPropertySymbols,Km=Object.prototype.hasOwnProperty,Hm=Object.prototype.propertyIsEnumerable,gv=function(e,t,r){return t in e?Ew(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},kt=function(e,t){for(var r in t||(t={}))Km.call(t,r)&&gv(e,r,t[r]);if(Rl)for(var n=0,a=Rl(t);n<a.length;n++){var r=a[n];Hm.call(t,r)&&gv(e,r,t[r])}return e},Xr=function(e,t){return Sw(e,Aw(t))},mv=function(e,t){var r={};for(var n in e)Km.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Rl)for(var a=0,o=Rl(e);a<o.length;a++){var n=o[a];t.indexOf(n)<0&&Hm.call(e,n)&&(r[n]=e[n])}return r},_l=function(e,t,r){return new Promise(function(n,a){var o=function(v){try{f(r.next(v))}catch(c){a(c)}},u=function(v){try{f(r.throw(v))}catch(c){a(c)}},f=function(v){return v.done?n(v.value):Promise.resolve(v.value).then(o,u)};f((r=r.apply(e,t)).next())})},xt;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(xt||(xt={}));function ww(e){return{status:e,isUninitialized:e===xt.uninitialized,isLoading:e===xt.pending,isSuccess:e===xt.fulfilled,isError:e===xt.rejected}}function Tw(e){return new RegExp("(^|:)//").test(e)}var Rw=function(e){return e.replace(/\/$/,"")},_w=function(e){return e.replace(/^\//,"")};function bw(e,t){if(!e)return t;if(!t)return e;if(Tw(t))return t;var r=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Rw(e),t=_w(t),""+e+r+t}var yv=function(e){return[].concat.apply([],e)};function Cw(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Dw(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var xv=Jn;function Vm(e,t){if(e===t||!(xv(e)&&xv(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var r=Object.keys(t),n=Object.keys(e),a=r.length===n.length,o=Array.isArray(t)?[]:{},u=0,f=r;u<f.length;u++){var v=f[u];o[v]=Vm(e[v],t[v]),a&&(a=e[v]===o[v])}return a?e:o}var Ev=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},kw=function(e){return e.status>=200&&e.status<=299},Lw=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function Sv(e){if(!Jn(e))return e;for(var t=kt({},e),r=0,n=Object.entries(t);r<n.length;r++){var a=n[r],o=a[0],u=a[1];u===void 0&&delete t[o]}return t}function Pw(e){var t=this;e===void 0&&(e={});var r=e,n=r.baseUrl,a=r.prepareHeaders,o=a===void 0?function(A){return A}:a,u=r.fetchFn,f=u===void 0?Ev:u,v=r.paramsSerializer,c=r.isJsonContentType,p=c===void 0?Lw:c,w=r.jsonContentType,x=w===void 0?"application/json":w,E=r.jsonReplacer,T=r.timeout,m=r.validateStatus,L=mv(r,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","validateStatus"]);return typeof fetch>"u"&&f===Ev&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(A,C){return _l(t,null,function(){var k,P,I,F,H,Q,V,ee,ce,fe,he,Ae,Te,_e,ae,ue,pe,Ee,ye,Ce,we,Ue,Be,Le,nt,ct,rt,lt,Qe,it,Yt,ft,ir,Pt,ht,Tn;return wl(this,function(j){switch(j.label){case 0:return k=C.signal,P=C.getState,I=C.extra,F=C.endpoint,H=C.forced,Q=C.type,ee=typeof A=="string"?{url:A}:A,ce=ee.url,fe=ee.headers,he=fe===void 0?new Headers(L.headers):fe,Ae=ee.params,Te=Ae===void 0?void 0:Ae,_e=ee.responseHandler,ae=_e===void 0?"json":_e,ue=ee.validateStatus,pe=ue===void 0?m??kw:ue,Ee=ee.timeout,ye=Ee===void 0?T:Ee,Ce=mv(ee,["url","headers","params","responseHandler","validateStatus","timeout"]),we=kt(Xr(kt({},L),{signal:k}),Ce),he=new Headers(Sv(he)),Ue=we,[4,o(he,{getState:P,extra:I,endpoint:F,forced:H,type:Q})];case 1:Ue.headers=j.sent()||he,Be=function(X){return typeof X=="object"&&(Jn(X)||Array.isArray(X)||typeof X.toJSON=="function")},!we.headers.has("content-type")&&Be(we.body)&&we.headers.set("content-type",x),Be(we.body)&&p(we.headers)&&(we.body=JSON.stringify(we.body,E)),Te&&(Le=~ce.indexOf("?")?"&":"?",nt=v?v(Te):new URLSearchParams(Sv(Te)),ce+=Le+nt),ce=bw(n,ce),ct=new Request(ce,we),rt=ct.clone(),V={request:rt},Qe=!1,it=ye&&setTimeout(function(){Qe=!0,C.abort()},ye),j.label=2;case 2:return j.trys.push([2,4,5,6]),[4,f(ct)];case 3:return lt=j.sent(),[3,6];case 4:return Yt=j.sent(),[2,{error:{status:Qe?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Yt)},meta:V}];case 5:return it&&clearTimeout(it),[7];case 6:ft=lt.clone(),V.response=ft,Pt="",j.label=7;case 7:return j.trys.push([7,9,,10]),[4,Promise.all([_(lt,ae).then(function(X){return ir=X},function(X){return ht=X}),ft.text().then(function(X){return Pt=X},function(){})])];case 8:if(j.sent(),ht)throw ht;return[3,10];case 9:return Tn=j.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:lt.status,data:Pt,error:String(Tn)},meta:V}];case 10:return[2,pe(lt,ir)?{data:ir,meta:V}:{error:{status:lt.status,data:ir},meta:V}]}})})};function _(A,C){return _l(this,null,function(){var k;return wl(this,function(P){switch(P.label){case 0:return typeof C=="function"?[2,C(A)]:(C==="content-type"&&(C=p(A.headers)?"json":"text"),C!=="json"?[3,2]:[4,A.text()]);case 1:return k=P.sent(),[2,k.length?JSON.parse(k):null];case 2:return[2,A.text()]}})})}}var Av=function(){function e(t,r){r===void 0&&(r=void 0),this.value=t,this.meta=r}return e}(),Yd=gr("__rtkq/focused"),Wm=gr("__rtkq/unfocused"),Xd=gr("__rtkq/online"),Qm=gr("__rtkq/offline"),rn;(function(e){e.query="query",e.mutation="mutation"})(rn||(rn={}));function $m(e){return e.type===rn.query}function Ow(e){return e.type===rn.mutation}function qm(e,t,r,n,a,o){return Iw(e)?e(t,r,n,a).map(If).map(o):Array.isArray(e)?e.map(If).map(o):[]}function Iw(e){return typeof e=="function"}function If(e){return typeof e=="string"?{type:e}:e}function mc(e){return e!=null}var Po=Symbol("forceQueryFn"),Ff=function(e){return typeof e[Po]=="function"};function Fw(e){var t=e.serializeQueryArgs,r=e.queryThunk,n=e.mutationThunk,a=e.api,o=e.context,u=new Map,f=new Map,v=a.internalActions,c=v.unsubscribeQueryResult,p=v.removeMutationResult,w=v.updateSubscriptionOptions;return{buildInitiateQuery:A,buildInitiateMutation:C,getRunningQueryThunk:T,getRunningMutationThunk:m,getRunningQueriesThunk:L,getRunningMutationsThunk:_,getRunningOperationPromises:E,removalWarning:x};function x(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function E(){typeof process<"u";var k=function(P){return Array.from(P.values()).flatMap(function(I){return I?Object.values(I):[]})};return Tl(Tl([],k(u)),k(f)).filter(mc)}function T(k,P){return function(I){var F,H=o.endpointDefinitions[k],Q=t({queryArgs:P,endpointDefinition:H,endpointName:k});return(F=u.get(I))==null?void 0:F[Q]}}function m(k,P){return function(I){var F;return(F=f.get(I))==null?void 0:F[P]}}function L(){return function(k){return Object.values(u.get(k)||{}).filter(mc)}}function _(){return function(k){return Object.values(f.get(k)||{}).filter(mc)}}function A(k,P){var I=function(F,H){var Q=H===void 0?{}:H,V=Q.subscribe,ee=V===void 0?!0:V,ce=Q.forceRefetch,fe=Q.subscriptionOptions,he=Po,Ae=Q[he];return function(Te,_e){var ae,ue,pe=t({queryArgs:F,endpointDefinition:P,endpointName:k}),Ee=r((ae={type:"query",subscribe:ee,forceRefetch:ce,subscriptionOptions:fe,endpointName:k,originalArgs:F,queryCacheKey:pe},ae[Po]=Ae,ae)),ye=a.endpoints[k].select(F),Ce=Te(Ee),we=ye(_e()),Ue=Ce.requestId,Be=Ce.abort,Le=we.requestId!==Ue,nt=(ue=u.get(Te))==null?void 0:ue[pe],ct=function(){return ye(_e())},rt=Object.assign(Ae?Ce.then(ct):Le&&!nt?Promise.resolve(we):Promise.all([nt,Ce]).then(ct),{arg:F,requestId:Ue,subscriptionOptions:fe,queryCacheKey:pe,abort:Be,unwrap:function(){return _l(this,null,function(){var Qe;return wl(this,function(it){switch(it.label){case 0:return[4,rt];case 1:if(Qe=it.sent(),Qe.isError)throw Qe.error;return[2,Qe.data]}})})},refetch:function(){return Te(I(F,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){ee&&Te(c({queryCacheKey:pe,requestId:Ue}))},updateSubscriptionOptions:function(Qe){rt.subscriptionOptions=Qe,Te(w({endpointName:k,requestId:Ue,queryCacheKey:pe,options:Qe}))}});if(!nt&&!Le&&!Ae){var lt=u.get(Te)||{};lt[pe]=rt,u.set(Te,lt),rt.then(function(){delete lt[pe],Object.keys(lt).length||u.delete(Te)})}return rt}};return I}function C(k){return function(P,I){var F=I===void 0?{}:I,H=F.track,Q=H===void 0?!0:H,V=F.fixedCacheKey;return function(ee,ce){var fe=n({type:"mutation",endpointName:k,originalArgs:P,track:Q,fixedCacheKey:V}),he=ee(fe),Ae=he.requestId,Te=he.abort,_e=he.unwrap,ae=he.unwrap().then(function(ye){return{data:ye}}).catch(function(ye){return{error:ye}}),ue=function(){ee(p({requestId:Ae,fixedCacheKey:V}))},pe=Object.assign(ae,{arg:he.arg,requestId:Ae,abort:Te,unwrap:_e,unsubscribe:ue,reset:ue}),Ee=f.get(ee)||{};return f.set(ee,Ee),Ee[Ae]=pe,pe.then(function(){delete Ee[Ae],Object.keys(Ee).length||f.delete(ee)}),V&&(Ee[V]=pe,pe.then(function(){Ee[V]===pe&&(delete Ee[V],Object.keys(Ee).length||f.delete(ee))})),pe}}}}function wv(e){return e}function Mw(e){var t=this,r=e.reducerPath,n=e.baseQuery,a=e.context.endpointDefinitions,o=e.serializeQueryArgs,u=e.api,f=function(C,k,P){return function(I){var F=a[C];I(u.internalActions.queryResultPatched({queryCacheKey:o({queryArgs:k,endpointDefinition:F,endpointName:C}),patches:P}))}},v=function(C,k,P){return function(I,F){var H,Q,V=u.endpoints[C].select(k)(F()),ee={patches:[],inversePatches:[],undo:function(){return I(u.util.patchQueryData(C,k,ee.inversePatches))}};if(V.status===xt.uninitialized)return ee;if("data"in V)if(Hr(V.data)){var ce=Fm(V.data,P),fe=ce[1],he=ce[2];(H=ee.patches).push.apply(H,fe),(Q=ee.inversePatches).push.apply(Q,he)}else{var Ae=P(V.data);ee.patches.push({op:"replace",path:[],value:Ae}),ee.inversePatches.push({op:"replace",path:[],value:V.data})}return I(u.util.patchQueryData(C,k,ee.patches)),ee}},c=function(C,k,P){return function(I){var F;return I(u.endpoints[C].initiate(k,(F={subscribe:!1,forceRefetch:!0},F[Po]=function(){return{data:P}},F)))}},p=function(C,k){return _l(t,[C,k],function(P,I){var F,H,Q,V,ee,ce,fe,he,Ae,Te,_e,ae,ue,pe,Ee,ye,Ce,we,Ue=I.signal,Be=I.abort,Le=I.rejectWithValue,nt=I.fulfillWithValue,ct=I.dispatch,rt=I.getState,lt=I.extra;return wl(this,function(Qe){switch(Qe.label){case 0:F=a[P.endpointName],Qe.label=1;case 1:return Qe.trys.push([1,8,,13]),H=wv,Q=void 0,V={signal:Ue,abort:Be,dispatch:ct,getState:rt,extra:lt,endpoint:P.endpointName,type:P.type,forced:P.type==="query"?w(P,rt()):void 0},ee=P.type==="query"?P[Po]:void 0,ee?(Q=ee(),[3,6]):[3,2];case 2:return F.query?[4,n(F.query(P.originalArgs),V,F.extraOptions)]:[3,4];case 3:return Q=Qe.sent(),F.transformResponse&&(H=F.transformResponse),[3,6];case 4:return[4,F.queryFn(P.originalArgs,V,F.extraOptions,function(it){return n(it,V,F.extraOptions)})];case 5:Q=Qe.sent(),Qe.label=6;case 6:if(typeof process<"u",Q.error)throw new Av(Q.error,Q.meta);return _e=nt,[4,H(Q.data,Q.meta,P.originalArgs)];case 7:return[2,_e.apply(void 0,[Qe.sent(),(Ce={fulfilledTimeStamp:Date.now(),baseQueryMeta:Q.meta},Ce[Wa]=!0,Ce)])];case 8:if(ae=Qe.sent(),ue=ae,!(ue instanceof Av))return[3,12];pe=wv,F.query&&F.transformErrorResponse&&(pe=F.transformErrorResponse),Qe.label=9;case 9:return Qe.trys.push([9,11,,12]),Ee=Le,[4,pe(ue.value,ue.meta,P.originalArgs)];case 10:return[2,Ee.apply(void 0,[Qe.sent(),(we={baseQueryMeta:ue.meta},we[Wa]=!0,we)])];case 11:return ye=Qe.sent(),ue=ye,[3,12];case 12:throw typeof process<"u",console.error(ue),ue;case 13:return[2]}})})};function w(C,k){var P,I,F,H,Q=(I=(P=k[r])==null?void 0:P.queries)==null?void 0:I[C.queryCacheKey],V=(F=k[r])==null?void 0:F.config.refetchOnMountOrArgChange,ee=Q==null?void 0:Q.fulfilledTimeStamp,ce=(H=C.forceRefetch)!=null?H:C.subscribe&&V;return ce?ce===!0||(Number(new Date)-Number(ee))/1e3>=ce:!1}var x=hv(r+"/executeQuery",p,{getPendingMeta:function(){var C;return C={startedTimeStamp:Date.now()},C[Wa]=!0,C},condition:function(C,k){var P=k.getState,I,F,H,Q=P(),V=(F=(I=Q[r])==null?void 0:I.queries)==null?void 0:F[C.queryCacheKey],ee=V==null?void 0:V.fulfilledTimeStamp,ce=C.originalArgs,fe=V==null?void 0:V.originalArgs,he=a[C.endpointName];return Ff(C)?!0:(V==null?void 0:V.status)==="pending"?!1:w(C,Q)||$m(he)&&((H=he==null?void 0:he.forceRefetch)!=null&&H.call(he,{currentArg:ce,previousArg:fe,endpointState:V,state:Q}))?!0:!ee},dispatchConditionRejection:!0}),E=hv(r+"/executeMutation",p,{getPendingMeta:function(){var C;return C={startedTimeStamp:Date.now()},C[Wa]=!0,C}}),T=function(C){return"force"in C},m=function(C){return"ifOlderThan"in C},L=function(C,k,P){return function(I,F){var H=T(P)&&P.force,Q=m(P)&&P.ifOlderThan,V=function(he){return he===void 0&&(he=!0),u.endpoints[C].initiate(k,{forceRefetch:he})},ee=u.endpoints[C].select(k)(F());if(H)I(V());else if(Q){var ce=ee==null?void 0:ee.fulfilledTimeStamp;if(!ce){I(V());return}var fe=(Number(new Date)-Number(new Date(ce)))/1e3>=Q;fe&&I(V())}else I(V(!1))}};function _(C){return function(k){var P,I;return((I=(P=k==null?void 0:k.meta)==null?void 0:P.arg)==null?void 0:I.endpointName)===C}}function A(C,k){return{matchPending:ao($d(C),_(k)),matchFulfilled:ao(Ci(C),_(k)),matchRejected:ao(Lo(C),_(k))}}return{queryThunk:x,mutationThunk:E,prefetch:L,updateQueryData:v,upsertQueryData:c,patchQueryData:f,buildMatchThunkActions:A}}function Ym(e,t,r,n){return qm(r[e.meta.arg.endpointName][t],Ci(e)?e.payload:void 0,mu(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function ws(e,t,r){var n=e[t];n&&r(n)}function Oo(e){var t;return(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?t:e.requestId}function Tv(e,t,r){var n=e[Oo(t)];n&&r(n)}var Na={};function Nw(e){var t=e.reducerPath,r=e.queryThunk,n=e.mutationThunk,a=e.context,o=a.endpointDefinitions,u=a.apiUid,f=a.extractRehydrationInfo,v=a.hasRehydrationInfo,c=e.assertTagType,p=e.config,w=gr(t+"/resetApiState"),x=hi({name:t+"/queries",initialState:Na,reducers:{removeQueryResult:{reducer:function(P,I){var F=I.payload.queryCacheKey;delete P[F]},prepare:pv()},queryResultPatched:function(P,I){var F=I.payload,H=F.queryCacheKey,Q=F.patches;ws(P,H,function(V){V.data=av(V.data,Q.concat())})}},extraReducers:function(P){P.addCase(r.pending,function(I,F){var H=F.meta,Q=F.meta.arg,V,ee,ce=Ff(Q);(Q.subscribe||ce)&&((ee=I[V=Q.queryCacheKey])!=null||(I[V]={status:xt.uninitialized,endpointName:Q.endpointName})),ws(I,Q.queryCacheKey,function(fe){fe.status=xt.pending,fe.requestId=ce&&fe.requestId?fe.requestId:H.requestId,Q.originalArgs!==void 0&&(fe.originalArgs=Q.originalArgs),fe.startedTimeStamp=H.startedTimeStamp})}).addCase(r.fulfilled,function(I,F){var H=F.meta,Q=F.payload;ws(I,H.arg.queryCacheKey,function(V){var ee;if(!(V.requestId!==H.requestId&&!Ff(H.arg))){var ce=o[H.arg.endpointName].merge;if(V.status=xt.fulfilled,ce)if(V.data!==void 0){var fe=H.fulfilledTimeStamp,he=H.arg,Ae=H.baseQueryMeta,Te=H.requestId,_e=Ko(V.data,function(ae){return ce(ae,Q,{arg:he.originalArgs,baseQueryMeta:Ae,fulfilledTimeStamp:fe,requestId:Te})});V.data=_e}else V.data=Q;else V.data=(ee=o[H.arg.endpointName].structuralSharing)==null||ee?Vm(V.data,Q):Q;delete V.error,V.fulfilledTimeStamp=H.fulfilledTimeStamp}})}).addCase(r.rejected,function(I,F){var H=F.meta,Q=H.condition,V=H.arg,ee=H.requestId,ce=F.error,fe=F.payload;ws(I,V.queryCacheKey,function(he){if(!Q){if(he.requestId!==ee)return;he.status=xt.rejected,he.error=fe??ce}})}).addMatcher(v,function(I,F){for(var H=f(F).queries,Q=0,V=Object.entries(H);Q<V.length;Q++){var ee=V[Q],ce=ee[0],fe=ee[1];((fe==null?void 0:fe.status)===xt.fulfilled||(fe==null?void 0:fe.status)===xt.rejected)&&(I[ce]=fe)}})}}),E=hi({name:t+"/mutations",initialState:Na,reducers:{removeMutationResult:{reducer:function(P,I){var F=I.payload,H=Oo(F);H in P&&delete P[H]},prepare:pv()}},extraReducers:function(P){P.addCase(n.pending,function(I,F){var H=F.meta,Q=F.meta,V=Q.requestId,ee=Q.arg,ce=Q.startedTimeStamp;ee.track&&(I[Oo(H)]={requestId:V,status:xt.pending,endpointName:ee.endpointName,startedTimeStamp:ce})}).addCase(n.fulfilled,function(I,F){var H=F.payload,Q=F.meta;Q.arg.track&&Tv(I,Q,function(V){V.requestId===Q.requestId&&(V.status=xt.fulfilled,V.data=H,V.fulfilledTimeStamp=Q.fulfilledTimeStamp)})}).addCase(n.rejected,function(I,F){var H=F.payload,Q=F.error,V=F.meta;V.arg.track&&Tv(I,V,function(ee){ee.requestId===V.requestId&&(ee.status=xt.rejected,ee.error=H??Q)})}).addMatcher(v,function(I,F){for(var H=f(F).mutations,Q=0,V=Object.entries(H);Q<V.length;Q++){var ee=V[Q],ce=ee[0],fe=ee[1];((fe==null?void 0:fe.status)===xt.fulfilled||(fe==null?void 0:fe.status)===xt.rejected)&&ce!==(fe==null?void 0:fe.requestId)&&(I[ce]=fe)}})}}),T=hi({name:t+"/invalidation",initialState:Na,reducers:{},extraReducers:function(P){P.addCase(x.actions.removeQueryResult,function(I,F){for(var H=F.payload.queryCacheKey,Q=0,V=Object.values(I);Q<V.length;Q++)for(var ee=V[Q],ce=0,fe=Object.values(ee);ce<fe.length;ce++){var he=fe[ce],Ae=he.indexOf(H);Ae!==-1&&he.splice(Ae,1)}}).addMatcher(v,function(I,F){for(var H,Q,V,ee,ce=f(F).provided,fe=0,he=Object.entries(ce);fe<he.length;fe++)for(var Ae=he[fe],Te=Ae[0],_e=Ae[1],ae=0,ue=Object.entries(_e);ae<ue.length;ae++)for(var pe=ue[ae],Ee=pe[0],ye=pe[1],Ce=(ee=(Q=(H=I[Te])!=null?H:I[Te]={})[V=Ee||"__internal_without_id"])!=null?ee:Q[V]=[],we=0,Ue=ye;we<Ue.length;we++){var Be=Ue[we],Le=Ce.includes(Be);Le||Ce.push(Be)}}).addMatcher(xa(Ci(r),mu(r)),function(I,F){for(var H,Q,V,ee,ce=Ym(F,"providesTags",o,c),fe=F.meta.arg.queryCacheKey,he=0,Ae=Object.values(I);he<Ae.length;he++)for(var Te=Ae[he],_e=0,ae=Object.values(Te);_e<ae.length;_e++){var ue=ae[_e],pe=ue.indexOf(fe);pe!==-1&&ue.splice(pe,1)}for(var Ee=0,ye=ce;Ee<ye.length;Ee++){var Ce=ye[Ee],we=Ce.type,Ue=Ce.id,Be=(ee=(Q=(H=I[we])!=null?H:I[we]={})[V=Ue||"__internal_without_id"])!=null?ee:Q[V]=[],Le=Be.includes(fe);Le||Be.push(fe)}})}}),m=hi({name:t+"/subscriptions",initialState:Na,reducers:{updateSubscriptionOptions:function(P,I){},unsubscribeQueryResult:function(P,I){},internal_probeSubscription:function(P,I){}}}),L=hi({name:t+"/internalSubscriptions",initialState:Na,reducers:{subscriptionsUpdated:function(P,I){return av(P,I.payload)}}}),_=hi({name:t+"/config",initialState:kt({online:Cw(),focused:Dw(),middlewareRegistered:!1},p),reducers:{middlewareRegistered:function(P,I){var F=I.payload;P.middlewareRegistered=P.middlewareRegistered==="conflict"||u!==F?"conflict":!0}},extraReducers:function(P){P.addCase(Xd,function(I){I.online=!0}).addCase(Qm,function(I){I.online=!1}).addCase(Yd,function(I){I.focused=!0}).addCase(Wm,function(I){I.focused=!1}).addMatcher(v,function(I){return kt({},I)})}}),A=Nm({queries:x.reducer,mutations:E.reducer,provided:T.reducer,subscriptions:L.reducer,config:_.reducer}),C=function(P,I){return A(w.match(I)?void 0:P,I)},k=Xr(kt(kt(kt(kt(kt({},_.actions),x.actions),m.actions),L.actions),E.actions),{unsubscribeMutationResult:E.actions.removeMutationResult,resetApiState:w});return{reducer:C,actions:k}}var mi=Symbol.for("RTKQ/skipToken"),Xm={status:xt.uninitialized},Rv=Ko(Xm,function(){}),_v=Ko(Xm,function(){});function Bw(e){var t=e.serializeQueryArgs,r=e.reducerPath,n=function(p){return Rv},a=function(p){return _v};return{buildQuerySelector:f,buildMutationSelector:v,selectInvalidatedBy:c};function o(p){return kt(kt({},p),ww(p.status))}function u(p){var w=p[r];return w}function f(p,w){return function(x){var E=t({queryArgs:x,endpointDefinition:w,endpointName:p}),T=function(L){var _,A,C;return(C=(A=(_=u(L))==null?void 0:_.queries)==null?void 0:A[E])!=null?C:Rv},m=x===mi?n:T;return io(m,o)}}function v(){return function(p){var w,x;typeof p=="object"?x=(w=Oo(p))!=null?w:mi:x=p;var E=function(m){var L,_,A;return(A=(_=(L=u(m))==null?void 0:L.mutations)==null?void 0:_[x])!=null?A:_v},T=x===mi?a:E;return io(T,o)}}function c(p,w){for(var x,E=p[r],T=new Set,m=0,L=w.map(If);m<L.length;m++){var _=L[m],A=E.provided[_.type];if(A)for(var C=(x=_.id!==void 0?A[_.id]:yv(Object.values(A)))!=null?x:[],k=0,P=C;k<P.length;k++){var I=P[k];T.add(I)}}return yv(Array.from(T.values()).map(function(F){var H=E.queries[F];return H?[{queryCacheKey:F,endpointName:H.endpointName,originalArgs:H.originalArgs}]:[]}))}}var Ts=WeakMap?new WeakMap:void 0,bv=function(e){var t=e.endpointName,r=e.queryArgs,n="",a=Ts==null?void 0:Ts.get(r);if(typeof a=="string")n=a;else{var o=JSON.stringify(r,function(u,f){return Jn(f)?Object.keys(f).sort().reduce(function(v,c){return v[c]=f[c],v},{}):f});Jn(r)&&(Ts==null||Ts.set(r,o)),n=o}return t+"("+n+")"};function Uw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){var a=Lf(function(p){var w,x;return(x=n.extractRehydrationInfo)==null?void 0:x.call(n,p,{reducerPath:(w=n.reducerPath)!=null?w:"api"})}),o=Xr(kt({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},n),{extractRehydrationInfo:a,serializeQueryArgs:function(p){var w=bv;if("serializeQueryArgs"in p.endpointDefinition){var x=p.endpointDefinition.serializeQueryArgs;w=function(E){var T=x(E);return typeof T=="string"?T:bv(Xr(kt({},E),{queryArgs:T}))}}else n.serializeQueryArgs&&(w=n.serializeQueryArgs);return w(p)},tagTypes:Tl([],n.tagTypes||[])}),u={endpointDefinitions:{},batch:function(p){p()},apiUid:zm(),extractRehydrationInfo:a,hasRehydrationInfo:Lf(function(p){return a(p)!=null})},f={injectEndpoints:c,enhanceEndpoints:function(p){var w=p.addTagTypes,x=p.endpoints;if(w)for(var E=0,T=w;E<T.length;E++){var m=T[E];o.tagTypes.includes(m)||o.tagTypes.push(m)}if(x)for(var L=0,_=Object.entries(x);L<_.length;L++){var A=_[L],C=A[0],k=A[1];typeof k=="function"?k(u.endpointDefinitions[C]):Object.assign(u.endpointDefinitions[C]||{},k)}return f}},v=e.map(function(p){return p.init(f,o,u)});function c(p){for(var w=p.endpoints({query:function(k){return Xr(kt({},k),{type:rn.query})},mutation:function(k){return Xr(kt({},k),{type:rn.mutation})}}),x=0,E=Object.entries(w);x<E.length;x++){var T=E[x],m=T[0],L=T[1];if(!p.overrideExisting&&m in u.endpointDefinitions){typeof process<"u";continue}u.endpointDefinitions[m]=L;for(var _=0,A=v;_<A.length;_++){var C=A[_];C.injectEndpoint(m,L)}}return f}return f.injectEndpoints({endpoints:n.endpoints})}}function jw(e){for(var t in e)return!1;return!0}var zw=2147483647/1e3-1,Gw=function(e){var t=e.reducerPath,r=e.api,n=e.context,a=e.internalState,o=r.internalActions,u=o.removeQueryResult,f=o.unsubscribeQueryResult;function v(x){var E=a.currentSubscriptions[x];return!!E&&!jw(E)}var c={},p=function(x,E,T){var m;if(f.match(x)){var L=E.getState()[t],_=x.payload.queryCacheKey;w(_,(m=L.queries[_])==null?void 0:m.endpointName,E,L.config)}if(r.util.resetApiState.match(x))for(var A=0,C=Object.entries(c);A<C.length;A++){var k=C[A],P=k[0],I=k[1];I&&clearTimeout(I),delete c[P]}if(n.hasRehydrationInfo(x))for(var L=E.getState()[t],F=n.extractRehydrationInfo(x).queries,H=0,Q=Object.entries(F);H<Q.length;H++){var V=Q[H],_=V[0],ee=V[1];w(_,ee==null?void 0:ee.endpointName,E,L.config)}};function w(x,E,T,m){var L,_=n.endpointDefinitions[E],A=(L=_==null?void 0:_.keepUnusedDataFor)!=null?L:m.keepUnusedDataFor;if(A!==1/0){var C=Math.max(0,Math.min(A,zw));if(!v(x)){var k=c[x];k&&clearTimeout(k),c[x]=setTimeout(function(){v(x)||T.dispatch(u({queryCacheKey:x})),delete c[x]},C*1e3)}}}return p},Kw=function(e){var t=e.reducerPath,r=e.context,n=e.context.endpointDefinitions,a=e.mutationThunk,o=e.api,u=e.assertTagType,f=e.refetchQuery,v=o.internalActions.removeQueryResult,c=xa(Ci(a),mu(a)),p=function(x,E){c(x)&&w(Ym(x,"invalidatesTags",n,u),E),o.util.invalidateTags.match(x)&&w(qm(x.payload,void 0,void 0,void 0,void 0,u),E)};function w(x,E){var T=E.getState(),m=T[t],L=o.util.selectInvalidatedBy(T,x);r.batch(function(){for(var _,A=Array.from(L.values()),C=0,k=A;C<k.length;C++){var P=k[C].queryCacheKey,I=m.queries[P],F=(_=m.subscriptions[P])!=null?_:{};I&&(Object.keys(F).length===0?E.dispatch(v({queryCacheKey:P})):I.status!==xt.uninitialized&&E.dispatch(f(I,P)))}})}return p},Hw=function(e){var t=e.reducerPath,r=e.queryThunk,n=e.api,a=e.refetchQuery,o=e.internalState,u={},f=function(E,T){(n.internalActions.updateSubscriptionOptions.match(E)||n.internalActions.unsubscribeQueryResult.match(E))&&c(E.payload,T),(r.pending.match(E)||r.rejected.match(E)&&E.meta.condition)&&c(E.meta.arg,T),(r.fulfilled.match(E)||r.rejected.match(E)&&!E.meta.condition)&&v(E.meta.arg,T),n.util.resetApiState.match(E)&&w()};function v(E,T){var m=E.queryCacheKey,L=T.getState()[t],_=L.queries[m],A=o.currentSubscriptions[m];if(!(!_||_.status===xt.uninitialized)){var C=x(A);if(Number.isFinite(C)){var k=u[m];k!=null&&k.timeout&&(clearTimeout(k.timeout),k.timeout=void 0);var P=Date.now()+C,I=u[m]={nextPollTimestamp:P,pollingInterval:C,timeout:setTimeout(function(){I.timeout=void 0,T.dispatch(a(_,m))},C)}}}}function c(E,T){var m=E.queryCacheKey,L=T.getState()[t],_=L.queries[m],A=o.currentSubscriptions[m];if(!(!_||_.status===xt.uninitialized)){var C=x(A);if(!Number.isFinite(C)){p(m);return}var k=u[m],P=Date.now()+C;(!k||P<k.nextPollTimestamp)&&v({queryCacheKey:m},T)}}function p(E){var T=u[E];T!=null&&T.timeout&&clearTimeout(T.timeout),delete u[E]}function w(){for(var E=0,T=Object.keys(u);E<T.length;E++){var m=T[E];p(m)}}function x(E){E===void 0&&(E={});var T=Number.POSITIVE_INFINITY;for(var m in E)E[m].pollingInterval&&(T=Math.min(E[m].pollingInterval,T));return T}return f},Vw=function(e){var t=e.reducerPath,r=e.context,n=e.api,a=e.refetchQuery,o=e.internalState,u=n.internalActions.removeQueryResult,f=function(c,p){Yd.match(c)&&v(p,"refetchOnFocus"),Xd.match(c)&&v(p,"refetchOnReconnect")};function v(c,p){var w=c.getState()[t],x=w.queries,E=o.currentSubscriptions;r.batch(function(){for(var T=0,m=Object.keys(E);T<m.length;T++){var L=m[T],_=x[L],A=E[L];if(!(!A||!_)){var C=Object.values(A).some(function(k){return k[p]===!0})||Object.values(A).every(function(k){return k[p]===void 0})&&w.config[p];C&&(Object.keys(A).length===0?c.dispatch(u({queryCacheKey:L})):_.status!==xt.uninitialized&&c.dispatch(a(_,L)))}}})}return f},Cv=new Error("Promise never resolved before cacheEntryRemoved."),Ww=function(e){var t=e.api,r=e.reducerPath,n=e.context,a=e.queryThunk,o=e.mutationThunk;e.internalState;var u=Of(a),f=Of(o),v=Ci(a,o),c={},p=function(E,T,m){var L=w(E);if(a.pending.match(E)){var _=m[r].queries[L],A=T.getState()[r].queries[L];!_&&A&&x(E.meta.arg.endpointName,E.meta.arg.originalArgs,L,T,E.meta.requestId)}else if(o.pending.match(E)){var A=T.getState()[r].mutations[L];A&&x(E.meta.arg.endpointName,E.meta.arg.originalArgs,L,T,E.meta.requestId)}else if(v(E)){var C=c[L];C!=null&&C.valueResolved&&(C.valueResolved({data:E.payload,meta:E.meta.baseQueryMeta}),delete C.valueResolved)}else if(t.internalActions.removeQueryResult.match(E)||t.internalActions.removeMutationResult.match(E)){var C=c[L];C&&(delete c[L],C.cacheEntryRemoved())}else if(t.util.resetApiState.match(E))for(var k=0,P=Object.entries(c);k<P.length;k++){var I=P[k],F=I[0],C=I[1];delete c[F],C.cacheEntryRemoved()}};function w(E){return u(E)?E.meta.arg.queryCacheKey:f(E)?E.meta.requestId:t.internalActions.removeQueryResult.match(E)?E.payload.queryCacheKey:t.internalActions.removeMutationResult.match(E)?Oo(E.payload):""}function x(E,T,m,L,_){var A=n.endpointDefinitions[E],C=A==null?void 0:A.onCacheEntryAdded;if(C){var k={},P=new Promise(function(ee){k.cacheEntryRemoved=ee}),I=Promise.race([new Promise(function(ee){k.valueResolved=ee}),P.then(function(){throw Cv})]);I.catch(function(){}),c[m]=k;var F=t.endpoints[E].select(A.type===rn.query?T:m),H=L.dispatch(function(ee,ce,fe){return fe}),Q=Xr(kt({},L),{getCacheEntry:function(){return F(L.getState())},requestId:_,extra:H,updateCachedData:A.type===rn.query?function(ee){return L.dispatch(t.util.updateQueryData(E,T,ee))}:void 0,cacheDataLoaded:I,cacheEntryRemoved:P}),V=C(T,Q);Promise.resolve(V).catch(function(ee){if(ee!==Cv)throw ee})}}return p},Qw=function(e){var t=e.api,r=e.context,n=e.queryThunk,a=e.mutationThunk,o=$d(n,a),u=Lo(n,a),f=Ci(n,a),v={},c=function(p,w){var x,E,T;if(o(p)){var m=p.meta,L=m.requestId,_=m.arg,A=_.endpointName,C=_.originalArgs,k=r.endpointDefinitions[A],P=k==null?void 0:k.onQueryStarted;if(P){var I={},F=new Promise(function(Ae,Te){I.resolve=Ae,I.reject=Te});F.catch(function(){}),v[L]=I;var H=t.endpoints[A].select(k.type===rn.query?C:L),Q=w.dispatch(function(Ae,Te,_e){return _e}),V=Xr(kt({},w),{getCacheEntry:function(){return H(w.getState())},requestId:L,extra:Q,updateCachedData:k.type===rn.query?function(Ae){return w.dispatch(t.util.updateQueryData(A,C,Ae))}:void 0,queryFulfilled:F});P(C,V)}}else if(f(p)){var ee=p.meta,L=ee.requestId,ce=ee.baseQueryMeta;(x=v[L])==null||x.resolve({data:p.payload,meta:ce}),delete v[L]}else if(u(p)){var fe=p.meta,L=fe.requestId,he=fe.rejectedWithValue,ce=fe.baseQueryMeta;(T=v[L])==null||T.reject({error:(E=p.payload)!=null?E:p.error,isUnhandledError:!he,meta:ce}),delete v[L]}};return c},$w=function(e){var t=e.api,r=e.context.apiUid,n=e.reducerPath;return function(a,o){var u,f;t.util.resetApiState.match(a)&&o.dispatch(t.internalActions.middlewareRegistered(r)),typeof process<"u"}},Dv,qw=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(Dv||(Dv=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},Yw=function(e){var t=e.api,r=e.queryThunk,n=e.internalState,a=t.reducerPath+"/subscriptions",o=null,u=!1,f=t.internalActions,v=f.updateSubscriptionOptions,c=f.unsubscribeQueryResult,p=function(w,x){var E,T,m,L,_,A,C,k,P;if(v.match(x)){var I=x.payload,F=I.queryCacheKey,H=I.requestId,Q=I.options;return(E=w==null?void 0:w[F])!=null&&E[H]&&(w[F][H]=Q),!0}if(c.match(x)){var V=x.payload,F=V.queryCacheKey,H=V.requestId;return w[F]&&delete w[F][H],!0}if(t.internalActions.removeQueryResult.match(x))return delete w[x.payload.queryCacheKey],!0;if(r.pending.match(x)){var ee=x.meta,ce=ee.arg,H=ee.requestId;if(ce.subscribe){var fe=(m=w[T=ce.queryCacheKey])!=null?m:w[T]={};return fe[H]=(_=(L=ce.subscriptionOptions)!=null?L:fe[H])!=null?_:{},!0}}if(r.rejected.match(x)){var he=x.meta,Ae=he.condition,ce=he.arg,H=he.requestId;if(Ae&&ce.subscribe){var fe=(C=w[A=ce.queryCacheKey])!=null?C:w[A]={};return fe[H]=(P=(k=ce.subscriptionOptions)!=null?k:fe[H])!=null?P:{},!0}}return!1};return function(w,x){var E,T;if(o||(o=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.internalActions.internal_probeSubscription.match(w)){var m=w.payload,L=m.queryCacheKey,_=m.requestId,A=!!((E=n.currentSubscriptions[L])!=null&&E[_]);return[!1,A]}var C=p(n.currentSubscriptions,w);if(C){u||(qw(function(){var F=JSON.parse(JSON.stringify(n.currentSubscriptions)),H=Fm(o,function(){return F}),Q=H[1];x.next(t.internalActions.subscriptionsUpdated(Q)),o=F,u=!1}),u=!0);var k=!!((T=w.type)!=null&&T.startsWith(a)),P=r.rejected.match(w)&&w.meta.condition&&!!w.meta.arg.subscribe,I=!k&&!P;return[I,!1]}return[!0,!1]}};function Xw(e){var t=e.reducerPath,r=e.queryThunk,n=e.api,a=e.context,o=a.apiUid,u={invalidateTags:gr(t+"/invalidateTags")},f=function(w){return!!w&&typeof w.type=="string"&&w.type.startsWith(t+"/")},v=[$w,Gw,Kw,Hw,Ww,Qw],c=function(w){var x=!1,E={currentSubscriptions:{}},T=Xr(kt({},e),{internalState:E,refetchQuery:p}),m=v.map(function(A){return A(T)}),L=Yw(T),_=Vw(T);return function(A){return function(C){x||(x=!0,w.dispatch(n.internalActions.middlewareRegistered(o)));var k=Xr(kt({},w),{next:A}),P=w.getState(),I=L(C,k,P),F=I[0],H=I[1],Q;if(F?Q=A(C):Q=H,w.getState()[t]&&(_(C,k,P),f(C)||a.hasRehydrationInfo(C)))for(var V=0,ee=m;V<ee.length;V++){var ce=ee[V];ce(C,k,P)}return Q}}};return{middleware:c,actions:u};function p(w,x,E){return E===void 0&&(E={}),r(kt({type:"query",endpointName:w.endpointName,originalArgs:w.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:x},E))}}function bn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,Tl([e],t))}var kv=Symbol(),Jw=function(){return{name:kv,init:function(e,t,r){var n=t.baseQuery,a=t.tagTypes,o=t.reducerPath,u=t.serializeQueryArgs,f=t.keepUnusedDataFor,v=t.refetchOnMountOrArgChange,c=t.refetchOnFocus,p=t.refetchOnReconnect;O1();var w=function(Ce){return typeof process<"u",Ce};Object.assign(e,{reducerPath:o,endpoints:{},internalActions:{onOnline:Xd,onOffline:Qm,onFocus:Yd,onFocusLost:Wm},util:{}});var x=Mw({baseQuery:n,reducerPath:o,context:r,api:e,serializeQueryArgs:u}),E=x.queryThunk,T=x.mutationThunk,m=x.patchQueryData,L=x.updateQueryData,_=x.upsertQueryData,A=x.prefetch,C=x.buildMatchThunkActions,k=Nw({context:r,queryThunk:E,mutationThunk:T,reducerPath:o,assertTagType:w,config:{refetchOnFocus:c,refetchOnReconnect:p,refetchOnMountOrArgChange:v,keepUnusedDataFor:f,reducerPath:o}}),P=k.reducer,I=k.actions;bn(e.util,{patchQueryData:m,updateQueryData:L,upsertQueryData:_,prefetch:A,resetApiState:I.resetApiState}),bn(e.internalActions,I);var F=Xw({reducerPath:o,context:r,queryThunk:E,mutationThunk:T,api:e,assertTagType:w}),H=F.middleware,Q=F.actions;bn(e.util,Q),bn(e,{reducer:P,middleware:H});var V=Bw({serializeQueryArgs:u,reducerPath:o}),ee=V.buildQuerySelector,ce=V.buildMutationSelector,fe=V.selectInvalidatedBy;bn(e.util,{selectInvalidatedBy:fe});var he=Fw({queryThunk:E,mutationThunk:T,api:e,serializeQueryArgs:u,context:r}),Ae=he.buildInitiateQuery,Te=he.buildInitiateMutation,_e=he.getRunningMutationThunk,ae=he.getRunningMutationsThunk,ue=he.getRunningQueriesThunk,pe=he.getRunningQueryThunk,Ee=he.getRunningOperationPromises,ye=he.removalWarning;return bn(e.util,{getRunningOperationPromises:Ee,getRunningOperationPromise:ye,getRunningMutationThunk:_e,getRunningMutationsThunk:ae,getRunningQueryThunk:pe,getRunningQueriesThunk:ue}),{name:kv,injectEndpoint:function(Ce,we){var Ue,Be,Le=e;(Be=(Ue=Le.endpoints)[Ce])!=null||(Ue[Ce]={}),$m(we)?bn(Le.endpoints[Ce],{name:Ce,select:ee(Ce,we),initiate:Ae(Ce,we)},C(E,Ce)):Ow(we)&&bn(Le.endpoints[Ce],{name:Ce,select:ce(),initiate:Te(Ce)},C(T,Ce))}}}}},Zw=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},eT=Object.defineProperty,tT=Object.defineProperties,rT=Object.getOwnPropertyDescriptors,Lv=Object.getOwnPropertySymbols,nT=Object.prototype.hasOwnProperty,iT=Object.prototype.propertyIsEnumerable,Pv=function(e,t,r){return t in e?eT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},on=function(e,t){for(var r in t||(t={}))nT.call(t,r)&&Pv(e,r,t[r]);if(Lv)for(var n=0,a=Lv(t);n<a.length;n++){var r=a[n];iT.call(t,r)&&Pv(e,r,t[r])}return e},js=function(e,t){return tT(e,rT(t))};function Ov(e,t,r,n){var a=se.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e}},[e,t,r,n]),o=se.useRef(a);return se.useEffect(function(){o.current.serialized!==a.serialized&&(o.current=a)},[a]),o.current.serialized===a.serialized?o.current.queryArgs:e}var yc=Symbol();function xc(e){var t=se.useRef(e);return se.useEffect(function(){vl(t.current,e)||(t.current=e)},[e]),vl(t.current,e)?t.current:e}var Rs=WeakMap?new WeakMap:void 0,aT=function(e){var t=e.endpointName,r=e.queryArgs,n="",a=Rs==null?void 0:Rs.get(r);if(typeof a=="string")n=a;else{var o=JSON.stringify(r,function(u,f){return Jn(f)?Object.keys(f).sort().reduce(function(v,c){return v[c]=f[c],v},{}):f});Jn(r)&&(Rs==null||Rs.set(r,o)),n=o}return t+"("+n+")"},oT=typeof window<"u"&&window.document&&window.document.createElement?se.useLayoutEffect:se.useEffect,sT=function(e){return e},lT=function(e){return e.isUninitialized?js(on({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:xt.pending}):e};function uT(e){var t=e.api,r=e.moduleOptions,n=r.batch,a=r.useDispatch,o=r.useSelector,u=r.useStore,f=r.unstable__sideEffectsInRender,v=e.serializeQueryArgs,c=e.context,p=f?function(m){return m()}:se.useEffect;return{buildQueryHooks:E,buildMutationHook:T,usePrefetch:x};function w(m,L,_){if(L!=null&&L.endpointName&&m.isUninitialized){var A=L.endpointName,C=c.endpointDefinitions[A];v({queryArgs:L.originalArgs,endpointDefinition:C,endpointName:A})===v({queryArgs:_,endpointDefinition:C,endpointName:A})&&(L=void 0)}var k=m.isSuccess?m.data:L==null?void 0:L.data;k===void 0&&(k=m.data);var P=k!==void 0,I=m.isLoading,F=!P&&I,H=m.isSuccess||I&&P;return js(on({},m),{data:k,currentData:m.data,isFetching:I,isLoading:F,isSuccess:H})}function x(m,L){var _=a(),A=xc(L);return se.useCallback(function(C,k){return _(t.util.prefetch(m,C,on(on({},A),k)))},[m,_,A])}function E(m){var L=function(C,k){var P=k===void 0?{}:k,I=P.refetchOnReconnect,F=P.refetchOnFocus,H=P.refetchOnMountOrArgChange,Q=P.skip,V=Q===void 0?!1:Q,ee=P.pollingInterval,ce=ee===void 0?0:ee,fe=t.endpoints[m].initiate,he=a(),Ae=Ov(V?mi:C,aT,c.endpointDefinitions[m],m),Te=xc({refetchOnReconnect:I,refetchOnFocus:F,pollingInterval:ce}),_e=se.useRef(!1),ae=se.useRef(),ue=ae.current||{},pe=ue.queryCacheKey,Ee=ue.requestId,ye=!1;if(pe&&Ee){var Ce=he(t.internalActions.internal_probeSubscription({queryCacheKey:pe,requestId:Ee}));ye=!!Ce}var we=!ye&&_e.current;return p(function(){_e.current=ye}),p(function(){we&&(ae.current=void 0)},[we]),p(function(){var Ue,Be=ae.current;if(typeof process<"u",Ae===mi){Be==null||Be.unsubscribe(),ae.current=void 0;return}var Le=(Ue=ae.current)==null?void 0:Ue.subscriptionOptions;if(!Be||Be.arg!==Ae){Be==null||Be.unsubscribe();var nt=he(fe(Ae,{subscriptionOptions:Te,forceRefetch:H}));ae.current=nt}else Te!==Le&&Be.updateSubscriptionOptions(Te)},[he,fe,H,Ae,Te,we]),se.useEffect(function(){return function(){var Ue;(Ue=ae.current)==null||Ue.unsubscribe(),ae.current=void 0}},[]),se.useMemo(function(){return{refetch:function(){var Ue;if(!ae.current)throw new Error("Cannot refetch a query that has not been started yet.");return(Ue=ae.current)==null?void 0:Ue.refetch()}}},[])},_=function(C){var k=C===void 0?{}:C,P=k.refetchOnReconnect,I=k.refetchOnFocus,F=k.pollingInterval,H=F===void 0?0:F,Q=t.endpoints[m].initiate,V=a(),ee=se.useState(yc),ce=ee[0],fe=ee[1],he=se.useRef(),Ae=xc({refetchOnReconnect:P,refetchOnFocus:I,pollingInterval:H});p(function(){var ae,ue,pe=(ae=he.current)==null?void 0:ae.subscriptionOptions;Ae!==pe&&((ue=he.current)==null||ue.updateSubscriptionOptions(Ae))},[Ae]);var Te=se.useRef(Ae);p(function(){Te.current=Ae},[Ae]);var _e=se.useCallback(function(ae,ue){ue===void 0&&(ue=!1);var pe;return n(function(){var Ee;(Ee=he.current)==null||Ee.unsubscribe(),he.current=pe=V(Q(ae,{subscriptionOptions:Te.current,forceRefetch:!ue})),fe(ae)}),pe},[V,Q]);return se.useEffect(function(){return function(){var ae;(ae=he==null?void 0:he.current)==null||ae.unsubscribe()}},[]),se.useEffect(function(){ce!==yc&&!he.current&&_e(ce,!0)},[ce,_e]),se.useMemo(function(){return[_e,ce]},[_e,ce])},A=function(C,k){var P=k===void 0?{}:k,I=P.skip,F=I===void 0?!1:I,H=P.selectFromResult,Q=t.endpoints[m].select,V=Ov(F?mi:C,v,c.endpointDefinitions[m],m),ee=se.useRef(),ce=se.useMemo(function(){return io([Q(V),function(_e,ae){return ae},function(_e){return V}],w)},[Q,V]),fe=se.useMemo(function(){return H?io([ce],H):ce},[ce,H]),he=o(function(_e){return fe(_e,ee.current)},vl),Ae=u(),Te=ce(Ae.getState(),ee.current);return oT(function(){ee.current=Te},[Te]),he};return{useQueryState:A,useQuerySubscription:L,useLazyQuerySubscription:_,useLazyQuery:function(C){var k=_(C),P=k[0],I=k[1],F=A(I,js(on({},C),{skip:I===yc})),H=se.useMemo(function(){return{lastArg:I}},[I]);return se.useMemo(function(){return[P,F,H]},[P,F,H])},useQuery:function(C,k){var P=L(C,k),I=A(C,on({selectFromResult:C===mi||k!=null&&k.skip?void 0:lT},k)),F=I.data,H=I.status,Q=I.isLoading,V=I.isSuccess,ee=I.isError,ce=I.error;return se.useDebugValue({data:F,status:H,isLoading:Q,isSuccess:V,isError:ee,error:ce}),se.useMemo(function(){return on(on({},I),P)},[I,P])}}}function T(m){return function(L){var _=L===void 0?{}:L,A=_.selectFromResult,C=A===void 0?sT:A,k=_.fixedCacheKey,P=t.endpoints[m],I=P.select,F=P.initiate,H=a(),Q=se.useState(),V=Q[0],ee=Q[1];se.useEffect(function(){return function(){V!=null&&V.arg.fixedCacheKey||V==null||V.reset()}},[V]);var ce=se.useCallback(function(Be){var Le=H(F(Be,{fixedCacheKey:k}));return ee(Le),Le},[H,F,k]),fe=(V||{}).requestId,he=se.useMemo(function(){return io([I({fixedCacheKey:k,requestId:V==null?void 0:V.requestId})],C)},[I,V,C,k]),Ae=o(he,vl),Te=k==null?V==null?void 0:V.arg.originalArgs:void 0,_e=se.useCallback(function(){n(function(){V&&ee(void 0),k&&H(t.internalActions.removeMutationResult({requestId:fe,fixedCacheKey:k}))})},[H,k,V,fe]),ae=Ae.endpointName,ue=Ae.data,pe=Ae.status,Ee=Ae.isLoading,ye=Ae.isSuccess,Ce=Ae.isError,we=Ae.error;se.useDebugValue({endpointName:ae,data:ue,status:pe,isLoading:Ee,isSuccess:ye,isError:Ce,error:we});var Ue=se.useMemo(function(){return js(on({},Ae),{originalArgs:Te,reset:_e})},[Ae,Te,_e]);return se.useMemo(function(){return[ce,Ue]},[ce,Ue])}}}var bl;(function(e){e.query="query",e.mutation="mutation"})(bl||(bl={}));function cT(e){return e.type===bl.query}function fT(e){return e.type===bl.mutation}function Ec(e){return e.replace(e[0],e[0].toUpperCase())}function _s(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,Zw([e],t))}var dT=Symbol(),hT=function(e){var t=e===void 0?{}:e,r=t.batch,n=r===void 0?uo.unstable_batchedUpdates:r,a=t.useDispatch,o=a===void 0?C1:a,u=t.useSelector,f=u===void 0?c1:u,v=t.useStore,c=v===void 0?km:v,p=t.unstable__sideEffectsInRender,w=p===void 0?!1:p;return{name:dT,init:function(x,E,T){var m=E.serializeQueryArgs,L=x,_=uT({api:x,moduleOptions:{batch:n,useDispatch:o,useSelector:f,useStore:c,unstable__sideEffectsInRender:w},serializeQueryArgs:m,context:T}),A=_.buildQueryHooks,C=_.buildMutationHook,k=_.usePrefetch;return _s(L,{usePrefetch:k}),_s(T,{batch:n}),{injectEndpoint:function(P,I){if(cT(I)){var F=A(P),H=F.useQuery,Q=F.useLazyQuery,V=F.useLazyQuerySubscription,ee=F.useQueryState,ce=F.useQuerySubscription;_s(L.endpoints[P],{useQuery:H,useLazyQuery:Q,useLazyQuerySubscription:V,useQueryState:ee,useQuerySubscription:ce}),x["use"+Ec(P)+"Query"]=H,x["useLazy"+Ec(P)+"Query"]=Q}else if(fT(I)){var fe=C(P);_s(L.endpoints[P],{useMutation:fe}),x["use"+Ec(P)+"Mutation"]=fe}}}}}},pT=Uw(Jw(),hT());function Jm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zm}=Object.prototype,{getPrototypeOf:Jd}=Object,Zd=(e=>t=>{const r=Zm.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),An=e=>(e=e.toLowerCase(),t=>Zd(t)===e),yu=e=>t=>typeof t===e,{isArray:Ea}=Array,Io=yu("undefined");function vT(e){return e!==null&&!Io(e)&&e.constructor!==null&&!Io(e.constructor)&&Zn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ey=An("ArrayBuffer");function gT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ey(e.buffer),t}const mT=yu("string"),Zn=yu("function"),ty=yu("number"),eh=e=>e!==null&&typeof e=="object",yT=e=>e===!0||e===!1,zs=e=>{if(Zd(e)!=="object")return!1;const t=Jd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xT=An("Date"),ET=An("File"),ST=An("Blob"),AT=An("FileList"),wT=e=>eh(e)&&Zn(e.pipe),TT=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Zm.call(e)===t||Zn(e.toString)&&e.toString()===t)},RT=An("URLSearchParams"),_T=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vo(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ea(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length;let f;for(n=0;n<u;n++)f=o[n],t.call(null,e[f],f,e)}}function ry(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ny=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),iy=e=>!Io(e)&&e!==ny;function Mf(){const{caseless:e}=iy(this)&&this||{},t={},r=(n,a)=>{const o=e&&ry(t,a)||a;zs(t[o])&&zs(n)?t[o]=Mf(t[o],n):zs(n)?t[o]=Mf({},n):Ea(n)?t[o]=n.slice():t[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Vo(arguments[n],r);return t}const bT=(e,t,r,{allOwnKeys:n}={})=>(Vo(t,(a,o)=>{r&&Zn(a)?e[o]=Jm(a,r):e[o]=a},{allOwnKeys:n}),e),CT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),DT=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},kT=(e,t,r,n)=>{let a,o,u;const f={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)u=a[o],(!n||n(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=r!==!1&&Jd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},LT=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},PT=e=>{if(!e)return null;if(Ea(e))return e;let t=e.length;if(!ty(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},OT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jd(Uint8Array)),IT=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},FT=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},MT=An("HTMLFormElement"),NT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Iv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),BT=An("RegExp"),ay=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Vo(r,(a,o)=>{t(a,o,e)!==!1&&(n[o]=a)}),Object.defineProperties(e,n)},UT=e=>{ay(e,(t,r)=>{if(Zn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jT=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return Ea(e)?n(e):n(String(e).split(t)),r},zT=()=>{},GT=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Sc="abcdefghijklmnopqrstuvwxyz",Fv="0123456789",oy={DIGIT:Fv,ALPHA:Sc,ALPHA_DIGIT:Sc+Sc.toUpperCase()+Fv},KT=(e=16,t=oy.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function HT(e){return!!(e&&Zn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const VT=e=>{const t=new Array(10),r=(n,a)=>{if(eh(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const o=Ea(n)?[]:{};return Vo(n,(u,f)=>{const v=r(u,a+1);!Io(v)&&(o[f]=v)}),t[a]=void 0,o}}return n};return r(e,0)},de={isArray:Ea,isArrayBuffer:ey,isBuffer:vT,isFormData:TT,isArrayBufferView:gT,isString:mT,isNumber:ty,isBoolean:yT,isObject:eh,isPlainObject:zs,isUndefined:Io,isDate:xT,isFile:ET,isBlob:ST,isRegExp:BT,isFunction:Zn,isStream:wT,isURLSearchParams:RT,isTypedArray:OT,isFileList:AT,forEach:Vo,merge:Mf,extend:bT,trim:_T,stripBOM:CT,inherits:DT,toFlatObject:kT,kindOf:Zd,kindOfTest:An,endsWith:LT,toArray:PT,forEachEntry:IT,matchAll:FT,isHTMLForm:MT,hasOwnProperty:Iv,hasOwnProp:Iv,reduceDescriptors:ay,freezeMethods:UT,toObjectSet:jT,toCamelCase:NT,noop:zT,toFiniteNumber:GT,findKey:ry,global:ny,isContextDefined:iy,ALPHABET:oy,generateString:KT,isSpecCompliantForm:HT,toJSONObject:VT};function et(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}de.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sy=et.prototype,ly={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ly[e]={value:e}});Object.defineProperties(et,ly);Object.defineProperty(sy,"isAxiosError",{value:!0});et.from=(e,t,r,n,a,o)=>{const u=Object.create(sy);return de.toFlatObject(e,u,function(v){return v!==Error.prototype},f=>f!=="isAxiosError"),et.call(u,e.message,t,r,n,a),u.cause=e,u.name=e.name,o&&Object.assign(u,o),u};const WT=null;function Nf(e){return de.isPlainObject(e)||de.isArray(e)}function uy(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function Mv(e,t,r){return e?e.concat(t).map(function(a,o){return a=uy(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function QT(e){return de.isArray(e)&&!e.some(Nf)}const $T=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function xu(e,t,r){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=de.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,L){return!de.isUndefined(L[m])});const n=r.metaTokens,a=r.visitor||p,o=r.dots,u=r.indexes,v=(r.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(a))throw new TypeError("visitor must be a function");function c(T){if(T===null)return"";if(de.isDate(T))return T.toISOString();if(!v&&de.isBlob(T))throw new et("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(T)||de.isTypedArray(T)?v&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function p(T,m,L){let _=T;if(T&&!L&&typeof T=="object"){if(de.endsWith(m,"{}"))m=n?m:m.slice(0,-2),T=JSON.stringify(T);else if(de.isArray(T)&&QT(T)||(de.isFileList(T)||de.endsWith(m,"[]"))&&(_=de.toArray(T)))return m=uy(m),_.forEach(function(C,k){!(de.isUndefined(C)||C===null)&&t.append(u===!0?Mv([m],k,o):u===null?m:m+"[]",c(C))}),!1}return Nf(T)?!0:(t.append(Mv(L,m,o),c(T)),!1)}const w=[],x=Object.assign($T,{defaultVisitor:p,convertValue:c,isVisitable:Nf});function E(T,m){if(!de.isUndefined(T)){if(w.indexOf(T)!==-1)throw Error("Circular reference detected in "+m.join("."));w.push(T),de.forEach(T,function(_,A){(!(de.isUndefined(_)||_===null)&&a.call(t,_,de.isString(A)?A.trim():A,m,x))===!0&&E(_,m?m.concat(A):[A])}),w.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return E(e),t}function Nv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function th(e,t){this._pairs=[],e&&xu(e,this,t)}const cy=th.prototype;cy.append=function(t,r){this._pairs.push([t,r])};cy.toString=function(t){const r=t?function(n){return t.call(this,n,Nv)}:Nv;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function qT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fy(e,t,r){if(!t)return e;const n=r&&r.encode||qT,a=r&&r.serialize;let o;if(a?o=a(t,r):o=de.isURLSearchParams(t)?t.toString():new th(t,r).toString(n),o){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class YT{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Bv=YT,dy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XT=typeof URLSearchParams<"u"?URLSearchParams:th,JT=typeof FormData<"u"?FormData:null,ZT=typeof Blob<"u"?Blob:null,eR=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),tR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Jr={isBrowser:!0,classes:{URLSearchParams:XT,FormData:JT,Blob:ZT},isStandardBrowserEnv:eR,isStandardBrowserWebWorkerEnv:tR,protocols:["http","https","file","blob","url","data"]};function rR(e,t){return xu(e,new Jr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return Jr.isNode&&de.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function nR(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iR(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function hy(e){function t(r,n,a,o){let u=r[o++];const f=Number.isFinite(+u),v=o>=r.length;return u=!u&&de.isArray(a)?a.length:u,v?(de.hasOwnProp(a,u)?a[u]=[a[u],n]:a[u]=n,!f):((!a[u]||!de.isObject(a[u]))&&(a[u]=[]),t(r,n,a[u],o)&&de.isArray(a[u])&&(a[u]=iR(a[u])),!f)}if(de.isFormData(e)&&de.isFunction(e.entries)){const r={};return de.forEachEntry(e,(n,a)=>{t(nR(n),a,r,0)}),r}return null}const aR={"Content-Type":void 0};function oR(e,t,r){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Eu={transitional:dy,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=de.isObject(t);if(o&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return a&&a?JSON.stringify(hy(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rR(t,this.formSerializer).toString();if((f=de.isFileList(t))||n.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return xu(f?{"files[]":t}:t,v&&new v,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),oR(t)):t}],transformResponse:[function(t){const r=this.transitional||Eu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(t&&de.isString(t)&&(n&&!this.responseType||a)){const u=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(f){if(u)throw f.name==="SyntaxError"?et.from(f,et.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jr.classes.FormData,Blob:Jr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};de.forEach(["delete","get","head"],function(t){Eu.headers[t]={}});de.forEach(["post","put","patch"],function(t){Eu.headers[t]=de.merge(aR)});const rh=Eu,sR=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lR=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(u){a=u.indexOf(":"),r=u.substring(0,a).trim().toLowerCase(),n=u.substring(a+1).trim(),!(!r||t[r]&&sR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Uv=Symbol("internals");function Ba(e){return e&&String(e).trim().toLowerCase()}function Gs(e){return e===!1||e==null?e:de.isArray(e)?e.map(Gs):String(e)}function uR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function cR(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function Ac(e,t,r,n,a){if(de.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!de.isString(t)){if(de.isString(n))return t.indexOf(n)!==-1;if(de.isRegExp(n))return n.test(t)}}function fR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function dR(e,t){const r=de.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,u){return this[n].call(this,t,a,o,u)},configurable:!0})})}class Su{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(f,v,c){const p=Ba(v);if(!p)throw new Error("header name must be a non-empty string");const w=de.findKey(a,p);(!w||a[w]===void 0||c===!0||c===void 0&&a[w]!==!1)&&(a[w||v]=Gs(f))}const u=(f,v)=>de.forEach(f,(c,p)=>o(c,p,v));return de.isPlainObject(t)||t instanceof this.constructor?u(t,r):de.isString(t)&&(t=t.trim())&&!cR(t)?u(lR(t),r):t!=null&&o(r,t,n),this}get(t,r){if(t=Ba(t),t){const n=de.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return uR(a);if(de.isFunction(r))return r.call(this,a,n);if(de.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ba(t),t){const n=de.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ac(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(u){if(u=Ba(u),u){const f=de.findKey(n,u);f&&(!r||Ac(n,n[f],f,r))&&(delete n[f],a=!0)}}return de.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||Ac(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return de.forEach(this,(a,o)=>{const u=de.findKey(n,o);if(u){r[u]=Gs(a),delete r[o];return}const f=t?fR(o):String(o).trim();f!==o&&delete r[o],r[f]=Gs(a),n[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return de.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&de.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Uv]=this[Uv]={accessors:{}}).accessors,a=this.prototype;function o(u){const f=Ba(u);n[f]||(dR(a,u),n[f]=!0)}return de.isArray(t)?t.forEach(o):o(t),this}}Su.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.freezeMethods(Su.prototype);de.freezeMethods(Su);const hn=Su;function wc(e,t){const r=this||rh,n=t||r,a=hn.from(n.headers);let o=n.data;return de.forEach(e,function(f){o=f.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function py(e){return!!(e&&e.__CANCEL__)}function Wo(e,t,r){et.call(this,e??"canceled",et.ERR_CANCELED,t,r),this.name="CanceledError"}de.inherits(Wo,et,{__CANCEL__:!0});function hR(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new et("Request failed with status code "+r.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const pR=Jr.isStandardBrowserEnv?function(){return{write:function(r,n,a,o,u,f){const v=[];v.push(r+"="+encodeURIComponent(n)),de.isNumber(a)&&v.push("expires="+new Date(a).toGMTString()),de.isString(o)&&v.push("path="+o),de.isString(u)&&v.push("domain="+u),f===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function vR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gR(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function vy(e,t){return e&&!vR(t)?gR(e,t):t}const mR=Jr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function a(o){let u=o;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(u){const f=de.isString(u)?a(u):u;return f.protocol===n.protocol&&f.host===n.host}}():function(){return function(){return!0}}();function yR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xR(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,u;return t=t!==void 0?t:1e3,function(v){const c=Date.now(),p=n[o];u||(u=c),r[a]=v,n[a]=c;let w=o,x=0;for(;w!==a;)x+=r[w++],w=w%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),c-u<t)return;const E=p&&c-p;return E?Math.round(x*1e3/E):void 0}}function jv(e,t){let r=0;const n=xR(50,250);return a=>{const o=a.loaded,u=a.lengthComputable?a.total:void 0,f=o-r,v=n(f),c=o<=u;r=o;const p={loaded:o,total:u,progress:u?o/u:void 0,bytes:f,rate:v||void 0,estimated:v&&u&&c?(u-o)/v:void 0,event:a};p[t?"download":"upload"]=!0,e(p)}}const ER=typeof XMLHttpRequest<"u",SR=ER&&function(e){return new Promise(function(r,n){let a=e.data;const o=hn.from(e.headers).normalize(),u=e.responseType;let f;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}de.isFormData(a)&&(Jr.isStandardBrowserEnv||Jr.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const E=e.auth.username||"",T=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(E+":"+T))}const p=vy(e.baseURL,e.url);c.open(e.method.toUpperCase(),fy(p,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function w(){if(!c)return;const E=hn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!u||u==="text"||u==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:E,config:e,request:c};hR(function(_){r(_),v()},function(_){n(_),v()},m),c=null}if("onloadend"in c?c.onloadend=w:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(w)},c.onabort=function(){c&&(n(new et("Request aborted",et.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new et("Network Error",et.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let T=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||dy;e.timeoutErrorMessage&&(T=e.timeoutErrorMessage),n(new et(T,m.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,c)),c=null},Jr.isStandardBrowserEnv){const E=(e.withCredentials||mR(p))&&e.xsrfCookieName&&pR.read(e.xsrfCookieName);E&&o.set(e.xsrfHeaderName,E)}a===void 0&&o.setContentType(null),"setRequestHeader"in c&&de.forEach(o.toJSON(),function(T,m){c.setRequestHeader(m,T)}),de.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),u&&u!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",jv(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",jv(e.onUploadProgress)),(e.cancelToken||e.signal)&&(f=E=>{c&&(n(!E||E.type?new Wo(null,e,c):E),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f)));const x=yR(p);if(x&&Jr.protocols.indexOf(x)===-1){n(new et("Unsupported protocol "+x+":",et.ERR_BAD_REQUEST,e));return}c.send(a||null)})},Ks={http:WT,xhr:SR};de.forEach(Ks,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const AR={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let a=0;a<t&&(r=e[a],!(n=de.isString(r)?Ks[r.toLowerCase()]:r));a++);if(!n)throw n===!1?new et(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(de.hasOwnProp(Ks,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!de.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ks};function Tc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wo(null,e)}function zv(e){return Tc(e),e.headers=hn.from(e.headers),e.data=wc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AR.getAdapter(e.adapter||rh.adapter)(e).then(function(n){return Tc(e),n.data=wc.call(e,e.transformResponse,n),n.headers=hn.from(n.headers),n},function(n){return py(n)||(Tc(e),n&&n.response&&(n.response.data=wc.call(e,e.transformResponse,n.response),n.response.headers=hn.from(n.response.headers))),Promise.reject(n)})}const Gv=e=>e instanceof hn?e.toJSON():e;function pa(e,t){t=t||{};const r={};function n(c,p,w){return de.isPlainObject(c)&&de.isPlainObject(p)?de.merge.call({caseless:w},c,p):de.isPlainObject(p)?de.merge({},p):de.isArray(p)?p.slice():p}function a(c,p,w){if(de.isUndefined(p)){if(!de.isUndefined(c))return n(void 0,c,w)}else return n(c,p,w)}function o(c,p){if(!de.isUndefined(p))return n(void 0,p)}function u(c,p){if(de.isUndefined(p)){if(!de.isUndefined(c))return n(void 0,c)}else return n(void 0,p)}function f(c,p,w){if(w in t)return n(c,p);if(w in e)return n(void 0,c)}const v={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(c,p)=>a(Gv(c),Gv(p),!0)};return de.forEach(Object.keys(e).concat(Object.keys(t)),function(p){const w=v[p]||a,x=w(e[p],t[p],p);de.isUndefined(x)&&w!==f||(r[p]=x)}),r}const gy="1.3.4",nh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Kv={};nh.transitional=function(t,r,n){function a(o,u){return"[Axios v"+gy+"] Transitional option '"+o+"'"+u+(n?". "+n:"")}return(o,u,f)=>{if(t===!1)throw new et(a(u," has been removed"+(r?" in "+r:"")),et.ERR_DEPRECATED);return r&&!Kv[u]&&(Kv[u]=!0,console.warn(a(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,f):!0}};function wR(e,t,r){if(typeof e!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],u=t[o];if(u){const f=e[o],v=f===void 0||u(f,o,e);if(v!==!0)throw new et("option "+o+" must be "+v,et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new et("Unknown option "+o,et.ERR_BAD_OPTION)}}const Bf={assertOptions:wR,validators:nh},Cn=Bf.validators;class Cl{constructor(t){this.defaults=t,this.interceptors={request:new Bv,response:new Bv}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pa(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Bf.assertOptions(n,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),a!==void 0&&Bf.assertOptions(a,{encode:Cn.function,serialize:Cn.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u;u=o&&de.merge(o.common,o[r.method]),u&&de.forEach(["delete","get","head","post","put","patch","common"],T=>{delete o[T]}),r.headers=hn.concat(u,o);const f=[];let v=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(v=v&&m.synchronous,f.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let p,w=0,x;if(!v){const T=[zv.bind(this),void 0];for(T.unshift.apply(T,f),T.push.apply(T,c),x=T.length,p=Promise.resolve(r);w<x;)p=p.then(T[w++],T[w++]);return p}x=f.length;let E=r;for(w=0;w<x;){const T=f[w++],m=f[w++];try{E=T(E)}catch(L){m.call(this,L);break}}try{p=zv.call(this,E)}catch(T){return Promise.reject(T)}for(w=0,x=c.length;w<x;)p=p.then(c[w++],c[w++]);return p}getUri(t){t=pa(this.defaults,t);const r=vy(t.baseURL,t.url);return fy(r,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){Cl.prototype[t]=function(r,n){return this.request(pa(n||{},{method:t,url:r,data:(n||{}).data}))}});de.forEach(["post","put","patch"],function(t){function r(n){return function(o,u,f){return this.request(pa(f||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Cl.prototype[t]=r(),Cl.prototype[t+"Form"]=r(!0)});const Hs=Cl;class ih{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(f=>{n.subscribe(f),o=f}).then(a);return u.cancel=function(){n.unsubscribe(o)},u},t(function(o,u,f){n.reason||(n.reason=new Wo(o,u,f),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new ih(function(a){t=a}),cancel:t}}}const TR=ih;function RR(e){return function(r){return e.apply(null,r)}}function _R(e){return de.isObject(e)&&e.isAxiosError===!0}const Uf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uf).forEach(([e,t])=>{Uf[t]=e});const bR=Uf;function my(e){const t=new Hs(e),r=Jm(Hs.prototype.request,t);return de.extend(r,Hs.prototype,t,{allOwnKeys:!0}),de.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return my(pa(e,a))},r}const jt=my(rh);jt.Axios=Hs;jt.CanceledError=Wo;jt.CancelToken=TR;jt.isCancel=py;jt.VERSION=gy;jt.toFormData=xu;jt.AxiosError=et;jt.Cancel=jt.CanceledError;jt.all=function(t){return Promise.all(t)};jt.spread=RR;jt.isAxiosError=_R;jt.mergeConfig=pa;jt.AxiosHeaders=hn;jt.formToJSON=e=>hy(de.isHTMLForm(e)?new FormData(e):e);jt.HttpStatusCode=bR;jt.default=jt;const CR=jt,DR={token:""},yy=hi({name:"auth",initialState:DR,reducers:{setCredentials(e,t){e.token=t.payload}}}),{setCredentials:kR}=yy.actions,LR=yy.reducer,Fo=pT({reducerPath:"coursesAPI",baseQuery:Pw({baseUrl:"https://api.wisey.app/api/v1/",prepareHeaders:async(e,{getState:t})=>{let r=t().tokenReducer.token;return r||(r=(await CR({url:"https://api.wisey.app/api/v1/auth/anonymous?platform=subscriptions"})).data.token,xy.dispatch(kR(r))),e.set("authorization",`Bearer ${r}`),e}}),tagTypes:["courses"],endpoints:e=>({fetchAllCourses:e.query({query:(t=5)=>({url:"core/preview-courses",params:{limit:t}}),transformResponse:t=>t.courses}),fetchCourse:e.query({query:t=>({url:"core/preview-courses/"+t})})})}),PR={tokenReducer:LR,[Fo.reducerPath]:Fo.reducer},xy=cw({reducer:PR,middleware:e=>e().concat(Fo.middleware)});/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const Hv="popstate";function OR(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:u,hash:f}=n.location;return Mo("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:En(a)}return FR(t,r,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function va(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IR(){return Math.random().toString(36).substr(2,8)}function Vv(e,t){return{usr:e.state,key:e.key,idx:t}}function Mo(e,t,r,n){return r===void 0&&(r=null),Ze({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wn(t):t,{state:r,key:t&&t.key||n||IR()})}function En(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function FR(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,u=a.history,f=Dt.Pop,v=null,c=p();c==null&&(c=0,u.replaceState(Ze({},u.state,{idx:c}),""));function p(){return(u.state||{idx:null}).idx}function w(){f=Dt.Pop;let L=p(),_=L==null?null:L-c;c=L,v&&v({action:f,location:m.location,delta:_})}function x(L,_){f=Dt.Push;let A=Mo(m.location,L,_);r&&r(A,L),c=p()+1;let C=Vv(A,c),k=m.createHref(A);try{u.pushState(C,"",k)}catch{a.location.assign(k)}o&&v&&v({action:f,location:m.location,delta:1})}function E(L,_){f=Dt.Replace;let A=Mo(m.location,L,_);r&&r(A,L),c=p();let C=Vv(A,c),k=m.createHref(A);u.replaceState(C,"",k),o&&v&&v({action:f,location:m.location,delta:0})}function T(L){let _=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof L=="string"?L:En(L);return ze(_,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,_)}let m={get action(){return f},get location(){return e(a,u)},listen(L){if(v)throw new Error("A history only accepts one active listener");return a.addEventListener(Hv,w),v=L,()=>{a.removeEventListener(Hv,w),v=null}},createHref(L){return t(a,L)},createURL:T,encodeLocation(L){let _=T(L);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:x,replace:E,go(L){return u.go(L)}};return m}var Nt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nt||(Nt={}));const MR=new Set(["lazy","caseSensitive","path","id","index","children"]);function NR(e){return e.index===!0}function Ey(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,o)=>{let u=[...r,o],f=typeof a.id=="string"?a.id:u.join("-");if(ze(a.index!==!0||!a.children,"Cannot specify children on an index route"),ze(!n[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),NR(a)){let v=Ze({},a,{hasErrorBoundary:t(a),id:f});return n[f]=v,v}else{let v=Ze({},a,{id:f,hasErrorBoundary:t(a),children:void 0});return n[f]=v,a.children&&(v.children=Ey(a.children,t,u,n)),v}})}function Yi(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?wn(t):t,a=Qo(n.pathname||"/",r);if(a==null)return null;let o=Sy(e);BR(o);let u=null;for(let f=0;u==null&&f<o.length;++f)u=QR(o[f],YR(a));return u}function Sy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,u,f)=>{let v={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};v.relativePath.startsWith("/")&&(ze(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let c=pn([n,v.relativePath]),p=r.concat(v);o.children&&o.children.length>0&&(ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Sy(o.children,t,p,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:VR(c,o.index),routesMeta:p})};return e.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let v of Ay(o.path))a(o,u,v)}),t}function Ay(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let u=Ay(n.join("/")),f=[];return f.push(...u.map(v=>v===""?o:[o,v].join("/"))),a&&f.push(...u),f.map(v=>e.startsWith("/")&&v===""?"/":v)}function BR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UR=/^:\w+$/,jR=3,zR=2,GR=1,KR=10,HR=-2,Wv=e=>e==="*";function VR(e,t){let r=e.split("/"),n=r.length;return r.some(Wv)&&(n+=HR),t&&(n+=zR),r.filter(a=>!Wv(a)).reduce((a,o)=>a+(UR.test(o)?jR:o===""?GR:KR),n)}function WR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function QR(e,t){let{routesMeta:r}=e,n={},a="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],v=u===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",p=$R({path:f.relativePath,caseSensitive:f.caseSensitive,end:v},c);if(!p)return null;Object.assign(n,p.params);let w=f.route;o.push({params:n,pathname:pn([a,p.pathname]),pathnameBase:e_(pn([a,p.pathnameBase])),route:w}),p.pathnameBase!=="/"&&(a=pn([a,p.pathnameBase]))}return o}function $R(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qR(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((c,p,w)=>{if(p==="*"){let x=f[w]||"";u=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}return c[p]=XR(f[w]||"",p),c},{}),pathname:o,pathnameBase:u,pattern:e}}function qR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),va(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(u,f)=>(n.push(f),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function YR(e){try{return decodeURI(e)}catch(t){return va(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function XR(e,t){try{return decodeURIComponent(e)}catch(r){return va(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Qo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function JR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?wn(e):e;return{pathname:r?r.startsWith("/")?r:ZR(r,t):t,search:t_(n),hash:r_(a)}}function ZR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Rc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Au(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ah(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=wn(e):(a=Ze({},e),ze(!a.pathname||!a.pathname.includes("?"),Rc("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Rc("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Rc("#","search","hash",a)));let o=e===""||a.pathname==="",u=o?"/":a.pathname,f;if(n||u==null)f=r;else{let w=t.length-1;if(u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),w-=1;a.pathname=x.join("/")}f=w>=0?t[w]:"/"}let v=JR(a,f),c=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(c||p)&&(v.pathname+="/"),v}const pn=e=>e.join("/").replace(/\/\/+/g,"/"),e_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Qv extends Error{}class n_{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],ze(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((o,u)=>n=u),this.controller=new AbortController;let a=()=>n(new Qv("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((o,u)=>{let[f,v]=u;return Object.assign(o,{[f]:this.trackPromise(f,v)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(n,t,null,a),a=>this.onSettle(n,t,a));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,a){return this.controller.signal.aborted&&n instanceof Qv?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>a}),this.emit(!1,r),a))}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(a=>{this.subscribe(o=>{t.removeEventListener("abort",n),(o||this.done)&&a(o)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return ze(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,a]=r;return Object.assign(t,{[n]:a_(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function i_(e){return e instanceof Promise&&e._tracked===!0}function a_(e){if(!i_(e))return e;if(e._error)throw e._error;return e._data}class oh{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function wy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ty=["post","put","patch","delete"],o_=new Set(Ty),s_=["get",...Ty],l_=new Set(s_),u_=new Set([301,302,303,307,308]),c_=new Set([307,308]),_c={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},f_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},$v={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d_=!_y,h_=e=>!!e.hasErrorBoundary;function p_(e){ze(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=e.detectErrorBoundary||h_,r={},n=Ey(e.routes,t,void 0,r),a,o=null,u=new Set,f=null,v=null,c=null,p=e.hydrationData!=null,w=Yi(n,e.history.location,e.basename),x=null;if(w==null){let M=qr(404,{pathname:e.history.location.pathname}),{matches:K,route:q}=eg(n);w=K,x={[q.id]:M}}let E=!w.some(M=>M.route.lazy)&&(!w.some(M=>M.route.loader)||e.hydrationData!=null),T,m={historyAction:e.history.action,location:e.history.location,matches:w,initialized:E,navigation:_c,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},L=Dt.Pop,_=!1,A,C=!1,k=!1,P=[],I=[],F=new Map,H=0,Q=-1,V=new Map,ee=new Set,ce=new Map,fe=new Map,he=new Map,Ae=!1;function Te(){if(o=e.history.listen(q=>{let{action:Z,location:J,delta:ie}=q;if(Ae){Ae=!1;return}va(he.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=G({currentLocation:m.location,nextLocation:J,historyAction:Z});if(re&&ie!=null){Ae=!0,e.history.go(ie*-1),X(re,{state:"blocked",location:J,proceed(){X(re,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),e.history.go(ie)},reset(){j(re),ue({blockers:new Map(T.state.blockers)})}});return}return Ce(Z,J)}),m.initialized)return T;let M=m.matches.filter(q=>q.route.lazy);if(M.length===0)return Ce(Dt.Pop,m.location),T;let K=M.map(q=>jf(q.route,t,r));return Promise.all(K).then(()=>{!m.matches.some(Z=>Z.route.loader)||e.hydrationData!=null?ue({initialized:!0}):Ce(Dt.Pop,m.location)}),T}function _e(){o&&o(),u.clear(),A&&A.abort(),m.fetchers.forEach((M,K)=>Yt(K)),m.blockers.forEach((M,K)=>j(K))}function ae(M){return u.add(M),()=>u.delete(M)}function ue(M){m=Ze({},m,M),u.forEach(K=>K(m))}function pe(M,K){var q,Z;let J=m.actionData!=null&&m.navigation.formMethod!=null&&ln(m.navigation.formMethod)&&m.navigation.state==="loading"&&((q=M.state)==null?void 0:q._isRedirect)!==!0,ie;K.actionData?Object.keys(K.actionData).length>0?ie=K.actionData:ie=null:J?ie=m.actionData:ie=null;let re=K.loaderData?Zv(m.loaderData,K.loaderData,K.matches||[],K.errors):m.loaderData;for(let[te]of he)j(te);let le=_===!0||m.navigation.formMethod!=null&&ln(m.navigation.formMethod)&&((Z=M.state)==null?void 0:Z._isRedirect)!==!0;a&&(n=a,a=void 0),ue(Ze({},K,{actionData:ie,loaderData:re,historyAction:L,location:M,initialized:!0,navigation:_c,revalidation:"idle",restoreScrollPosition:W(M,K.matches||m.matches),preventScrollReset:le,blockers:new Map(m.blockers)})),C||L===Dt.Pop||(L===Dt.Push?e.history.push(M,M.state):L===Dt.Replace&&e.history.replace(M,M.state)),L=Dt.Pop,_=!1,C=!1,k=!1,P=[],I=[]}async function Ee(M,K){if(typeof M=="number"){e.history.go(M);return}let{path:q,submission:Z,error:J}=qv(M,K),ie=m.location,re=Mo(m.location,q,K&&K.state);re=Ze({},re,e.history.encodeLocation(re));let le=K&&K.replace!=null?K.replace:void 0,te=Dt.Push;le===!0?te=Dt.Replace:le===!1||Z!=null&&ln(Z.formMethod)&&Z.formAction===m.location.pathname+m.location.search&&(te=Dt.Replace);let Se=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,ge=G({currentLocation:ie,nextLocation:re,historyAction:te});if(ge){X(ge,{state:"blocked",location:re,proceed(){X(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Ee(M,K)},reset(){j(ge),ue({blockers:new Map(m.blockers)})}});return}return await Ce(te,re,{submission:Z,pendingError:J,preventScrollReset:Se,replace:K&&K.replace})}function ye(){if(Qe(),ue({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){Ce(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}Ce(L||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function Ce(M,K,q){A&&A.abort(),A=null,L=M,C=(q&&q.startUninterruptedRevalidation)===!0,z(m.location,m.matches),_=(q&&q.preventScrollReset)===!0;let Z=a||n,J=q&&q.overrideNavigation,ie=Yi(Z,K,e.basename);if(!ie){let Fe=qr(404,{pathname:K.pathname}),{matches:Ie,route:Ve}=eg(Z);D(),pe(K,{matches:Ie,loaderData:{},errors:{[Ve.id]:Fe}});return}if(x_(m.location,K)&&!(q&&q.submission&&ln(q.submission.formMethod))){pe(K,{matches:ie});return}A=new AbortController;let re=ja(e.history,K,A.signal,q&&q.submission),le,te;if(q&&q.pendingError)te={[Xi(ie).route.id]:q.pendingError};else if(q&&q.submission&&ln(q.submission.formMethod)){let Fe=await we(re,K,q.submission,ie,{replace:q.replace});if(Fe.shortCircuited)return;le=Fe.pendingActionData,te=Fe.pendingActionError,J=Ze({state:"loading",location:K},q.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:Se,loaderData:ge,errors:De}=await Ue(re,K,ie,J,q&&q.submission,q&&q.replace,le,te);Se||(A=null,pe(K,Ze({matches:ie},le?{actionData:le}:{},{loaderData:ge,errors:De})))}async function we(M,K,q,Z,J){Qe();let ie=Ze({state:"submitting",location:K},q);ue({navigation:ie});let re,le=zf(Z,K);if(!le.route.action&&!le.route.lazy)re={type:Nt.error,error:qr(405,{method:M.method,pathname:K.pathname,routeId:le.route.id})};else if(re=await Ua("action",M,le,Z,r,t,T.basename),M.signal.aborted)return{shortCircuited:!0};if(aa(re)){let te;return J&&J.replace!=null?te=J.replace:te=re.location===m.location.pathname+m.location.search,await rt(m,re,{submission:q,replace:te}),{shortCircuited:!0}}if(oo(re)){let te=Xi(Z,le.route.id);return(J&&J.replace)!==!0&&(L=Dt.Push),{pendingActionData:{},pendingActionError:{[te.route.id]:re.error}}}if(yi(re))throw qr(400,{type:"defer-action"});return{pendingActionData:{[le.route.id]:re.data}}}async function Ue(M,K,q,Z,J,ie,re,le){let te=Z;te||(te=Ze({state:"loading",location:K,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},J));let Se=J||(te.formMethod&&te.formAction&&te.formData&&te.formEncType?{formMethod:te.formMethod,formAction:te.formAction,formData:te.formData,formEncType:te.formEncType}:void 0),ge=a||n,[De,Fe]=Yv(e.history,m,q,Se,K,k,P,I,ce,ge,e.basename,re,le);if(D($e=>!(q&&q.some(qe=>qe.route.id===$e))||De&&De.some(qe=>qe.route.id===$e)),De.length===0&&Fe.length===0)return pe(K,Ze({matches:q,loaderData:{},errors:le||null},re?{actionData:re}:{})),{shortCircuited:!0};if(!C){Fe.forEach(qe=>{let gt=m.fetchers.get(qe.key),mt={state:"loading",data:gt&&gt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(qe.key,mt)});let $e=re||m.actionData;ue(Ze({navigation:te},$e?Object.keys($e).length===0?{actionData:null}:{actionData:$e}:{},Fe.length>0?{fetchers:new Map(m.fetchers)}:{}))}Q=++H,Fe.forEach($e=>F.set($e.key,A));let{results:Ie,loaderResults:Ve,fetcherResults:Ge}=await lt(m.matches,q,De,Fe,M);if(M.signal.aborted)return{shortCircuited:!0};Fe.forEach($e=>F.delete($e.key));let je=tg(Ie);if(je)return await rt(m,je,{replace:ie}),{shortCircuited:!0};let{loaderData:We,errors:Je}=Jv(m,q,De,Ve,le,Fe,Ge,fe);fe.forEach(($e,qe)=>{$e.subscribe(gt=>{(gt||$e.done)&&fe.delete(qe)})}),Pt();let bt=ht(Q);return Ze({loaderData:We,errors:Je},bt||Fe.length>0?{fetchers:new Map(m.fetchers)}:{})}function Be(M){return m.fetchers.get(M)||f_}function Le(M,K,q,Z){if(d_)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(M)&&ft(M);let ie=Yi(a||n,q,e.basename);if(!ie){it(M,K,qr(404,{pathname:q}));return}let{path:re,submission:le}=qv(q,Z,!0),te=zf(ie,re);if(_=(Z&&Z.preventScrollReset)===!0,le&&ln(le.formMethod)){nt(M,K,re,te,ie,le);return}ce.set(M,{routeId:K,path:re}),ct(M,K,re,te,ie,le)}async function nt(M,K,q,Z,J,ie){if(Qe(),ce.delete(M),!Z.route.action&&!Z.route.lazy){let Ct=qr(405,{method:ie.formMethod,pathname:q,routeId:K});it(M,K,Ct);return}let re=m.fetchers.get(M),le=Ze({state:"submitting"},ie,{data:re&&re.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(M,le),ue({fetchers:new Map(m.fetchers)});let te=new AbortController,Se=ja(e.history,q,te.signal,ie);F.set(M,te);let ge=await Ua("action",Se,Z,J,r,t,T.basename);if(Se.signal.aborted){F.get(M)===te&&F.delete(M);return}if(aa(ge)){F.delete(M),ee.add(M);let Ct=Ze({state:"loading"},ie,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(M,Ct),ue({fetchers:new Map(m.fetchers)}),rt(m,ge,{isFetchActionRedirect:!0})}if(oo(ge)){it(M,K,ge.error);return}if(yi(ge))throw qr(400,{type:"defer-action"});let De=m.navigation.location||m.location,Fe=ja(e.history,De,te.signal),Ie=a||n,Ve=m.navigation.state!=="idle"?Yi(Ie,m.navigation.location,e.basename):m.matches;ze(Ve,"Didn't find any matches after fetcher action");let Ge=++H;V.set(M,Ge);let je=Ze({state:"loading",data:ge.data},ie,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(M,je);let[We,Je]=Yv(e.history,m,Ve,ie,De,k,P,I,ce,Ie,e.basename,{[Z.route.id]:ge.data},void 0);Je.filter(Ct=>Ct.key!==M).forEach(Ct=>{let ar=Ct.key,Vt=m.fetchers.get(ar),Mt={state:"loading",data:Vt&&Vt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(ar,Mt),F.set(ar,te)}),ue({fetchers:new Map(m.fetchers)});let{results:bt,loaderResults:$e,fetcherResults:qe}=await lt(m.matches,Ve,We,Je,Fe);if(te.signal.aborted)return;V.delete(M),F.delete(M),Je.forEach(Ct=>F.delete(Ct.key));let gt=tg(bt);if(gt)return rt(m,gt);let{loaderData:mt,errors:Ft}=Jv(m,m.matches,We,$e,void 0,Je,qe,fe),Tt={state:"idle",data:ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(M,Tt);let ut=ht(Ge);m.navigation.state==="loading"&&Ge>Q?(ze(L,"Expected pending action"),A&&A.abort(),pe(m.navigation.location,{matches:Ve,loaderData:mt,errors:Ft,fetchers:new Map(m.fetchers)})):(ue(Ze({errors:Ft,loaderData:Zv(m.loaderData,mt,Ve,Ft)},ut?{fetchers:new Map(m.fetchers)}:{})),k=!1)}async function ct(M,K,q,Z,J,ie){let re=m.fetchers.get(M),le=Ze({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ie,{data:re&&re.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(M,le),ue({fetchers:new Map(m.fetchers)});let te=new AbortController,Se=ja(e.history,q,te.signal);F.set(M,te);let ge=await Ua("loader",Se,Z,J,r,t,T.basename);if(yi(ge)&&(ge=await ky(ge,Se.signal,!0)||ge),F.get(M)===te&&F.delete(M),Se.signal.aborted)return;if(aa(ge)){await rt(m,ge);return}if(oo(ge)){let Fe=Xi(m.matches,K);m.fetchers.delete(M),ue({fetchers:new Map(m.fetchers),errors:{[Fe.route.id]:ge.error}});return}ze(!yi(ge),"Unhandled fetcher deferred data");let De={state:"idle",data:ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(M,De),ue({fetchers:new Map(m.fetchers)})}async function rt(M,K,q){var Z;let{submission:J,replace:ie,isFetchActionRedirect:re}=q===void 0?{}:q;K.revalidate&&(k=!0);let le=Mo(M.location,K.location,Ze({_isRedirect:!0},re?{_isFetchActionRedirect:!0}:{}));if(ze(le,"Expected a location on the redirect navigation"),Ry.test(K.location)&&_y&&typeof((Z=window)==null?void 0:Z.location)<"u"){let Ie=e.history.createURL(K.location),Ve=Qo(Ie.pathname,e.basename||"/")==null;if(window.location.origin!==Ie.origin||Ve){ie?window.location.replace(K.location):window.location.assign(K.location);return}}A=null;let te=ie===!0?Dt.Replace:Dt.Push,{formMethod:Se,formAction:ge,formEncType:De,formData:Fe}=M.navigation;!J&&Se&&ge&&Fe&&De&&(J={formMethod:Se,formAction:ge,formEncType:De,formData:Fe}),c_.has(K.status)&&J&&ln(J.formMethod)?await Ce(te,le,{submission:Ze({},J,{formAction:K.location}),preventScrollReset:_}):await Ce(te,le,{overrideNavigation:{state:"loading",location:le,formMethod:J?J.formMethod:void 0,formAction:J?J.formAction:void 0,formEncType:J?J.formEncType:void 0,formData:J?J.formData:void 0},preventScrollReset:_})}async function lt(M,K,q,Z,J){let ie=await Promise.all([...q.map(te=>Ua("loader",J,te,K,r,t,T.basename)),...Z.map(te=>te.matches&&te.match?Ua("loader",ja(e.history,te.path,J.signal),te.match,te.matches,r,t,T.basename):{type:Nt.error,error:qr(404,{pathname:te.path})})]),re=ie.slice(0,q.length),le=ie.slice(q.length);return await Promise.all([rg(M,q,re,J.signal,!1,m.loaderData),rg(M,Z.map(te=>te.match),le,J.signal,!0)]),{results:ie,loaderResults:re,fetcherResults:le}}function Qe(){k=!0,P.push(...D()),ce.forEach((M,K)=>{F.has(K)&&(I.push(K),ft(K))})}function it(M,K,q){let Z=Xi(m.matches,K);Yt(M),ue({errors:{[Z.route.id]:q},fetchers:new Map(m.fetchers)})}function Yt(M){F.has(M)&&ft(M),ce.delete(M),V.delete(M),ee.delete(M),m.fetchers.delete(M)}function ft(M){let K=F.get(M);ze(K,"Expected fetch controller: "+M),K.abort(),F.delete(M)}function ir(M){for(let K of M){let Z={state:"idle",data:Be(K).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(K,Z)}}function Pt(){let M=[];for(let K of ee){let q=m.fetchers.get(K);ze(q,"Expected fetcher: "+K),q.state==="loading"&&(ee.delete(K),M.push(K))}ir(M)}function ht(M){let K=[];for(let[q,Z]of V)if(Z<M){let J=m.fetchers.get(q);ze(J,"Expected fetcher: "+q),J.state==="loading"&&(ft(q),V.delete(q),K.push(q))}return ir(K),K.length>0}function Tn(M,K){let q=m.blockers.get(M)||$v;return he.get(M)!==K&&he.set(M,K),q}function j(M){m.blockers.delete(M),he.delete(M)}function X(M,K){let q=m.blockers.get(M)||$v;ze(q.state==="unblocked"&&K.state==="blocked"||q.state==="blocked"&&K.state==="blocked"||q.state==="blocked"&&K.state==="proceeding"||q.state==="blocked"&&K.state==="unblocked"||q.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+K.state),m.blockers.set(M,K),ue({blockers:new Map(m.blockers)})}function G(M){let{currentLocation:K,nextLocation:q,historyAction:Z}=M;if(he.size===0)return;he.size>1&&va(!1,"A router only supports one blocker at a time");let J=Array.from(he.entries()),[ie,re]=J[J.length-1],le=m.blockers.get(ie);if(!(le&&le.state==="proceeding")&&re({currentLocation:K,nextLocation:q,historyAction:Z}))return ie}function D(M){let K=[];return fe.forEach((q,Z)=>{(!M||M(Z))&&(q.cancel(),K.push(Z),fe.delete(Z))}),K}function N(M,K,q){if(f=M,c=K,v=q||(Z=>Z.key),!p&&m.navigation===_c){p=!0;let Z=W(m.location,m.matches);Z!=null&&ue({restoreScrollPosition:Z})}return()=>{f=null,c=null,v=null}}function z(M,K){if(f&&v&&c){let q=K.map(J=>ng(J,m.loaderData)),Z=v(M,q)||M.key;f[Z]=c()}}function W(M,K){if(f&&v&&c){let q=K.map(ie=>ng(ie,m.loaderData)),Z=v(M,q)||M.key,J=f[Z];if(typeof J=="number")return J}return null}function $(M){a=M}return T={get basename(){return e.basename},get state(){return m},get routes(){return n},initialize:Te,subscribe:ae,enableScrollRestoration:N,navigate:Ee,fetch:Le,revalidate:ye,createHref:M=>e.history.createHref(M),encodeLocation:M=>e.history.encodeLocation(M),getFetcher:Be,deleteFetcher:Yt,dispose:_e,getBlocker:Tn,deleteBlocker:j,_internalFetchControllers:F,_internalActiveDeferreds:fe,_internalSetRoutes:$},T}function v_(e){return e!=null&&"formData"in e}function qv(e,t,r){r===void 0&&(r=!1);let n=typeof e=="string"?e:En(e);if(!t||!v_(t))return{path:n};if(t.formMethod&&!S_(t.formMethod))return{path:n,error:qr(405,{method:t.formMethod})};let a;if(t.formData&&(a={formMethod:t.formMethod||"get",formAction:Dy(n),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},ln(a.formMethod)))return{path:n,submission:a};let o=wn(n),u=Cy(t.formData);return r&&o.search&&Ly(o.search)&&u.append("index",""),o.search="?"+u,{path:En(o),submission:a}}function g_(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Yv(e,t,r,n,a,o,u,f,v,c,p,w,x){let E=x?Object.values(x)[0]:w?Object.values(w)[0]:void 0,T=e.createURL(t.location),m=e.createURL(a),L=o||T.toString()===m.toString()||T.search!==m.search,_=x?Object.keys(x)[0]:void 0,C=g_(r,_).filter((P,I)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(m_(t.loaderData,t.matches[I],P)||u.some(Q=>Q===P.route.id))return!0;let F=t.matches[I],H=P;return Xv(P,Ze({currentUrl:T,currentParams:F.params,nextUrl:m,nextParams:H.params},n,{actionResult:E,defaultShouldRevalidate:L||by(F,H)}))}),k=[];return v.forEach((P,I)=>{if(!r.some(V=>V.route.id===P.routeId))return;let F=Yi(c,P.path,p);if(!F){k.push(Ze({key:I},P,{matches:null,match:null}));return}let H=zf(F,P.path);if(f.includes(I)){k.push(Ze({key:I,matches:F,match:H},P));return}Xv(H,Ze({currentUrl:T,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:r[r.length-1].params},n,{actionResult:E,defaultShouldRevalidate:L}))&&k.push(Ze({key:I,matches:F,match:H},P))}),[C,k]}function m_(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function by(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xv(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function jf(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];ze(a,"No route found in manifest");let o={};for(let u in n){let v=a[u]!==void 0&&u!=="hasErrorBoundary";va(!v,'Route "'+a.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!v&&!MR.has(u)&&(o[u]=n[u])}Object.assign(a,o),Object.assign(a,{hasErrorBoundary:t(Ze({},a)),lazy:void 0})}async function Ua(e,t,r,n,a,o,u,f,v,c){u===void 0&&(u="/"),f===void 0&&(f=!1),v===void 0&&(v=!1);let p,w,x,E=L=>{let _,A=new Promise((C,k)=>_=k);return x=()=>_(),t.signal.addEventListener("abort",x),Promise.race([L({request:t,params:r.params,context:c}),A])};try{let L=r.route[e];if(r.route.lazy)if(L)w=(await Promise.all([E(L),jf(r.route,o,a)]))[0];else if(await jf(r.route,o,a),L=r.route[e],L)w=await E(L);else{if(e==="action")throw qr(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:r.route.id});return{type:Nt.data,data:void 0}}else ze(L,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),w=await E(L);ze(w!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(L){p=Nt.error,w=L}finally{x&&t.signal.removeEventListener("abort",x)}if(E_(w)){let L=w.status;if(u_.has(L)){let C=w.headers.get("Location");if(ze(C,"Redirects returned/thrown from loaders/actions must have a Location header"),Ry.test(C)){if(!f){let k=new URL(t.url),P=C.startsWith("//")?new URL(k.protocol+C):new URL(C),I=Qo(P.pathname,u)!=null;P.origin===k.origin&&I&&(C=P.pathname+P.search+P.hash)}}else{let k=n.slice(0,n.indexOf(r)+1),P=Au(k).map(F=>F.pathnameBase),I=ah(C,P,new URL(t.url).pathname);if(ze(En(I),"Unable to resolve redirect location: "+C),u){let F=I.pathname;I.pathname=F==="/"?u:pn([u,F])}C=En(I)}if(f)throw w.headers.set("Location",C),w;return{type:Nt.redirect,status:L,location:C,revalidate:w.headers.get("X-Remix-Revalidate")!==null}}if(v)throw{type:p||Nt.data,response:w};let _,A=w.headers.get("Content-Type");return A&&/\bapplication\/json\b/.test(A)?_=await w.json():_=await w.text(),p===Nt.error?{type:p,error:new oh(L,w.statusText,_),headers:w.headers}:{type:Nt.data,data:_,statusCode:w.status,headers:w.headers}}if(p===Nt.error)return{type:p,error:w};if(w instanceof n_){var T,m;return{type:Nt.deferred,deferredData:w,statusCode:(T=w.init)==null?void 0:T.status,headers:((m=w.init)==null?void 0:m.headers)&&new Headers(w.init.headers)}}return{type:Nt.data,data:w}}function ja(e,t,r,n){let a=e.createURL(Dy(t)).toString(),o={signal:r};if(n&&ln(n.formMethod)){let{formMethod:u,formEncType:f,formData:v}=n;o.method=u.toUpperCase(),o.body=f==="application/x-www-form-urlencoded"?Cy(v):v}return new Request(a,o)}function Cy(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,n instanceof File?n.name:n);return t}function y_(e,t,r,n,a){let o={},u=null,f,v=!1,c={};return r.forEach((p,w)=>{let x=t[w].route.id;if(ze(!aa(p),"Cannot handle redirect results in processLoaderData"),oo(p)){let E=Xi(e,x),T=p.error;n&&(T=Object.values(n)[0],n=void 0),u=u||{},u[E.route.id]==null&&(u[E.route.id]=T),o[x]=void 0,v||(v=!0,f=wy(p.error)?p.error.status:500),p.headers&&(c[x]=p.headers)}else yi(p)?(a.set(x,p.deferredData),o[x]=p.deferredData.data):o[x]=p.data,p.statusCode!=null&&p.statusCode!==200&&!v&&(f=p.statusCode),p.headers&&(c[x]=p.headers)}),n&&(u=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:c}}function Jv(e,t,r,n,a,o,u,f){let{loaderData:v,errors:c}=y_(t,r,n,a,f);for(let p=0;p<o.length;p++){let{key:w,match:x}=o[p];ze(u!==void 0&&u[p]!==void 0,"Did not find corresponding fetcher result");let E=u[p];if(oo(E)){let T=Xi(e.matches,x==null?void 0:x.route.id);c&&c[T.route.id]||(c=Ze({},c,{[T.route.id]:E.error})),e.fetchers.delete(w)}else if(aa(E))ze(!1,"Unhandled fetcher revalidation redirect");else if(yi(E))ze(!1,"Unhandled fetcher deferred data");else{let T={state:"idle",data:E.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(w,T)}}return{loaderData:v,errors:c}}function Zv(e,t,r,n){let a=Ze({},t);for(let o of r){let u=o.route.id;if(t.hasOwnProperty(u)?t[u]!==void 0&&(a[u]=t[u]):e[u]!==void 0&&o.route.loader&&(a[u]=e[u]),n&&n.hasOwnProperty(u))break}return a}function Xi(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function eg(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function qr(e,t){let{pathname:r,routeId:n,method:a,type:o}=t===void 0?{}:t,u="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(u="Bad Request",a&&r&&n?f="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(f="defer() is not supported in actions")):e===403?(u="Forbidden",f='Route "'+n+'" does not match URL "'+r+'"'):e===404?(u="Not Found",f='No route matches URL "'+r+'"'):e===405&&(u="Method Not Allowed",a&&r&&n?f="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(f='Invalid request method "'+a.toUpperCase()+'"')),new oh(e||500,u,new Error(f),!0)}function tg(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(aa(r))return r}}function Dy(e){let t=typeof e=="string"?wn(e):e;return En(Ze({},t,{hash:""}))}function x_(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function yi(e){return e.type===Nt.deferred}function oo(e){return e.type===Nt.error}function aa(e){return(e&&e.type)===Nt.redirect}function E_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function S_(e){return l_.has(e)}function ln(e){return o_.has(e)}async function rg(e,t,r,n,a,o){for(let u=0;u<r.length;u++){let f=r[u],v=t[u];if(!v)continue;let c=e.find(w=>w.route.id===v.route.id),p=c!=null&&!by(c,v)&&(o&&o[v.route.id])!==void 0;yi(f)&&(a||p)&&await ky(f,n,a).then(w=>{w&&(r[u]=w||r[u])})}}async function ky(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Nt.data,data:e.deferredData.unwrappedData}}catch(a){return{type:Nt.error,error:a}}return{type:Nt.data,data:e.deferredData.data}}}function Ly(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ng(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function zf(e,t){let r=typeof t=="string"?wn(t).search:t.search;if(e[e.length-1].route.index&&Ly(r||""))return e[e.length-1];let n=Au(e);return n[n.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const w_=typeof Object.is=="function"?Object.is:A_,{useState:T_,useEffect:R_,useLayoutEffect:__,useDebugValue:b_}=Cc;function C_(e,t,r){const n=t(),[{inst:a},o]=T_({inst:{value:n,getSnapshot:t}});return __(()=>{a.value=n,a.getSnapshot=t,bc(a)&&o({inst:a})},[e,n,t]),R_(()=>(bc(a)&&o({inst:a}),e(()=>{bc(a)&&o({inst:a})})),[e]),b_(n),n}function bc(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!w_(r,n)}catch{return!0}}function D_(e,t,r){return t()}const k_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L_=!k_,P_=L_?D_:C_,O_="useSyncExternalStore"in Cc?(e=>e.useSyncExternalStore)(Cc):P_,sh=se.createContext(null),wu=se.createContext(null),Sa=se.createContext(null),Tu=se.createContext(null),Di=se.createContext({outlet:null,matches:[]}),Py=se.createContext(null);function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(this,arguments)}function I_(e,t){let{relative:r}=t===void 0?{}:t;$o()||ze(!1);let{basename:n,navigator:a}=se.useContext(Sa),{hash:o,pathname:u,search:f}=lh(e,{relative:r}),v=u;return n!=="/"&&(v=u==="/"?n:pn([n,u])),a.createHref({pathname:v,search:f,hash:o})}function $o(){return se.useContext(Tu)!=null}function qo(){return $o()||ze(!1),se.useContext(Tu).location}function Ru(){$o()||ze(!1);let{basename:e,navigator:t}=se.useContext(Sa),{matches:r}=se.useContext(Di),{pathname:n}=qo(),a=JSON.stringify(Au(r).map(f=>f.pathnameBase)),o=se.useRef(!1);return se.useEffect(()=>{o.current=!0}),se.useCallback(function(f,v){if(v===void 0&&(v={}),!o.current)return;if(typeof f=="number"){t.go(f);return}let c=ah(f,JSON.parse(a),n,v.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:pn([e,c.pathname])),(v.replace?t.replace:t.push)(c,v.state,v)},[e,t,a,n])}function Oy(){let{matches:e}=se.useContext(Di),t=e[e.length-1];return t?t.params:{}}function lh(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=se.useContext(Di),{pathname:a}=qo(),o=JSON.stringify(Au(n).map(u=>u.pathnameBase));return se.useMemo(()=>ah(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function F_(e,t){$o()||ze(!1);let{navigator:r}=se.useContext(Sa),n=se.useContext(wu),{matches:a}=se.useContext(Di),o=a[a.length-1],u=o?o.params:{};o&&o.pathname;let f=o?o.pathnameBase:"/";o&&o.route;let v=qo(),c;if(t){var p;let m=typeof t=="string"?wn(t):t;f==="/"||(p=m.pathname)!=null&&p.startsWith(f)||ze(!1),c=m}else c=v;let w=c.pathname||"/",x=f==="/"?w:w.slice(f.length)||"/",E=Yi(e,{pathname:x}),T=U_(E&&E.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:pn([f,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?f:pn([f,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,n||void 0);return t&&T?se.createElement(Tu.Provider,{value:{location:Gf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Dt.Pop}},T):T}function M_(){let e=Iy(),t=wy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},t),r?se.createElement("pre",{style:a},r):null,o)}class N_ extends se.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?se.createElement(Di.Provider,{value:this.props.routeContext},se.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B_(e){let{routeContext:t,match:r,children:n}=e,a=se.useContext(sh);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(Di.Provider,{value:t},n)}function U_(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,a=r==null?void 0:r.errors;if(a!=null){let o=n.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));o>=0||ze(!1),n=n.slice(0,Math.min(n.length,o+1))}return n.reduceRight((o,u,f)=>{let v=u.route.id?a==null?void 0:a[u.route.id]:null,c=null;r&&(u.route.ErrorBoundary?c=se.createElement(u.route.ErrorBoundary,null):u.route.errorElement?c=u.route.errorElement:c=se.createElement(M_,null));let p=t.concat(n.slice(0,f+1)),w=()=>{let x=o;return v?x=c:u.route.Component?x=se.createElement(u.route.Component,null):u.route.element&&(x=u.route.element),se.createElement(B_,{match:u,routeContext:{outlet:o,matches:p},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?se.createElement(N_,{location:r.location,component:c,error:v,children:w(),routeContext:{outlet:null,matches:p}}):w()},null)}var ig;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(ig||(ig={}));var Dl;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Dl||(Dl={}));function j_(e){let t=se.useContext(wu);return t||ze(!1),t}function z_(e){let t=se.useContext(Di);return t||ze(!1),t}function G_(e){let t=z_(),r=t.matches[t.matches.length-1];return r.route.id||ze(!1),r.route.id}function Iy(){var e;let t=se.useContext(Py),r=j_(Dl.UseRouteError),n=G_(Dl.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function K_(e){let{fallbackElement:t,router:r}=e,n=se.useCallback(()=>r.state,[r]),a=O_(r.subscribe,n,n),o=se.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:v=>r.navigate(v),push:(v,c,p)=>r.navigate(v,{state:c,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(v,c,p)=>r.navigate(v,{replace:!0,state:c,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[r]),u=r.basename||"/",f=se.useMemo(()=>({router:r,navigator:o,static:!1,basename:u}),[r,o,u]);return se.createElement(se.Fragment,null,se.createElement(sh.Provider,{value:f},se.createElement(wu.Provider,{value:a},se.createElement(H_,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:o},r.state.initialized?se.createElement(V_,null):t))),null)}function Ni(e){ze(!1)}function H_(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Dt.Pop,navigator:o,static:u=!1}=e;$o()&&ze(!1);let f=t.replace(/^\/*/,"/"),v=se.useMemo(()=>({basename:f,navigator:o,static:u}),[f,o,u]);typeof n=="string"&&(n=wn(n));let{pathname:c="/",search:p="",hash:w="",state:x=null,key:E="default"}=n,T=se.useMemo(()=>{let m=Qo(c,f);return m==null?null:{location:{pathname:m,search:p,hash:w,state:x,key:E},navigationType:a}},[f,c,p,w,x,E,a]);return T==null?null:se.createElement(Sa.Provider,{value:v},se.createElement(Tu.Provider,{children:r,value:T}))}function V_(e){let{children:t,location:r}=e,n=se.useContext(sh),a=n&&!t?n.router.routes:kl(t);return F_(a,r)}var ag;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(ag||(ag={}));new Promise(()=>{});function kl(e,t){t===void 0&&(t=[]);let r=[];return se.Children.forEach(e,(n,a)=>{if(!se.isValidElement(n))return;if(n.type===se.Fragment){r.push.apply(r,kl(n.props.children,t));return}n.type!==Ni&&ze(!1),!n.props.index||!n.props.children||ze(!1);let o=[...t,a],u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=kl(n.props.children,o)),r.push(u)}),r}function W_(e){return!!e.ErrorBoundary||!!e.errorElement}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(this,arguments)}function Fy(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Q_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $_(e,t){return e.button===0&&(!t||t==="_self")&&!Q_(e)}const q_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Y_=["aria-current","caseSensitive","className","end","style","to","children"];function X_(e,t){return p_({basename:t==null?void 0:t.basename,history:OR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||J_(),routes:e,detectErrorBoundary:W_}).initialize()}function J_(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=No({},t,{errors:Z_(t.errors)})),t}function Z_(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new oh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let o=new Error(a.message);o.stack="",r[n]=o}else r[n]=a;return r}const eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rb=se.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:u,state:f,target:v,to:c,preventScrollReset:p}=t,w=Fy(t,q_),{basename:x}=se.useContext(Sa),E,T=!1;if(typeof c=="string"&&tb.test(c)&&(E=c,eb)){let A=new URL(window.location.href),C=c.startsWith("//")?new URL(A.protocol+c):new URL(c),k=Qo(C.pathname,x);C.origin===A.origin&&k!=null?c=k+C.search+C.hash:T=!0}let m=I_(c,{relative:a}),L=ib(c,{replace:u,state:f,target:v,preventScrollReset:p,relative:a});function _(A){n&&n(A),A.defaultPrevented||L(A)}return se.createElement("a",No({},w,{href:E||m,onClick:T||o?n:_,ref:r,target:v}))}),nb=se.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:u=!1,style:f,to:v,children:c}=t,p=Fy(t,Y_),w=lh(v,{relative:p.relative}),x=qo(),E=se.useContext(wu),{navigator:T}=se.useContext(Sa),m=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,L=x.pathname,_=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;a||(L=L.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase());let A=L===m||!u&&L.startsWith(m)&&L.charAt(m.length)==="/",C=_!=null&&(_===m||!u&&_.startsWith(m)&&_.charAt(m.length)==="/"),k=A?n:void 0,P;typeof o=="function"?P=o({isActive:A,isPending:C}):P=[o,A?"active":null,C?"pending":null].filter(Boolean).join(" ");let I=typeof f=="function"?f({isActive:A,isPending:C}):f;return se.createElement(rb,No({},p,{"aria-current":k,className:P,ref:r,style:I,to:v}),typeof c=="function"?c({isActive:A,isPending:C}):c)});var og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(og||(og={}));var sg;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sg||(sg={}));function ib(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:u}=t===void 0?{}:t,f=Ru(),v=qo(),c=lh(e,{relative:u});return se.useCallback(p=>{if($_(p,r)){p.preventDefault();let w=n!==void 0?n:En(v)===En(c);f(e,{replace:w,state:a,preventScrollReset:o,relative:u})}},[v,f,c,n,a,r,e,o,u])}var Kf={},ab={get exports(){return Kf},set exports(e){Kf=e}};(function(e,t){typeof window<"u"&&function(n,a){e.exports=a()}(cE,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var u=n[o]={i:o,l:!1,exports:{}};return r[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=n,a.d=function(o,u,f){a.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:f})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,u){if(u&1&&(o=a(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var v in o)a.d(f,v,function(c){return o[c]}.bind(null,v));return f},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="/dist/",a(a.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(r,n,a){var o=Object.prototype.hasOwnProperty,u="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(u=!1));function v(x,E,T){this.fn=x,this.context=E,this.once=T||!1}function c(x,E,T,m,L){if(typeof T!="function")throw new TypeError("The listener must be a function");var _=new v(T,m||x,L),A=u?u+E:E;return x._events[A]?x._events[A].fn?x._events[A]=[x._events[A],_]:x._events[A].push(_):(x._events[A]=_,x._eventsCount++),x}function p(x,E){--x._eventsCount===0?x._events=new f:delete x._events[E]}function w(){this._events=new f,this._eventsCount=0}w.prototype.eventNames=function(){var E=[],T,m;if(this._eventsCount===0)return E;for(m in T=this._events)o.call(T,m)&&E.push(u?m.slice(1):m);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(T)):E},w.prototype.listeners=function(E){var T=u?u+E:E,m=this._events[T];if(!m)return[];if(m.fn)return[m.fn];for(var L=0,_=m.length,A=new Array(_);L<_;L++)A[L]=m[L].fn;return A},w.prototype.listenerCount=function(E){var T=u?u+E:E,m=this._events[T];return m?m.fn?1:m.length:0},w.prototype.emit=function(E,T,m,L,_,A){var C=u?u+E:E;if(!this._events[C])return!1;var k=this._events[C],P=arguments.length,I,F;if(k.fn){switch(k.once&&this.removeListener(E,k.fn,void 0,!0),P){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,T),!0;case 3:return k.fn.call(k.context,T,m),!0;case 4:return k.fn.call(k.context,T,m,L),!0;case 5:return k.fn.call(k.context,T,m,L,_),!0;case 6:return k.fn.call(k.context,T,m,L,_,A),!0}for(F=1,I=new Array(P-1);F<P;F++)I[F-1]=arguments[F];k.fn.apply(k.context,I)}else{var H=k.length,Q;for(F=0;F<H;F++)switch(k[F].once&&this.removeListener(E,k[F].fn,void 0,!0),P){case 1:k[F].fn.call(k[F].context);break;case 2:k[F].fn.call(k[F].context,T);break;case 3:k[F].fn.call(k[F].context,T,m);break;case 4:k[F].fn.call(k[F].context,T,m,L);break;default:if(!I)for(Q=1,I=new Array(P-1);Q<P;Q++)I[Q-1]=arguments[Q];k[F].fn.apply(k[F].context,I)}}return!0},w.prototype.on=function(E,T,m){return c(this,E,T,m,!1)},w.prototype.once=function(E,T,m){return c(this,E,T,m,!0)},w.prototype.removeListener=function(E,T,m,L){var _=u?u+E:E;if(!this._events[_])return this;if(!T)return p(this,_),this;var A=this._events[_];if(A.fn)A.fn===T&&(!L||A.once)&&(!m||A.context===m)&&p(this,_);else{for(var C=0,k=[],P=A.length;C<P;C++)(A[C].fn!==T||L&&!A[C].once||m&&A[C].context!==m)&&k.push(A[C]);k.length?this._events[_]=k.length===1?k[0]:k:p(this,_)}return this},w.prototype.removeAllListeners=function(E){var T;return E?(T=u?u+E:E,this._events[T]&&p(this,T)):(this._events=new f,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=u,w.EventEmitter=w,r.exports=w},"./node_modules/url-toolkit/src/url-toolkit.js":function(r,n,a){(function(o){var u=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,f=/^([^\/?#]*)(.*)$/,v=/(?:\/|^)\.(?=\/)/g,c=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,p={buildAbsoluteURL:function(w,x,E){if(E=E||{},w=w.trim(),x=x.trim(),!x){if(!E.alwaysNormalize)return w;var T=p.parseURL(w);if(!T)throw new Error("Error trying to parse base URL.");return T.path=p.normalizePath(T.path),p.buildURLFromParts(T)}var m=p.parseURL(x);if(!m)throw new Error("Error trying to parse relative URL.");if(m.scheme)return E.alwaysNormalize?(m.path=p.normalizePath(m.path),p.buildURLFromParts(m)):x;var L=p.parseURL(w);if(!L)throw new Error("Error trying to parse base URL.");if(!L.netLoc&&L.path&&L.path[0]!=="/"){var _=f.exec(L.path);L.netLoc=_[1],L.path=_[2]}L.netLoc&&!L.path&&(L.path="/");var A={scheme:L.scheme,netLoc:m.netLoc,path:null,params:m.params,query:m.query,fragment:m.fragment};if(!m.netLoc&&(A.netLoc=L.netLoc,m.path[0]!=="/"))if(!m.path)A.path=L.path,m.params||(A.params=L.params,m.query||(A.query=L.query));else{var C=L.path,k=C.substring(0,C.lastIndexOf("/")+1)+m.path;A.path=p.normalizePath(k)}return A.path===null&&(A.path=E.alwaysNormalize?p.normalizePath(m.path):m.path),p.buildURLFromParts(A)},parseURL:function(w){var x=u.exec(w);return x?{scheme:x[1]||"",netLoc:x[2]||"",path:x[3]||"",params:x[4]||"",query:x[5]||"",fragment:x[6]||""}:null},normalizePath:function(w){for(w=w.split("").reverse().join("").replace(v,"");w.length!==(w=w.replace(c,"")).length;);return w.split("").reverse().join("")},buildURLFromParts:function(w){return w.scheme+w.netLoc+w.path+w.params+w.query+w.fragment}};r.exports=p})()},"./node_modules/webworkify-webpack/index.js":function(r,n,a){function o(E){var T={};function m(_){if(T[_])return T[_].exports;var A=T[_]={i:_,l:!1,exports:{}};return E[_].call(A.exports,A,A.exports,m),A.l=!0,A.exports}m.m=E,m.c=T,m.i=function(_){return _},m.d=function(_,A,C){m.o(_,A)||Object.defineProperty(_,A,{configurable:!1,enumerable:!0,get:C})},m.r=function(_){Object.defineProperty(_,"__esModule",{value:!0})},m.n=function(_){var A=_&&_.__esModule?function(){return _.default}:function(){return _};return m.d(A,"a",A),A},m.o=function(_,A){return Object.prototype.hasOwnProperty.call(_,A)},m.p="/",m.oe=function(_){throw console.error(_),_};var L=m(m.s=ENTRY_MODULE);return L.default||L}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function v(E){return(E+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function c(E){return!isNaN(1*E)}function p(E,T,m){var L={};L[m]=[];var _=T.toString(),A=_.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!A)return L;for(var C=A[1],k=new RegExp("(\\\\n|\\W)"+v(C)+f,"g"),P;P=k.exec(_);)P[3]!=="dll-reference"&&L[m].push(P[3]);for(k=new RegExp("\\("+v(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");P=k.exec(_);)E[P[2]]||(L[m].push(P[1]),E[P[2]]=a(P[1]).m),L[P[2]]=L[P[2]]||[],L[P[2]].push(P[4]);for(var I=Object.keys(L),F=0;F<I.length;F++)for(var H=0;H<L[I[F]].length;H++)c(L[I[F]][H])&&(L[I[F]][H]=1*L[I[F]][H]);return L}function w(E){var T=Object.keys(E);return T.reduce(function(m,L){return m||E[L].length>0},!1)}function x(E,T){for(var m={main:[T]},L={main:[]},_={main:{}};w(m);)for(var A=Object.keys(m),C=0;C<A.length;C++){var k=A[C],P=m[k],I=P.pop();if(_[k]=_[k]||{},!(_[k][I]||!E[k][I])){_[k][I]=!0,L[k]=L[k]||[],L[k].push(I);for(var F=p(E,E[k][I],k),H=Object.keys(F),Q=0;Q<H.length;Q++)m[H[Q]]=m[H[Q]]||[],m[H[Q]]=m[H[Q]].concat(F[H[Q]])}}return L}r.exports=function(E,T){T=T||{};var m={main:a.m},L=T.all?{main:Object.keys(m.main)}:x(m,E),_="";Object.keys(L).filter(function(I){return I!=="main"}).forEach(function(I){for(var F=0;L[I][F];)F++;L[I].push(F),m[I][F]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",_=_+"var "+I+" = ("+o.toString().replace("ENTRY_MODULE",JSON.stringify(F))+")({"+L[I].map(function(H){return""+JSON.stringify(H)+": "+m[I][H].toString()}).join(",")+`});
`}),_=_+"new (("+o.toString().replace("ENTRY_MODULE",JSON.stringify(E))+")({"+L.main.map(function(I){return""+JSON.stringify(I)+": "+m.main[I].toString()}).join(",")+"}))(self);";var A=new window.Blob([_],{type:"text/javascript"});if(T.bare)return A;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,k=C.createObjectURL(A),P=new window.Worker(k);return P.objectURL=k,P}},"./src/crypt/decrypter.js":function(r,n,a){a.r(n);var o=function(){function _(C,k){this.subtle=C,this.aesIV=k}var A=_.prototype;return A.decrypt=function(k,P){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},P,k)},_}(),u=function(){function _(C,k){this.subtle=C,this.key=k}var A=_.prototype;return A.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},_}(),f=u;function v(_){var A=_.byteLength,C=A&&new DataView(_).getUint8(A-1);return C?_.slice(0,A-C):_}var c=function(){function _(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var A=_.prototype;return A.uint8ArrayToUint32Array_=function(k){for(var P=new DataView(k),I=new Uint32Array(4),F=0;F<4;F++)I[F]=P.getUint32(F*4);return I},A.initTable=function(){var k=this.sBox,P=this.invSBox,I=this.subMix,F=I[0],H=I[1],Q=I[2],V=I[3],ee=this.invSubMix,ce=ee[0],fe=ee[1],he=ee[2],Ae=ee[3],Te=new Uint32Array(256),_e=0,ae=0,ue=0;for(ue=0;ue<256;ue++)ue<128?Te[ue]=ue<<1:Te[ue]=ue<<1^283;for(ue=0;ue<256;ue++){var pe=ae^ae<<1^ae<<2^ae<<3^ae<<4;pe=pe>>>8^pe&255^99,k[_e]=pe,P[pe]=_e;var Ee=Te[_e],ye=Te[Ee],Ce=Te[ye],we=Te[pe]*257^pe*16843008;F[_e]=we<<24|we>>>8,H[_e]=we<<16|we>>>16,Q[_e]=we<<8|we>>>24,V[_e]=we,we=Ce*16843009^ye*65537^Ee*257^_e*16843008,ce[pe]=we<<24|we>>>8,fe[pe]=we<<16|we>>>16,he[pe]=we<<8|we>>>24,Ae[pe]=we,_e?(_e=Ee^Te[Te[Te[Ce^Ee]]],ae^=Te[Te[ae]]):_e=ae=1}},A.expandKey=function(k){for(var P=this.uint8ArrayToUint32Array_(k),I=!0,F=0;F<P.length&&I;)I=P[F]===this.key[F],F++;if(!I){this.key=P;var H=this.keySize=P.length;if(H!==4&&H!==6&&H!==8)throw new Error("Invalid aes key size="+H);var Q=this.ksRows=(H+6+1)*4,V,ee,ce=this.keySchedule=new Uint32Array(Q),fe=this.invKeySchedule=new Uint32Array(Q),he=this.sBox,Ae=this.rcon,Te=this.invSubMix,_e=Te[0],ae=Te[1],ue=Te[2],pe=Te[3],Ee,ye;for(V=0;V<Q;V++){if(V<H){Ee=ce[V]=P[V];continue}ye=Ee,V%H===0?(ye=ye<<8|ye>>>24,ye=he[ye>>>24]<<24|he[ye>>>16&255]<<16|he[ye>>>8&255]<<8|he[ye&255],ye^=Ae[V/H|0]<<24):H>6&&V%H===4&&(ye=he[ye>>>24]<<24|he[ye>>>16&255]<<16|he[ye>>>8&255]<<8|he[ye&255]),ce[V]=Ee=(ce[V-H]^ye)>>>0}for(ee=0;ee<Q;ee++)V=Q-ee,ee&3?ye=ce[V]:ye=ce[V-4],ee<4||V<=4?fe[ee]=ye:fe[ee]=_e[he[ye>>>24]]^ae[he[ye>>>16&255]]^ue[he[ye>>>8&255]]^pe[he[ye&255]],fe[ee]=fe[ee]>>>0}},A.networkToHostOrderSwap=function(k){return k<<24|(k&65280)<<8|(k&16711680)>>8|k>>>24},A.decrypt=function(k,P,I,F){for(var H=this.keySize+6,Q=this.invKeySchedule,V=this.invSBox,ee=this.invSubMix,ce=ee[0],fe=ee[1],he=ee[2],Ae=ee[3],Te=this.uint8ArrayToUint32Array_(I),_e=Te[0],ae=Te[1],ue=Te[2],pe=Te[3],Ee=new Int32Array(k),ye=new Int32Array(Ee.length),Ce,we,Ue,Be,Le,nt,ct,rt,lt,Qe,it,Yt,ft,ir,Pt=this.networkToHostOrderSwap;P<Ee.length;){for(lt=Pt(Ee[P]),Qe=Pt(Ee[P+1]),it=Pt(Ee[P+2]),Yt=Pt(Ee[P+3]),Le=lt^Q[0],nt=Yt^Q[1],ct=it^Q[2],rt=Qe^Q[3],ft=4,ir=1;ir<H;ir++)Ce=ce[Le>>>24]^fe[nt>>16&255]^he[ct>>8&255]^Ae[rt&255]^Q[ft],we=ce[nt>>>24]^fe[ct>>16&255]^he[rt>>8&255]^Ae[Le&255]^Q[ft+1],Ue=ce[ct>>>24]^fe[rt>>16&255]^he[Le>>8&255]^Ae[nt&255]^Q[ft+2],Be=ce[rt>>>24]^fe[Le>>16&255]^he[nt>>8&255]^Ae[ct&255]^Q[ft+3],Le=Ce,nt=we,ct=Ue,rt=Be,ft=ft+4;Ce=V[Le>>>24]<<24^V[nt>>16&255]<<16^V[ct>>8&255]<<8^V[rt&255]^Q[ft],we=V[nt>>>24]<<24^V[ct>>16&255]<<16^V[rt>>8&255]<<8^V[Le&255]^Q[ft+1],Ue=V[ct>>>24]<<24^V[rt>>16&255]<<16^V[Le>>8&255]<<8^V[nt&255]^Q[ft+2],Be=V[rt>>>24]<<24^V[Le>>16&255]<<16^V[nt>>8&255]<<8^V[ct&255]^Q[ft+3],ft=ft+3,ye[P]=Pt(Ce^_e),ye[P+1]=Pt(Be^ae),ye[P+2]=Pt(Ue^ue),ye[P+3]=Pt(we^pe),_e=lt,ae=Qe,ue=it,pe=Yt,P=P+4}return F?v(ye.buffer):ye.buffer},A.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},_}(),p=c,w=a("./src/errors.ts"),x=a("./src/utils/logger.js"),E=a("./src/events.js"),T=a("./src/utils/get-self-scope.js"),m=Object(T.getSelfScope)(),L=function(){function _(C,k,P){var I=P===void 0?{}:P,F=I.removePKCS7Padding,H=F===void 0?!0:F;if(this.logEnabled=!0,this.observer=C,this.config=k,this.removePKCS7Padding=H,H)try{var Q=m.crypto;Q&&(this.subtle=Q.subtle||Q.webkitSubtle)}catch{}this.disableWebCrypto=!this.subtle}var A=_.prototype;return A.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},A.decrypt=function(k,P,I,F){var H=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(x.logger.log("JS AES decrypt"),this.logEnabled=!1);var Q=this.decryptor;Q||(this.decryptor=Q=new p),Q.expandKey(P),F(Q.decrypt(k,0,I,this.removePKCS7Padding))}else{this.logEnabled&&(x.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var V=this.subtle;this.key!==P&&(this.key=P,this.fastAesKey=new f(V,P)),this.fastAesKey.expandKey().then(function(ee){var ce=new o(V,I);ce.decrypt(k,ee).catch(function(fe){H.onWebCryptoError(fe,k,P,I,F)}).then(function(fe){F(fe)})}).catch(function(ee){H.onWebCryptoError(ee,k,P,I,F)})}},A.onWebCryptoError=function(k,P,I,F,H){this.config.enableSoftwareAES?(x.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(P,I,F,H)):(x.logger.error("decrypting error : "+k.message),this.observer.trigger(E.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:k.message}))},A.destroy=function(){var k=this.decryptor;k&&(k.destroy(),this.decryptor=void 0)},_}();n.default=L},"./src/demux/demuxer-inline.js":function(r,n,a){a.r(n);var o=a("./src/events.js"),u=a("./src/errors.ts"),f=a("./src/crypt/decrypter.js"),v=a("./src/polyfills/number.js"),c=a("./src/utils/logger.js"),p=a("./src/utils/get-self-scope.js");function w(j,X,G,D){var N,z,W,$,M,K=navigator.userAgent.toLowerCase(),q=D,Z=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(N=((X[G+2]&192)>>>6)+1,z=(X[G+2]&60)>>>2,z>Z.length-1){j.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+z});return}return $=(X[G+2]&1)<<2,$|=(X[G+3]&192)>>>6,c.logger.log("manifest codec:"+D+",ADTS data:type:"+N+",sampleingIndex:"+z+"["+Z[z]+"Hz],channelConfig:"+$),/firefox/i.test(K)?z>=6?(N=5,M=new Array(4),W=z-3):(N=2,M=new Array(2),W=z):K.indexOf("android")!==-1?(N=2,M=new Array(2),W=z):(N=5,M=new Array(4),D&&(D.indexOf("mp4a.40.29")!==-1||D.indexOf("mp4a.40.5")!==-1)||!D&&z>=6?W=z-3:((D&&D.indexOf("mp4a.40.2")!==-1&&(z>=6&&$===1||/vivaldi/i.test(K))||!D&&$===1)&&(N=2,M=new Array(2)),W=z)),M[0]=N<<3,M[0]|=(z&14)>>1,M[1]|=(z&1)<<7,M[1]|=$<<3,N===5&&(M[1]|=(W&14)>>1,M[2]=(W&1)<<7,M[2]|=2<<2,M[3]=0),{config:M,samplerate:Z[z],channelCount:$,codec:"mp4a.40."+N,manifestCodec:q}}function x(j,X){return j[X]===255&&(j[X+1]&246)===240}function E(j,X){return j[X+1]&1?7:9}function T(j,X){return(j[X+3]&3)<<11|j[X+4]<<3|(j[X+5]&224)>>>5}function m(j,X){return!!(X+1<j.length&&x(j,X))}function L(j,X){if(m(j,X)){var G=E(j,X);if(X+G>=j.length)return!1;var D=T(j,X);if(D<=G)return!1;var N=X+D;if(N===j.length||N+1<j.length&&x(j,N))return!0}return!1}function _(j,X,G,D,N){if(!j.samplerate){var z=w(X,G,D,N);j.config=z.config,j.samplerate=z.samplerate,j.channelCount=z.channelCount,j.codec=z.codec,j.manifestCodec=z.manifestCodec,c.logger.log("parsed codec:"+j.codec+",rate:"+z.samplerate+",nb channel:"+z.channelCount)}}function A(j){return 1024*9e4/j}function C(j,X,G,D,N){var z,W,$,M=j.length;if(z=E(j,X),W=T(j,X),W-=z,W>0&&X+z+W<=M)return $=G+D*N,{headerLength:z,frameLength:W,stamp:$}}function k(j,X,G,D,N){var z=A(j.samplerate),W=C(X,G,D,N,z);if(W){var $=W.stamp,M=W.headerLength,K=W.frameLength,q={unit:X.subarray(G+M,G+M+K),pts:$,dts:$};return j.samples.push(q),{sample:q,length:K+M}}}var P=a("./src/demux/id3.js"),I=function(){function j(G,D,N){this.observer=G,this.config=N,this.remuxer=D}var X=j.prototype;return X.resetInitSegment=function(D,N,z,W){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:N,duration:W,inputTimeScale:9e4}},X.resetTimeStamp=function(){},j.probe=function(D){if(!D)return!1;for(var N=P.default.getID3Data(D,0)||[],z=N.length,W=D.length;z<W;z++)if(L(D,z))return c.logger.log("ADTS sync word found !"),!0;return!1},X.append=function(D,N,z,W){for(var $=this._audioTrack,M=P.default.getID3Data(D,0)||[],K=P.default.getTimeStamp(M),q=Object(v.isFiniteNumber)(K)?K*90:N*9e4,Z=0,J=q,ie=D.length,re=M.length,le=[{pts:J,dts:J,data:M}];re<ie-1;)if(m(D,re)&&re+5<ie){_($,this.observer,D,re,$.manifestCodec);var te=k($,D,re,q,Z);if(te)re+=te.length,J=te.sample.pts,Z++;else{c.logger.log("Unable to parse AAC frame");break}}else P.default.isHeader(D,re)?(M=P.default.getID3Data(D,re),le.push({pts:J,dts:J,data:M}),re+=M.length):re++;this.remuxer.remux($,{samples:[]},{samples:le,inputTimeScale:9e4},{samples:[]},N,z,W)},X.destroy=function(){},j}(),F=I,H=a("./src/demux/mp4demuxer.js"),Q={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(X,G,D,N,z){if(!(D+24>G.length)){var W=this.parseHeader(G,D);if(W&&D+W.frameLength<=G.length){var $=W.samplesPerFrame*9e4/W.sampleRate,M=N+z*$,K={unit:G.subarray(D,D+W.frameLength),pts:M,dts:M};return X.config=[],X.channelCount=W.channelCount,X.samplerate=W.sampleRate,X.samples.push(K),{sample:K,length:W.frameLength}}}},parseHeader:function(X,G){var D=X[G+1]>>3&3,N=X[G+1]>>1&3,z=X[G+2]>>4&15,W=X[G+2]>>2&3,$=X[G+2]>>1&1;if(D!==1&&z!==0&&z!==15&&W!==3){var M=D===3?3-N:N===3?3:4,K=Q.BitratesMap[M*14+z-1]*1e3,q=D===3?0:D===2?1:2,Z=Q.SamplingRateMap[q*3+W],J=X[G+3]>>6===3?1:2,ie=Q.SamplesCoefficients[D][N],re=Q.BytesInSlot[N],le=ie*8*re,te=parseInt(ie*K/Z+$,10)*re;return{sampleRate:Z,channelCount:J,frameLength:te,samplesPerFrame:le}}},isHeaderPattern:function(X,G){return X[G]===255&&(X[G+1]&224)===224&&(X[G+1]&6)!==0},isHeader:function(X,G){return!!(G+1<X.length&&this.isHeaderPattern(X,G))},probe:function(X,G){if(G+1<X.length&&this.isHeaderPattern(X,G)){var D=4,N=this.parseHeader(X,G),z=D;N&&N.frameLength&&(z=N.frameLength);var W=G+z;if(W===X.length||W+1<X.length&&this.isHeaderPattern(X,W))return!0}return!1}},V=Q,ee=function(){function j(G){this.data=G,this.bytesAvailable=G.byteLength,this.word=0,this.bitsAvailable=0}var X=j.prototype;return X.loadWord=function(){var D=this.data,N=this.bytesAvailable,z=D.byteLength-N,W=new Uint8Array(4),$=Math.min(4,N);if($===0)throw new Error("no bytes available");W.set(D.subarray(z,z+$)),this.word=new DataView(W.buffer).getUint32(0),this.bitsAvailable=$*8,this.bytesAvailable-=$},X.skipBits=function(D){var N;this.bitsAvailable>D?(this.word<<=D,this.bitsAvailable-=D):(D-=this.bitsAvailable,N=D>>3,D-=N>>3,this.bytesAvailable-=N,this.loadWord(),this.word<<=D,this.bitsAvailable-=D)},X.readBits=function(D){var N=Math.min(this.bitsAvailable,D),z=this.word>>>32-N;return D>32&&c.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=N,this.bitsAvailable>0?this.word<<=N:this.bytesAvailable>0&&this.loadWord(),N=D-N,N>0&&this.bitsAvailable?z<<N|this.readBits(N):z},X.skipLZ=function(){var D;for(D=0;D<this.bitsAvailable;++D)if(this.word&2147483648>>>D)return this.word<<=D,this.bitsAvailable-=D,D;return this.loadWord(),D+this.skipLZ()},X.skipUEG=function(){this.skipBits(1+this.skipLZ())},X.skipEG=function(){this.skipBits(1+this.skipLZ())},X.readUEG=function(){var D=this.skipLZ();return this.readBits(D+1)-1},X.readEG=function(){var D=this.readUEG();return 1&D?1+D>>>1:-1*(D>>>1)},X.readBoolean=function(){return this.readBits(1)===1},X.readUByte=function(){return this.readBits(8)},X.readUShort=function(){return this.readBits(16)},X.readUInt=function(){return this.readBits(32)},X.skipScalingList=function(D){var N=8,z=8,W,$;for(W=0;W<D;W++)z!==0&&($=this.readEG(),z=(N+$+256)%256),N=z===0?N:z},X.readSPS=function(){var D=0,N=0,z=0,W=0,$,M,K,q,Z,J,ie,re=this.readUByte.bind(this),le=this.readBits.bind(this),te=this.readUEG.bind(this),Se=this.readBoolean.bind(this),ge=this.skipBits.bind(this),De=this.skipEG.bind(this),Fe=this.skipUEG.bind(this),Ie=this.skipScalingList.bind(this);if(re(),$=re(),le(5),ge(3),re(),Fe(),$===100||$===110||$===122||$===244||$===44||$===83||$===86||$===118||$===128){var Ve=te();if(Ve===3&&ge(1),Fe(),Fe(),ge(1),Se())for(J=Ve!==3?8:12,ie=0;ie<J;ie++)Se()&&(ie<6?Ie(16):Ie(64))}Fe();var Ge=te();if(Ge===0)te();else if(Ge===1)for(ge(1),De(),De(),M=te(),ie=0;ie<M;ie++)De();Fe(),ge(1),K=te(),q=te(),Z=le(1),Z===0&&ge(1),ge(1),Se()&&(D=te(),N=te(),z=te(),W=te());var je=[1,1];if(Se()&&Se()){var We=re();switch(We){case 1:je=[1,1];break;case 2:je=[12,11];break;case 3:je=[10,11];break;case 4:je=[16,11];break;case 5:je=[40,33];break;case 6:je=[24,11];break;case 7:je=[20,11];break;case 8:je=[32,11];break;case 9:je=[80,33];break;case 10:je=[18,11];break;case 11:je=[15,11];break;case 12:je=[64,33];break;case 13:je=[160,99];break;case 14:je=[4,3];break;case 15:je=[3,2];break;case 16:je=[2,1];break;case 255:{je=[re()<<8|re(),re()<<8|re()];break}}}return{width:Math.ceil((K+1)*16-D*2-N*2),height:(2-Z)*(q+1)*16-(Z?2:4)*(z+W),pixelRatio:je}},X.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},j}(),ce=ee,fe=function(){function j(G,D,N,z){this.decryptdata=N,this.discardEPB=z,this.decrypter=new f.default(G,D,{removePKCS7Padding:!1})}var X=j.prototype;return X.decryptBuffer=function(D,N){this.decrypter.decrypt(D,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,N)},X.decryptAacSample=function(D,N,z,W){var $=D[N].unit,M=$.subarray(16,$.length-$.length%16),K=M.buffer.slice(M.byteOffset,M.byteOffset+M.length),q=this;this.decryptBuffer(K,function(Z){Z=new Uint8Array(Z),$.set(Z,16),W||q.decryptAacSamples(D,N+1,z)})},X.decryptAacSamples=function(D,N,z){for(;;N++){if(N>=D.length){z();return}if(!(D[N].unit.length<32)){var W=this.decrypter.isSync();if(this.decryptAacSample(D,N,z,W),!W)return}}},X.getAvcEncryptedData=function(D){for(var N=Math.floor((D.length-48)/160)*16+16,z=new Int8Array(N),W=0,$=32;$<=D.length-16;$+=160,W+=16)z.set(D.subarray($,$+16),W);return z},X.getAvcDecryptedUnit=function(D,N){N=new Uint8Array(N);for(var z=0,W=32;W<=D.length-16;W+=160,z+=16)D.set(N.subarray(z,z+16),W);return D},X.decryptAvcSample=function(D,N,z,W,$,M){var K=this.discardEPB($.data),q=this.getAvcEncryptedData(K),Z=this;this.decryptBuffer(q.buffer,function(J){$.data=Z.getAvcDecryptedUnit(K,J),M||Z.decryptAvcSamples(D,N,z+1,W)})},X.decryptAvcSamples=function(D,N,z,W){for(;;N++,z=0){if(N>=D.length){W();return}for(var $=D[N].units;!(z>=$.length);z++){var M=$[z];if(!(M.data.length<=48||M.type!==1&&M.type!==5)){var K=this.decrypter.isSync();if(this.decryptAvcSample(D,N,z,W,M,K),!K)return}}}},j}(),he=fe,Ae={video:1,audio:2,id3:3,text:4},Te=function(){function j(G,D,N,z){this.observer=G,this.config=N,this.typeSupported=z,this.remuxer=D,this.sampleAes=null,this.pmtUnknownTypes={}}var X=j.prototype;return X.setDecryptData=function(D){D!=null&&D.key!=null&&D.method==="SAMPLE-AES"?this.sampleAes=new he(this.observer,this.config,D,this.discardEPB):this.sampleAes=null},j.probe=function(D){var N=j._syncOffset(D);return N<0?!1:(N&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+N+", junk ahead ?"),!0)},j._syncOffset=function(D){for(var N=Math.min(1e3,D.length-564),z=0;z<N;){if(D[z]===71&&D[z+188]===71&&D[z+2*188]===71)return z;z++}return-1},j.createTrack=function(D,N){return{container:D==="video"||D==="audio"?"video/mp2t":void 0,type:D,id:Ae[D],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:D==="video"?0:void 0,isAAC:D==="audio"?!0:void 0,duration:D==="audio"?N:void 0}},X.resetInitSegment=function(D,N,z,W){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=j.createTrack("video",W),this._audioTrack=j.createTrack("audio",W),this._id3Track=j.createTrack("id3",W),this._txtTrack=j.createTrack("text",W),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=N,this.videoCodec=z,this._duration=W},X.resetTimeStamp=function(){},X.append=function(D,N,z,W){var $,M=D.length,K,q,Z,J,ie,re=!1;this.pmtUnknownTypes={},this.contiguous=z;var le=this.pmtParsed,te=this._avcTrack,Se=this._audioTrack,ge=this._id3Track,De=te.pid,Fe=Se.pid,Ie=ge.pid,Ve=this._pmtId,Ge=te.pesData,je=Se.pesData,We=ge.pesData,Je=this._parsePAT,bt=this._parsePMT.bind(this),$e=this._parsePES,qe=this._parseAVCPES.bind(this),gt=this._parseAACPES.bind(this),mt=this._parseMPEGPES.bind(this),Ft=this._parseID3PES.bind(this),Tt=j._syncOffset(D);for(M-=(M+Tt)%188,$=Tt;$<M;$+=188)if(D[$]===71){if(K=!!(D[$+1]&64),q=((D[$+1]&31)<<8)+D[$+2],Z=(D[$+3]&48)>>4,Z>1){if(J=$+5+D[$+4],J===$+188)continue}else J=$+4;switch(q){case De:K&&(Ge&&(ie=$e(Ge))&&qe(ie,!1),Ge={data:[],size:0}),Ge&&(Ge.data.push(D.subarray(J,$+188)),Ge.size+=$+188-J);break;case Fe:K&&(je&&(ie=$e(je))&&(Se.isAAC?gt(ie):mt(ie)),je={data:[],size:0}),je&&(je.data.push(D.subarray(J,$+188)),je.size+=$+188-J);break;case Ie:K&&(We&&(ie=$e(We))&&Ft(ie),We={data:[],size:0}),We&&(We.data.push(D.subarray(J,$+188)),We.size+=$+188-J);break;case 0:K&&(J+=D[J]+1),Ve=this._pmtId=Je(D,J);break;case Ve:K&&(J+=D[J]+1);var ut=bt(D,J,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,this.sampleAes!=null);De=ut.avc,De>0&&(te.pid=De),Fe=ut.audio,Fe>0&&(Se.pid=Fe,Se.isAAC=ut.isAAC),Ie=ut.id3,Ie>0&&(ge.pid=Ie),re&&!le&&(c.logger.log("reparse from beginning"),re=!1,$=Tt-188),le=this.pmtParsed=!0;break;case 17:case 8191:break;default:re=!0;break}}else this.observer.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});Ge&&(ie=$e(Ge))?(qe(ie,!0),te.pesData=null):te.pesData=Ge,je&&(ie=$e(je))?(Se.isAAC?gt(ie):mt(ie),Se.pesData=null):(je&&je.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),Se.pesData=je),We&&(ie=$e(We))?(Ft(ie),ge.pesData=null):ge.pesData=We,this.sampleAes==null?this.remuxer.remux(Se,te,ge,this._txtTrack,N,z,W):this.decryptAndRemux(Se,te,ge,this._txtTrack,N,z,W)},X.decryptAndRemux=function(D,N,z,W,$,M,K){if(D.samples&&D.isAAC){var q=this;this.sampleAes.decryptAacSamples(D.samples,0,function(){q.decryptAndRemuxAvc(D,N,z,W,$,M,K)})}else this.decryptAndRemuxAvc(D,N,z,W,$,M,K)},X.decryptAndRemuxAvc=function(D,N,z,W,$,M,K){if(N.samples){var q=this;this.sampleAes.decryptAvcSamples(N.samples,0,0,function(){q.remuxer.remux(D,N,z,W,$,M,K)})}else this.remuxer.remux(D,N,z,W,$,M,K)},X.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},X._parsePAT=function(D,N){return(D[N+10]&31)<<8|D[N+11]},X._trackUnknownPmt=function(D,N,z){var W=this.pmtUnknownTypes[D]||0;return W===0&&(this.pmtUnknownTypes[D]=0,N.call(c.logger,z)),this.pmtUnknownTypes[D]++,W},X._parsePMT=function(D,N,z,W){var $,M,K,q,Z={audio:-1,avc:-1,id3:-1,isAAC:!0};for($=(D[N+1]&15)<<8|D[N+2],M=N+3+$-4,K=(D[N+10]&15)<<8|D[N+11],N+=12+K;N<M;){switch(q=(D[N+1]&31)<<8|D[N+2],D[N]){case 207:if(!W){this._trackUnknownPmt(D[N],c.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:Z.audio===-1&&(Z.audio=q);break;case 21:Z.id3===-1&&(Z.id3=q);break;case 219:if(!W){this._trackUnknownPmt(D[N],c.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:Z.avc===-1&&(Z.avc=q);break;case 3:case 4:z?Z.audio===-1&&(Z.audio=q,Z.isAAC=!1):this._trackUnknownPmt(D[N],c.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(D[N],c.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(D[N],c.logger.log,"Unknown stream type:"+D[N]);break}N+=((D[N+3]&15)<<8|D[N+4])+5}return Z},X._parsePES=function(D){var N=0,z,W,$,M,K,q,Z,J,ie,re=D.data;if(!D||D.size===0)return null;for(;re[0].length<19&&re.length>1;){var le=new Uint8Array(re[0].length+re[1].length);le.set(re[0]),le.set(re[1],re[0].length),re[0]=le,re.splice(1,1)}if(z=re[0],$=(z[0]<<16)+(z[1]<<8)+z[2],$===1){if(M=(z[4]<<8)+z[5],M&&M>D.size-6||(W=z[7],W&192&&(Z=(z[9]&14)*536870912+(z[10]&255)*4194304+(z[11]&254)*16384+(z[12]&255)*128+(z[13]&254)/2,W&64?(J=(z[14]&14)*536870912+(z[15]&255)*4194304+(z[16]&254)*16384+(z[17]&255)*128+(z[18]&254)/2,Z-J>60*9e4&&(c.logger.warn(Math.round((Z-J)/9e4)+"s delta between PTS and DTS, align them"),Z=J)):J=Z),K=z[8],ie=K+9,D.size<=ie))return null;D.size-=ie,q=new Uint8Array(D.size);for(var te=0,Se=re.length;te<Se;te++){z=re[te];var ge=z.byteLength;if(ie)if(ie>ge){ie-=ge;continue}else z=z.subarray(ie),ge-=ie,ie=0;q.set(z,N),N+=ge}return M&&(M-=K+3),{data:q,pts:Z,dts:J,len:M}}else return null},X.pushAccesUnit=function(D,N){if(D.units.length&&D.frame){var z=N.samples,W=z.length;if(isNaN(D.pts))if(W){var $=z[W-1];D.pts=$.pts,D.dts=$.dts}else{N.dropped++;return}!this.config.forceKeyFrameOnDiscontinuity||D.key===!0||N.sps&&(W||this.contiguous)?(D.id=W,z.push(D)):N.dropped++}D.debug.length&&c.logger.log(D.pts+"/"+D.dts+":"+D.debug)},X._parseAVCPES=function(D,N){var z=this,W=this._avcTrack,$=this._parseAVCNALu(D.data),M,K=this.avcSample,q,Z=!1,J,ie=this.pushAccesUnit.bind(this),re=function(te,Se,ge,De){return{key:te,pts:Se,dts:ge,units:[],debug:De}};D.data=null,K&&$.length&&!W.audFound&&(ie(K,W),K=this.avcSample=re(!1,D.pts,D.dts,"")),$.forEach(function(le){switch(le.type){case 1:q=!0,K||(K=z.avcSample=re(!0,D.pts,D.dts,"")),K.frame=!0;var te=le.data;if(Z&&te.length>4){var Se=new ce(te).readSliceType();(Se===2||Se===4||Se===7||Se===9)&&(K.key=!0)}break;case 5:q=!0,K||(K=z.avcSample=re(!0,D.pts,D.dts,"")),K.key=!0,K.frame=!0;break;case 6:q=!0,M=new ce(z.discardEPB(le.data)),M.readUByte();for(var ge=0,De=0,Fe=!1,Ie=0;!Fe&&M.bytesAvailable>1;){ge=0;do Ie=M.readUByte(),ge+=Ie;while(Ie===255);De=0;do Ie=M.readUByte(),De+=Ie;while(Ie===255);if(ge===4&&M.bytesAvailable!==0){Fe=!0;var Ve=M.readUByte();if(Ve===181){var Ge=M.readUShort();if(Ge===49){var je=M.readUInt();if(je===1195456820){var We=M.readUByte();if(We===3){var Je=M.readUByte(),bt=M.readUByte(),$e=31&Je,qe=[Je,bt];for(J=0;J<$e;J++)qe.push(M.readUByte()),qe.push(M.readUByte()),qe.push(M.readUByte());z._insertSampleInOrder(z._txtTrack.samples,{type:3,pts:D.pts,bytes:qe})}}}}}else if(ge===5&&M.bytesAvailable!==0){if(Fe=!0,De>16){var gt=[];for(J=0;J<16;J++)gt.push(M.readUByte().toString(16)),(J===3||J===5||J===7||J===9)&&gt.push("-");var mt=De-16,Ft=new Uint8Array(mt);for(J=0;J<mt;J++)Ft[J]=M.readUByte();z._insertSampleInOrder(z._txtTrack.samples,{pts:D.pts,payloadType:ge,uuid:gt.join(""),userDataBytes:Ft,userData:Object(P.utf8ArrayToStr)(Ft.buffer)})}}else if(De<M.bytesAvailable)for(J=0;J<De;J++)M.readUByte()}break;case 7:if(q=!0,Z=!0,!W.sps){M=new ce(le.data);var Tt=M.readSPS();W.width=Tt.width,W.height=Tt.height,W.pixelRatio=Tt.pixelRatio,W.sps=[le.data],W.duration=z._duration;var ut=le.data.subarray(1,4),Ct="avc1.";for(J=0;J<3;J++){var ar=ut[J].toString(16);ar.length<2&&(ar="0"+ar),Ct+=ar}W.codec=Ct}break;case 8:q=!0,W.pps||(W.pps=[le.data]);break;case 9:q=!1,W.audFound=!0,K&&ie(K,W),K=z.avcSample=re(!1,D.pts,D.dts,"");break;case 12:q=!1;break;default:q=!1,K&&(K.debug+="unknown NAL "+le.type+" ");break}if(K&&q){var Vt=K.units;Vt.push(le)}}),N&&K&&(ie(K,W),this.avcSample=null)},X._insertSampleInOrder=function(D,N){var z=D.length;if(z>0){if(N.pts>=D[z-1].pts)D.push(N);else for(var W=z-1;W>=0;W--)if(N.pts<D[W].pts){D.splice(W,0,N);break}}else D.push(N)},X._getLastNalUnit=function(){var D=this.avcSample,N;if(!D||D.units.length===0){var z=this._avcTrack,W=z.samples;D=W[W.length-1]}if(D){var $=D.units;N=$[$.length-1]}return N},X._parseAVCNALu=function(D){var N=0,z=D.byteLength,W,$,M=this._avcTrack,K=M.naluState||0,q=K,Z=[],J,ie,re=-1,le;for(K===-1&&(re=0,le=D[0]&31,K=0,N=1);N<z;){if(W=D[N++],!K){K=W?0:1;continue}if(K===1){K=W?0:2;continue}if(!W)K=3;else if(W===1){if(re>=0)J={data:D.subarray(re,N-K-1),type:le},Z.push(J);else{var te=this._getLastNalUnit();if(te&&(q&&N<=4-q&&te.state&&(te.data=te.data.subarray(0,te.data.byteLength-q)),$=N-K-1,$>0)){var Se=new Uint8Array(te.data.byteLength+$);Se.set(te.data,0),Se.set(D.subarray(0,$),te.data.byteLength),te.data=Se}}N<z?(ie=D[N]&31,re=N,le=ie,K=0):K=-1}else K=0}if(re>=0&&K>=0&&(J={data:D.subarray(re,z),type:le,state:K},Z.push(J)),Z.length===0){var ge=this._getLastNalUnit();if(ge){var De=new Uint8Array(ge.data.byteLength+D.byteLength);De.set(ge.data,0),De.set(D,ge.data.byteLength),ge.data=De}}return M.naluState=K,Z},X.discardEPB=function(D){for(var N=D.byteLength,z=[],W=1,$,M;W<N-2;)D[W]===0&&D[W+1]===0&&D[W+2]===3?(z.push(W+2),W+=2):W++;if(z.length===0)return D;$=N-z.length,M=new Uint8Array($);var K=0;for(W=0;W<$;K++,W++)K===z[0]&&(K++,z.shift()),M[W]=D[K];return M},X._parseAACPES=function(D){var N=this._audioTrack,z=D.data,W=D.pts,$=0,M=this.aacOverFlow,K=this.aacLastPTS,q,Z,J,ie,re;if(M){var le=new Uint8Array(M.byteLength+z.byteLength);le.set(M,0),le.set(z,M.byteLength),z=le}for(J=$,re=z.length;J<re-1&&!m(z,J);J++);if(J){var te,Se;if(J<re-1?(te="AAC PES did not start with ADTS header,offset:"+J,Se=!1):(te="no ADTS header found in AAC PES",Se=!0),c.logger.warn("parsing error:"+te),this.observer.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:Se,reason:te}),Se)return}if(_(N,this.observer,z,J,this.audioCodec),Z=0,q=A(N.samplerate),M&&K){var ge=K+q;Math.abs(ge-W)>1&&(c.logger.log("AAC: align PTS for overlapping frames by "+Math.round((ge-W)/90)),W=ge)}for(;J<re;)if(m(z,J)){if(J+5<re){var De=k(N,z,J,W,Z);if(De){J+=De.length,ie=De.sample.pts,Z++;continue}}break}else J++;J<re?M=z.subarray(J,re):M=null,this.aacOverFlow=M,this.aacLastPTS=ie},X._parseMPEGPES=function(D){for(var N=D.data,z=N.length,W=0,$=0,M=D.pts;$<z;)if(V.isHeader(N,$)){var K=V.appendFrame(this._audioTrack,N,$,M,W);if(K)$+=K.length,W++;else break}else $++},X._parseID3PES=function(D){this._id3Track.samples.push(D)},j}(),_e=Te,ae=function(){function j(G,D,N){this.observer=G,this.config=N,this.remuxer=D}var X=j.prototype;return X.resetInitSegment=function(D,N,z,W){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:N,duration:W,inputTimeScale:9e4}},X.resetTimeStamp=function(){},j.probe=function(D){var N,z,W=P.default.getID3Data(D,0);if(W&&P.default.getTimeStamp(W)!==void 0){for(N=W.length,z=Math.min(D.length-1,N+100);N<z;N++)if(V.probe(D,N))return c.logger.log("MPEG Audio sync word found !"),!0}return!1},X.append=function(D,N,z,W){for(var $=P.default.getID3Data(D,0)||[],M=P.default.getTimeStamp($),K=M!==void 0?90*M:N*9e4,q=$.length,Z=D.length,J=0,ie=0,re=this._audioTrack,le=[{pts:K,dts:K,data:$}];q<Z;)if(V.isHeader(D,q)){var te=V.appendFrame(re,D,q,K,J);if(te)q+=te.length,ie=te.sample.pts,J++;else break}else P.default.isHeader(D,q)?($=P.default.getID3Data(D,q),le.push({pts:ie,dts:ie,data:$}),q+=$.length):q++;this.remuxer.remux(re,{samples:[]},{samples:le,inputTimeScale:9e4},{samples:[]},N,z,W)},X.destroy=function(){},j}(),ue=ae,pe=function(){function j(){}return j.getSilentFrame=function(G,D){switch(G){case"mp4a.40.2":if(D===1)return new Uint8Array([0,200,0,128,35,128]);if(D===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(D===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(D===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(D===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(D===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(D===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(D===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(D===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}return null},j}(),Ee=pe,ye=Math.pow(2,32)-1,Ce=function(){function j(){}return j.init=function(){j.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var G;for(G in j.types)j.types.hasOwnProperty(G)&&(j.types[G]=[G.charCodeAt(0),G.charCodeAt(1),G.charCodeAt(2),G.charCodeAt(3)]);var D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),N=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);j.HDLR_TYPES={video:D,audio:N};var z=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),W=new Uint8Array([0,0,0,0,0,0,0,0]);j.STTS=j.STSC=j.STCO=W,j.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),j.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),j.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var $=new Uint8Array([105,115,111,109]),M=new Uint8Array([97,118,99,49]),K=new Uint8Array([0,0,0,1]);j.FTYP=j.box(j.types.ftyp,$,K,$,M),j.DINF=j.box(j.types.dinf,j.box(j.types.dref,z))},j.box=function(G){for(var D=Array.prototype.slice.call(arguments,1),N=8,z=D.length,W=z,$;z--;)N+=D[z].byteLength;for($=new Uint8Array(N),$[0]=N>>24&255,$[1]=N>>16&255,$[2]=N>>8&255,$[3]=N&255,$.set(G,4),z=0,N=8;z<W;z++)$.set(D[z],N),N+=D[z].byteLength;return $},j.hdlr=function(G){return j.box(j.types.hdlr,j.HDLR_TYPES[G])},j.mdat=function(G){return j.box(j.types.mdat,G)},j.mdhd=function(G,D){D*=G;var N=Math.floor(D/(ye+1)),z=Math.floor(D%(ye+1));return j.box(j.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,G>>24&255,G>>16&255,G>>8&255,G&255,N>>24,N>>16&255,N>>8&255,N&255,z>>24,z>>16&255,z>>8&255,z&255,85,196,0,0]))},j.mdia=function(G){return j.box(j.types.mdia,j.mdhd(G.timescale,G.duration),j.hdlr(G.type),j.minf(G))},j.mfhd=function(G){return j.box(j.types.mfhd,new Uint8Array([0,0,0,0,G>>24,G>>16&255,G>>8&255,G&255]))},j.minf=function(G){return G.type==="audio"?j.box(j.types.minf,j.box(j.types.smhd,j.SMHD),j.DINF,j.stbl(G)):j.box(j.types.minf,j.box(j.types.vmhd,j.VMHD),j.DINF,j.stbl(G))},j.moof=function(G,D,N){return j.box(j.types.moof,j.mfhd(G),j.traf(N,D))},j.moov=function(G){for(var D=G.length,N=[];D--;)N[D]=j.trak(G[D]);return j.box.apply(null,[j.types.moov,j.mvhd(G[0].timescale,G[0].duration)].concat(N).concat(j.mvex(G)))},j.mvex=function(G){for(var D=G.length,N=[];D--;)N[D]=j.trex(G[D]);return j.box.apply(null,[j.types.mvex].concat(N))},j.mvhd=function(G,D){D*=G;var N=Math.floor(D/(ye+1)),z=Math.floor(D%(ye+1)),W=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,G>>24&255,G>>16&255,G>>8&255,G&255,N>>24,N>>16&255,N>>8&255,N&255,z>>24,z>>16&255,z>>8&255,z&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return j.box(j.types.mvhd,W)},j.sdtp=function(G){var D=G.samples||[],N=new Uint8Array(4+D.length),z,W;for(W=0;W<D.length;W++)z=D[W].flags,N[W+4]=z.dependsOn<<4|z.isDependedOn<<2|z.hasRedundancy;return j.box(j.types.sdtp,N)},j.stbl=function(G){return j.box(j.types.stbl,j.stsd(G),j.box(j.types.stts,j.STTS),j.box(j.types.stsc,j.STSC),j.box(j.types.stsz,j.STSZ),j.box(j.types.stco,j.STCO))},j.avc1=function(G){var D=[],N=[],z,W,$;for(z=0;z<G.sps.length;z++)W=G.sps[z],$=W.byteLength,D.push($>>>8&255),D.push($&255),D=D.concat(Array.prototype.slice.call(W));for(z=0;z<G.pps.length;z++)W=G.pps[z],$=W.byteLength,N.push($>>>8&255),N.push($&255),N=N.concat(Array.prototype.slice.call(W));var M=j.box(j.types.avcC,new Uint8Array([1,D[3],D[4],D[5],255,224|G.sps.length].concat(D).concat([G.pps.length]).concat(N))),K=G.width,q=G.height,Z=G.pixelRatio[0],J=G.pixelRatio[1];return j.box(j.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,K>>8&255,K&255,q>>8&255,q&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),M,j.box(j.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),j.box(j.types.pasp,new Uint8Array([Z>>24,Z>>16&255,Z>>8&255,Z&255,J>>24,J>>16&255,J>>8&255,J&255])))},j.esds=function(G){var D=G.config.length;return new Uint8Array([0,0,0,0,3,23+D,0,1,0,4,15+D,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([D]).concat(G.config).concat([6,1,2]))},j.mp4a=function(G){var D=G.samplerate;return j.box(j.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,G.channelCount,0,16,0,0,0,0,D>>8&255,D&255,0,0]),j.box(j.types.esds,j.esds(G)))},j.mp3=function(G){var D=G.samplerate;return j.box(j.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,G.channelCount,0,16,0,0,0,0,D>>8&255,D&255,0,0]))},j.stsd=function(G){return G.type==="audio"?!G.isAAC&&G.codec==="mp3"?j.box(j.types.stsd,j.STSD,j.mp3(G)):j.box(j.types.stsd,j.STSD,j.mp4a(G)):j.box(j.types.stsd,j.STSD,j.avc1(G))},j.tkhd=function(G){var D=G.id,N=G.duration*G.timescale,z=G.width,W=G.height,$=Math.floor(N/(ye+1)),M=Math.floor(N%(ye+1));return j.box(j.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,D>>24&255,D>>16&255,D>>8&255,D&255,0,0,0,0,$>>24,$>>16&255,$>>8&255,$&255,M>>24,M>>16&255,M>>8&255,M&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,z>>8&255,z&255,0,0,W>>8&255,W&255,0,0]))},j.traf=function(G,D){var N=j.sdtp(G),z=G.id,W=Math.floor(D/(ye+1)),$=Math.floor(D%(ye+1));return j.box(j.types.traf,j.box(j.types.tfhd,new Uint8Array([0,0,0,0,z>>24,z>>16&255,z>>8&255,z&255])),j.box(j.types.tfdt,new Uint8Array([1,0,0,0,W>>24,W>>16&255,W>>8&255,W&255,$>>24,$>>16&255,$>>8&255,$&255])),j.trun(G,N.length+16+20+8+16+8+8),N)},j.trak=function(G){return G.duration=G.duration||4294967295,j.box(j.types.trak,j.tkhd(G),j.mdia(G))},j.trex=function(G){var D=G.id;return j.box(j.types.trex,new Uint8Array([0,0,0,0,D>>24,D>>16&255,D>>8&255,D&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},j.trun=function(G,D){var N=G.samples||[],z=N.length,W=12+16*z,$=new Uint8Array(W),M,K,q,Z,J,ie;for(D+=8+W,$.set([0,0,15,1,z>>>24&255,z>>>16&255,z>>>8&255,z&255,D>>>24&255,D>>>16&255,D>>>8&255,D&255],0),M=0;M<z;M++)K=N[M],q=K.duration,Z=K.size,J=K.flags,ie=K.cts,$.set([q>>>24&255,q>>>16&255,q>>>8&255,q&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,J.isLeading<<2|J.dependsOn,J.isDependedOn<<6|J.hasRedundancy<<4|J.paddingValue<<1|J.isNonSync,J.degradPrio&240<<8,J.degradPrio&15,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255],12+16*M);return j.box(j.types.trun,$)},j.initSegment=function(G){j.types||j.init();var D=j.moov(G),N;return N=new Uint8Array(j.FTYP.byteLength+D.byteLength),N.set(j.FTYP),N.set(D,j.FTYP.byteLength),N},j}(),we=Ce,Ue=9e4;function Be(j,X,G,D){G===void 0&&(G=1),D===void 0&&(D=!1);var N=j*X*G;return D?Math.round(N):N}function Le(j,X){return X===void 0&&(X=!1),Be(j,1e3,1/Ue,X)}function nt(j,X){return X===void 0&&(X=1),Be(j,Ue,1/X)}var ct=nt(10),rt=nt(.2),lt=null,Qe=function(){function j(G,D,N,z){if(this.observer=G,this.config=D,this.typeSupported=N,this.ISGenerated=!1,lt===null){var W=navigator.userAgent.match(/Chrome\/(\d+)/i);lt=W?parseInt(W[1]):0}}var X=j.prototype;return X.destroy=function(){},X.resetTimeStamp=function(D){this._initPTS=this._initDTS=D},X.resetInitSegment=function(){this.ISGenerated=!1},X.getVideoStartPts=function(D){var N=!1,z=D.reduce(function(W,$){var M=$.pts-W;return M<-4294967296?(N=!0,it(W,$.pts)):M>0?W:$.pts},D[0].pts);return N&&c.logger.debug("PTS rollover detected"),z},X.remux=function(D,N,z,W,$,M,K){if(this.ISGenerated||this.generateIS(D,N,$),this.ISGenerated){var q=D.samples.length,Z=N.samples.length,J=$,ie=$;if(q&&Z){var re=this.getVideoStartPts(N.samples),le=it(D.samples[0].pts,re)-re,te=le/N.inputTimeScale;J+=Math.max(0,te),ie+=Math.max(0,-te)}if(q){D.timescale||(c.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(D,N,$));var Se=this.remuxAudio(D,J,M,K);if(Z){var ge;Se&&(ge=Se.endPTS-Se.startPTS),N.timescale||(c.logger.warn("regenerate InitSegment as video detected"),this.generateIS(D,N,$)),this.remuxVideo(N,ie,M,ge)}}else if(Z){var De=this.remuxVideo(N,ie,M,0,K);De&&D.codec&&this.remuxEmptyAudio(D,J,M,De)}}z.samples.length&&this.remuxID3(z,$),W.samples.length&&this.remuxText(W,$),this.observer.trigger(o.default.FRAG_PARSED)},X.generateIS=function(D,N,z){var W=this.observer,$=D.samples,M=N.samples,K=this.typeSupported,q="audio/mp4",Z={},J={tracks:Z},ie=this._initPTS===void 0,re,le;if(ie&&(re=le=1/0),D.config&&$.length&&(D.timescale=D.samplerate,c.logger.log("audio sampling rate : "+D.samplerate),D.isAAC||(K.mpeg?(q="audio/mpeg",D.codec=""):K.mp3&&(D.codec="mp3")),Z.audio={container:q,codec:D.codec,initSegment:!D.isAAC&&K.mpeg?new Uint8Array:we.initSegment([D]),metadata:{channelCount:D.channelCount}},ie&&(re=le=$[0].pts-Math.round(D.inputTimeScale*z))),N.sps&&N.pps&&M.length){var te=N.inputTimeScale;if(N.timescale=te,Z.video={container:"video/mp4",codec:N.codec,initSegment:we.initSegment([N]),metadata:{width:N.width,height:N.height}},ie){var Se=this.getVideoStartPts(M),ge=Math.round(te*z);le=Math.min(le,it(M[0].dts,Se)-ge),re=Math.min(re,Se-ge),this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:re})}}else ie&&Z.audio&&this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:re});Object.keys(Z).length?(W.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,J),this.ISGenerated=!0,ie&&(this._initPTS=re,this._initDTS=le)):W.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},X.remuxVideo=function(D,N,z,W){var $=D.timescale,M=D.samples,K=[],q=M.length,Z=this._initPTS,J=8,ie,re,le,te,Se,ge=Number.POSITIVE_INFINITY,De=Number.NEGATIVE_INFINITY,Fe=0,Ie=!1,Ve=this.nextAvcDts;if(q!==0){if(!z){var Ge=N*$,je=M[0].pts-it(M[0].dts,M[0].pts);Ve=Ge-je}for(var We=0;We<q;We++){var Je=M[We];Je.pts=it(Je.pts-Z,Ve),Je.dts=it(Je.dts-Z,Ve),Je.dts>Je.pts&&(Fe=Math.max(Math.min(Fe,Je.pts-Je.dts),-1*rt)),Je.dts<M[We>0?We-1:We].dts&&(Ie=!0)}Ie&&M.sort(function(Li,Ra){var Cu=Li.dts-Ra.dts,Du=Li.pts-Ra.pts;return Cu||Du||Li.id-Ra.id}),te=M[0].dts,Se=M[q-1].dts;var bt=Math.round((Se-te)/(q-1));if(Fe<0){if(Fe<bt*-2){c.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Le(-bt,!0)+" ms");for(var $e=Fe,qe=0;qe<q;qe++)M[qe].dts=$e=Math.max($e,M[qe].pts-bt),M[qe].pts=Math.max($e,M[qe].pts)}else{c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Le(Fe,!0)+" ms to overcome this issue");for(var gt=0;gt<q;gt++)M[gt].dts=M[gt].dts+Fe}te=M[0].dts,Se=M[q-1].dts}if(z){var mt=te-Ve,Ft=mt>bt,Tt=mt<-1;if(Ft||Tt){Ft?c.logger.warn("AVC: "+Le(mt,!0)+" ms ("+mt+"dts) hole between fragments detected, filling it"):c.logger.warn("AVC: "+Le(-mt,!0)+" ms ("+mt+"dts) overlapping between fragments detected"),te=Ve;var ut=M[0].pts-mt;M[0].dts=te,M[0].pts=ut,c.logger.log("Video: First PTS/DTS adjusted: "+Le(ut,!0)+"/"+Le(te,!0)+", delta: "+Le(mt,!0)+" ms")}}lt&&lt<75&&(te=Math.max(0,te));for(var Ct=0,ar=0,Vt=0;Vt<q;Vt++){for(var Mt=M[Vt],_r=Mt.units,Ir=_r.length,Vr=0,ni=0;ni<Ir;ni++)Vr+=_r[ni].data.length;ar+=Vr,Ct+=Ir,Mt.length=Vr,Mt.dts=Math.max(Mt.dts,te),Mt.pts=Math.max(Mt.pts,Mt.dts,0),ge=Math.min(Mt.pts,ge),De=Math.max(Mt.pts,De)}Se=M[q-1].dts;var Wr=ar+4*Ct+8;try{re=new Uint8Array(Wr)}catch{this.observer.trigger(o.default.ERROR,{type:u.ErrorTypes.MUX_ERROR,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Wr,reason:"fail allocating video mdat "+Wr});return}var ii=new DataView(re.buffer);ii.setUint32(0,Wr),re.set(we.types.mdat,4);for(var oe=0;oe<q;oe++){for(var or=M[oe],Rn=or.units,ai=0,Fr=void 0,Aa=0,_u=Rn.length;Aa<_u;Aa++){var Yo=Rn[Aa],Xo=Yo.data,wa=Yo.data.byteLength;ii.setUint32(J,wa),J+=4,re.set(Xo,J),J+=wa,ai+=4+wa}if(oe<q-1)ie=M[oe+1].dts-or.dts;else{var Jo=this.config,oi=or.dts-M[oe>0?oe-1:oe].dts;if(Jo.stretchShortVideoTrack){var bu=Jo.maxBufferHole,Ta=Math.floor(bu*$),ki=(W?ge+W*$:this.nextAudioPts)-or.pts;ki>Ta?(ie=ki-oi,ie<0&&(ie=oi),c.logger.log("It is approximately "+Le(ki,!1)+" ms to the next segment; using duration "+Le(ie,!1)+" ms for the last video frame.")):ie=oi}else ie=oi}Fr=Math.round(or.pts-or.dts),K.push({size:ai,duration:ie,cts:Fr,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:or.key?2:1,isNonSync:or.key?0:1}})}this.nextAvcDts=Se+ie;var si=D.dropped;if(D.nbNalu=0,D.dropped=0,K.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Zo=K[0].flags;Zo.dependsOn=2,Zo.isNonSync=0}D.samples=K,le=we.moof(D.sequenceNumber++,te,D),D.samples=[];var es={data1:le,data2:re,startPTS:ge/$,endPTS:(De+ie)/$,startDTS:te/$,endDTS:this.nextAvcDts/$,type:"video",hasAudio:!1,hasVideo:!0,nb:K.length,dropped:si};return this.observer.trigger(o.default.FRAG_PARSING_DATA,es),es}},X.remuxAudio=function(D,N,z,W){var $=D.inputTimeScale,M=D.timescale,K=$/M,q=D.isAAC?1024:1152,Z=q*K,J=this._initPTS,ie=!D.isAAC&&this.typeSupported.mpeg,re,le,te,Se,ge,De,Fe=ie?0:8,Ie=D.samples,Ve=[],Ge=this.nextAudioPts;if(z|=Ie.length&&Ge&&(W&&Math.abs(N-Ge/$)<.1||Math.abs(Ie[0].pts-Ge-J)<20*Z),Ie.forEach(function(Fr){Fr.pts=Fr.dts=it(Fr.pts-J,N*$)}),Ie=Ie.filter(function(Fr){return Fr.pts>=0}),Ie.length!==0){if(z||(W?Ge=Math.max(0,N*$):Ge=Ie[0].pts),D.isAAC)for(var je=this.config.maxAudioFramesDrift,We=0,Je=Ge;We<Ie.length;){var bt=Ie[We],$e=bt.pts,qe=$e-Je;if(qe<=-je*Z)z||We>0?(c.logger.warn("Dropping 1 audio frame @ "+Le(Je,!0)/1e3+"s due to "+Le(qe,!0)+" ms overlap."),Ie.splice(We,1)):(c.logger.warn("Audio frame @ "+Le($e,!0)/1e3+"s overlaps nextAudioPts by "+Le(qe,!0)+" ms."),Je=$e+Z,We++);else if(qe>=je*Z&&qe<ct&&Je){var gt=Math.round(qe/Z);c.logger.warn("Injecting "+gt+" audio frames @ "+Le(Je,!0)/1e3+"s due to "+Le(qe,!0)+" ms gap.");for(var mt=0;mt<gt;mt++){var Ft=Math.max(Je,0);le=Ee.getSilentFrame(D.manifestCodec||D.codec,D.channelCount),le||(c.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),le=bt.unit.subarray()),Ie.splice(We,0,{unit:le,pts:Ft,dts:Ft}),Je+=Z,We++}bt.pts=bt.dts=Je,Je+=Z,We++}else bt.pts=bt.dts=Je,Je+=Z,We++}for(var Tt=Ie.length,ut=0;Tt--;)ut+=Ie[Tt].unit.byteLength;for(var Ct=0,ar=Ie.length;Ct<ar;Ct++){var Vt=Ie[Ct],Mt=Vt.unit,_r=Vt.pts;if(De!==void 0&&re)re.duration=Math.round((_r-De)/K);else{var Ir=_r-Ge,Vr=0;if(z&&D.isAAC&&Ir){if(Ir>0&&Ir<ct)Vr=Math.round((_r-Ge)/Z),c.logger.log(Le(Ir,!0)+" ms hole between AAC samples detected,filling it"),Vr>0&&(le=Ee.getSilentFrame(D.manifestCodec||D.codec,D.channelCount),le||(le=Mt.subarray()),ut+=Vr*le.length);else if(Ir<-12){c.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+Le(Ge,!0)+" ms / "+Le(_r,!0)+" ms / "+Le(-Ir,!0)+" ms"),ut-=Mt.byteLength;continue}_r=Ge}if(ge=_r,ut>0){ut+=Fe;try{te=new Uint8Array(ut)}catch{this.observer.trigger(o.default.ERROR,{type:u.ErrorTypes.MUX_ERROR,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:ut,reason:"fail allocating audio mdat "+ut});return}if(!ie){var ni=new DataView(te.buffer);ni.setUint32(0,ut),te.set(we.types.mdat,4)}}else return;for(var Wr=0;Wr<Vr;Wr++)le=Ee.getSilentFrame(D.manifestCodec||D.codec,D.channelCount),le||(c.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),le=Mt.subarray()),te.set(le,Fe),Fe+=le.byteLength,re={size:le.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},Ve.push(re)}te.set(Mt,Fe);var ii=Mt.byteLength;Fe+=ii,re={size:ii,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},Ve.push(re),De=_r}var oe=0;if(Tt=Ve.length,Tt>=2&&(oe=Ve[Tt-2].duration,re.duration=oe),Tt){this.nextAudioPts=Ge=De+K*oe,D.samples=Ve,ie?Se=new Uint8Array:Se=we.moof(D.sequenceNumber++,ge/K,D),D.samples=[];var or=ge/$,Rn=Ge/$,ai={data1:Se,data2:te,startPTS:or,endPTS:Rn,startDTS:or,endDTS:Rn,type:"audio",hasAudio:!0,hasVideo:!1,nb:Tt};return this.observer.trigger(o.default.FRAG_PARSING_DATA,ai),ai}return null}},X.remuxEmptyAudio=function(D,N,z,W){var $=D.inputTimeScale,M=D.samplerate?D.samplerate:$,K=$/M,q=this.nextAudioPts,Z=(q!==void 0?q:W.startDTS*$)+this._initDTS,J=W.endDTS*$+this._initDTS,ie=1024,re=K*ie,le=Math.ceil((J-Z)/re),te=Ee.getSilentFrame(D.manifestCodec||D.codec,D.channelCount);if(c.logger.warn("remux empty Audio"),!te){c.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");return}for(var Se=[],ge=0;ge<le;ge++){var De=Z+ge*re;Se.push({unit:te,pts:De,dts:De})}D.samples=Se,this.remuxAudio(D,N,z)},X.remuxID3=function(D,N){var z=D.samples.length;if(z){for(var W=D.inputTimeScale,$=this._initPTS,M=this._initDTS,K=0;K<z;K++){var q=D.samples[K];q.pts=it(q.pts-$,N*W)/W,q.dts=it(q.dts-M,N*W)/W}this.observer.trigger(o.default.FRAG_PARSING_METADATA,{samples:D.samples}),D.samples=[]}},X.remuxText=function(D,N){var z=D.samples.length,W=D.inputTimeScale,$=this._initPTS;if(z){for(var M=0;M<z;M++){var K=D.samples[M];K.pts=it(K.pts-$,N*W)/W}D.samples.sort(function(q,Z){return q.pts-Z.pts}),this.observer.trigger(o.default.FRAG_PARSING_USERDATA,{samples:D.samples})}D.samples=[]},j}();function it(j,X){var G;if(X===void 0)return j;for(X<j?G=-8589934592:G=8589934592;Math.abs(j-X)>4294967296;)j+=G;return j}var Yt=Qe,ft=function(){function j(G){this.observer=G}var X=j.prototype;return X.destroy=function(){},X.resetTimeStamp=function(){},X.resetInitSegment=function(){},X.remux=function(D,N,z,W,$,M,K,q){var Z=this.observer,J="";D&&(J+="audio"),N&&(J+="video"),Z.trigger(o.default.FRAG_PARSING_DATA,{data1:q,startPTS:$,startDTS:$,type:J,hasAudio:!!D,hasVideo:!!N,nb:1,dropped:0}),Z.trigger(o.default.FRAG_PARSED)},j}(),ir=ft,Pt=Object(p.getSelfScope)(),ht;try{ht=Pt.performance.now.bind(Pt.performance)}catch{c.logger.debug("Unable to use Performance API on this environment"),ht=Pt.Date.now}var Tn=function(){function j(G,D,N,z){this.observer=G,this.typeSupported=D,this.config=N,this.vendor=z}var X=j.prototype;return X.destroy=function(){var D=this.demuxer;D&&D.destroy()},X.push=function(D,N,z,W,$,M,K,q,Z,J,ie,re){var le=this;if(D.byteLength>0&&N!=null&&N.key!=null&&N.method==="AES-128"){var te=this.decrypter;te==null&&(te=this.decrypter=new f.default(this.observer,this.config));var Se=ht();te.decrypt(D,N.key.buffer,N.iv.buffer,function(ge){var De=ht();le.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:Se,tdecrypt:De}}),le.pushDecrypted(new Uint8Array(ge),N,new Uint8Array(z),W,$,M,K,q,Z,J,ie,re)})}else this.pushDecrypted(new Uint8Array(D),N,new Uint8Array(z),W,$,M,K,q,Z,J,ie,re)},X.pushDecrypted=function(D,N,z,W,$,M,K,q,Z,J,ie,re){var le=this.demuxer,te=this.remuxer;if(!le||K||q){for(var Se=this.observer,ge=this.typeSupported,De=this.config,Fe=[{demux:_e,remux:Yt},{demux:H.default,remux:ir},{demux:F,remux:Yt},{demux:ue,remux:Yt}],Ie,Ve=0,Ge=Fe.length;Ve<Ge&&(Ie=Fe[Ve],!Ie.demux.probe(D));Ve++);if(!Ie){Se.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});return}(!te||!(te instanceof Ie.remux))&&(te=new Ie.remux(Se,De,ge,this.vendor)),(!le||!(le instanceof Ie.demux))&&(le=new Ie.demux(Se,te,De,ge),this.probe=Ie.demux.probe),this.demuxer=le,this.remuxer=te}(K||q)&&(le.resetInitSegment(z,W,$,J),te.resetInitSegment()),K&&(le.resetTimeStamp(re),te.resetTimeStamp(re)),typeof le.setDecryptData=="function"&&le.setDecryptData(N),le.append(D,M,Z,ie)},j}();n.default=Tn},"./src/demux/demuxer-worker.js":function(r,n,a){a.r(n);var o=a("./src/demux/demuxer-inline.js"),u=a("./src/events.js"),f=a("./src/utils/logger.js"),v=a("./node_modules/eventemitter3/index.js"),c=function(w){var x=new v.EventEmitter;x.trigger=function(m){for(var L=arguments.length,_=new Array(L>1?L-1:0),A=1;A<L;A++)_[A-1]=arguments[A];x.emit.apply(x,[m,m].concat(_))},x.off=function(m){for(var L=arguments.length,_=new Array(L>1?L-1:0),A=1;A<L;A++)_[A-1]=arguments[A];x.removeListener.apply(x,[m].concat(_))};var E=function(m,L){w.postMessage({event:m,data:L})};w.addEventListener("message",function(T){var m=T.data;switch(m.cmd){case"init":var L=JSON.parse(m.config);w.demuxer=new o.default(x,m.typeSupported,L,m.vendor),Object(f.enableLogs)(L.debug),E("init",null);break;case"demux":w.demuxer.push(m.data,m.decryptdata,m.initSegment,m.audioCodec,m.videoCodec,m.timeOffset,m.discontinuity,m.trackSwitch,m.contiguous,m.duration,m.accurateTimeOffset,m.defaultInitPTS);break}}),x.on(u.default.FRAG_DECRYPTED,E),x.on(u.default.FRAG_PARSING_INIT_SEGMENT,E),x.on(u.default.FRAG_PARSED,E),x.on(u.default.ERROR,E),x.on(u.default.FRAG_PARSING_METADATA,E),x.on(u.default.FRAG_PARSING_USERDATA,E),x.on(u.default.INIT_PTS_FOUND,E),x.on(u.default.FRAG_PARSING_DATA,function(T,m){var L=[],_={event:T,data:m};m.data1&&(_.data1=m.data1.buffer,L.push(m.data1.buffer),delete m.data1),m.data2&&(_.data2=m.data2.buffer,L.push(m.data2.buffer),delete m.data2),w.postMessage(_,L)})};n.default=c},"./src/demux/id3.js":function(r,n,a){a.r(n),a.d(n,"utf8ArrayToStr",function(){return c});var o=a("./src/utils/get-self-scope.js"),u=function(){function p(){}return p.isHeader=function(x,E){return E+10<=x.length&&x[E]===73&&x[E+1]===68&&x[E+2]===51&&x[E+3]<255&&x[E+4]<255&&x[E+6]<128&&x[E+7]<128&&x[E+8]<128&&x[E+9]<128},p.isFooter=function(x,E){return E+10<=x.length&&x[E]===51&&x[E+1]===68&&x[E+2]===73&&x[E+3]<255&&x[E+4]<255&&x[E+6]<128&&x[E+7]<128&&x[E+8]<128&&x[E+9]<128},p.getID3Data=function(x,E){for(var T=E,m=0;p.isHeader(x,E);){m+=10;var L=p._readSize(x,E+6);m+=L,p.isFooter(x,E+10)&&(m+=10),E+=m}if(m>0)return x.subarray(T,T+m)},p._readSize=function(x,E){var T=0;return T=(x[E]&127)<<21,T|=(x[E+1]&127)<<14,T|=(x[E+2]&127)<<7,T|=x[E+3]&127,T},p.getTimeStamp=function(x){for(var E=p.getID3Frames(x),T=0;T<E.length;T++){var m=E[T];if(p.isTimeStampFrame(m))return p._readTimeStamp(m)}},p.isTimeStampFrame=function(x){return x&&x.key==="PRIV"&&x.info==="com.apple.streaming.transportStreamTimestamp"},p._getFrameData=function(x){var E=String.fromCharCode(x[0],x[1],x[2],x[3]),T=p._readSize(x,4),m=10;return{type:E,size:T,data:x.subarray(m,m+T)}},p.getID3Frames=function(x){for(var E=0,T=[];p.isHeader(x,E);){var m=p._readSize(x,E+6);E+=10;for(var L=E+m;E+8<L;){var _=p._getFrameData(x.subarray(E)),A=p._decodeFrame(_);A&&T.push(A),E+=_.size+10}p.isFooter(x,E)&&(E+=10)}return T},p._decodeFrame=function(x){return x.type==="PRIV"?p._decodePrivFrame(x):x.type[0]==="W"?p._decodeURLFrame(x):p._decodeTextFrame(x)},p._readTimeStamp=function(x){if(x.data.byteLength===8){var E=new Uint8Array(x.data),T=E[3]&1,m=(E[4]<<23)+(E[5]<<15)+(E[6]<<7)+E[7];return m/=45,T&&(m+=4772185884e-2),Math.round(m)}},p._decodePrivFrame=function(x){if(!(x.size<2)){var E=p._utf8ArrayToStr(x.data,!0),T=new Uint8Array(x.data.subarray(E.length+1));return{key:x.type,info:E,data:T.buffer}}},p._decodeTextFrame=function(x){if(!(x.size<2))if(x.type==="TXXX"){var E=1,T=p._utf8ArrayToStr(x.data.subarray(E),!0);E+=T.length+1;var m=p._utf8ArrayToStr(x.data.subarray(E));return{key:x.type,info:T,data:m}}else{var L=p._utf8ArrayToStr(x.data.subarray(1));return{key:x.type,data:L}}},p._decodeURLFrame=function(x){if(x.type==="WXXX"){if(x.size<2)return;var E=1,T=p._utf8ArrayToStr(x.data.subarray(E),!0);E+=T.length+1;var m=p._utf8ArrayToStr(x.data.subarray(E));return{key:x.type,info:T,data:m}}else{var L=p._utf8ArrayToStr(x.data);return{key:x.type,data:L}}},p._utf8ArrayToStr=function(x,E){E===void 0&&(E=!1);var T=v();if(T){var m=T.decode(x);if(E){var L=m.indexOf("\0");return L!==-1?m.substring(0,L):m}return m.replace(/\0/g,"")}for(var _=x.length,A,C,k,P="",I=0;I<_;){if(A=x[I++],A===0&&E)return P;if(A===0||A===3)continue;switch(A>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:P+=String.fromCharCode(A);break;case 12:case 13:C=x[I++],P+=String.fromCharCode((A&31)<<6|C&63);break;case 14:C=x[I++],k=x[I++],P+=String.fromCharCode((A&15)<<12|(C&63)<<6|(k&63)<<0);break}}return P},p}(),f;function v(){var p=Object(o.getSelfScope)();return!f&&typeof p.TextDecoder<"u"&&(f=new p.TextDecoder("utf-8")),f}var c=u._utf8ArrayToStr;n.default=u},"./src/demux/mp4demuxer.js":function(r,n,a){a.r(n);var o=a("./src/utils/logger.js"),u=a("./src/events.js"),f=Math.pow(2,32)-1,v=function(){function c(w,x){this.observer=w,this.remuxer=x}var p=c.prototype;return p.resetTimeStamp=function(x){this.initPTS=x},p.resetInitSegment=function(x,E,T,m){if(x&&x.byteLength){var L=this.initData=c.parseInitSegment(x);E==null&&(E="mp4a.40.5"),T==null&&(T="avc1.42e01e");var _={};L.audio&&L.video?_.audiovideo={container:"video/mp4",codec:E+","+T,initSegment:m?x:null}:(L.audio&&(_.audio={container:"audio/mp4",codec:E,initSegment:m?x:null}),L.video&&(_.video={container:"video/mp4",codec:T,initSegment:m?x:null})),this.observer.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,{tracks:_})}else E&&(this.audioCodec=E),T&&(this.videoCodec=T)},c.probe=function(x){return c.findBox({data:x,start:0,end:Math.min(x.length,16384)},["moof"]).length>0},c.bin2str=function(x){return String.fromCharCode.apply(null,x)},c.readUint16=function(x,E){x.data&&(E+=x.start,x=x.data);var T=x[E]<<8|x[E+1];return T<0?65536+T:T},c.readUint32=function(x,E){x.data&&(E+=x.start,x=x.data);var T=x[E]<<24|x[E+1]<<16|x[E+2]<<8|x[E+3];return T<0?4294967296+T:T},c.writeUint32=function(x,E,T){x.data&&(E+=x.start,x=x.data),x[E]=T>>24,x[E+1]=T>>16&255,x[E+2]=T>>8&255,x[E+3]=T&255},c.findBox=function(x,E){var T=[],m,L,_,A,C,k,P;if(x.data?(k=x.start,A=x.end,x=x.data):(k=0,A=x.byteLength),!E.length)return null;for(m=k;m<A;)L=c.readUint32(x,m),_=c.bin2str(x.subarray(m+4,m+8)),P=L>1?m+L:A,_===E[0]&&(E.length===1?T.push({data:x,start:m+8,end:P}):(C=c.findBox({data:x,start:m+8,end:P},E.slice(1)),C.length&&(T=T.concat(C)))),m=P;return T},c.parseSegmentIndex=function(x){var E=c.findBox(x,["moov"])[0],T=E?E.end:null,m=0,L=c.findBox(x,["sidx"]),_;if(!L||!L[0])return null;_=[],L=L[0];var A=L.data[0];m=A===0?8:16;var C=c.readUint32(L,m);m+=4;var k=0,P=0;A===0?m+=8:m+=16,m+=2;var I=L.end+P,F=c.readUint16(L,m);m+=2;for(var H=0;H<F;H++){var Q=m,V=c.readUint32(L,Q);Q+=4;var ee=V&2147483647,ce=(V&2147483648)>>>31;if(ce===1){console.warn("SIDX has hierarchical references (not supported)");return}var fe=c.readUint32(L,Q);Q+=4,_.push({referenceSize:ee,subsegmentDuration:fe,info:{duration:fe/C,start:I,end:I+ee-1}}),I+=ee,Q+=4,m=Q}return{earliestPresentationTime:k,timescale:C,version:A,referencesCount:F,references:_,moovEndOffset:T}},c.parseInitSegment=function(x){var E=[],T=c.findBox(x,["moov","trak"]);return T.forEach(function(m){var L=c.findBox(m,["tkhd"])[0];if(L){var _=L.data[L.start],A=_===0?12:20,C=c.readUint32(L,A),k=c.findBox(m,["mdia","mdhd"])[0];if(k){_=k.data[k.start],A=_===0?12:20;var P=c.readUint32(k,A),I=c.findBox(m,["mdia","hdlr"])[0];if(I){var F=c.bin2str(I.data.subarray(I.start+8,I.start+12)),H={soun:"audio",vide:"video"}[F];if(H){var Q=c.findBox(m,["mdia","minf","stbl","stsd"]);if(Q.length){Q=Q[0];var V=c.bin2str(Q.data.subarray(Q.start+12,Q.start+16));o.logger.log("MP4Demuxer:"+H+":"+V+" found")}E[C]={timescale:P,type:H},E[H]={timescale:P,id:C}}}}}}),E},c.getStartDTS=function(x,E){var T,m,L;return T=c.findBox(E,["moof","traf"]),m=[].concat.apply([],T.map(function(_){return c.findBox(_,["tfhd"]).map(function(A){var C,k,P;return C=c.readUint32(A,4),k=x[C].timescale||9e4,P=c.findBox(_,["tfdt"]).map(function(I){var F,H;return F=I.data[I.start],H=c.readUint32(I,4),F===1&&(H*=Math.pow(2,32),H+=c.readUint32(I,8)),H})[0],P/k})})),L=Math.min.apply(null,m),isFinite(L)?L:0},c.offsetStartDTS=function(x,E,T){c.findBox(E,["moof","traf"]).map(function(m){return c.findBox(m,["tfhd"]).map(function(L){var _=c.readUint32(L,4),A=x[_].timescale||9e4;c.findBox(m,["tfdt"]).map(function(C){var k=C.data[C.start],P=c.readUint32(C,4);if(k===0)c.writeUint32(C,4,P-T*A);else{P*=Math.pow(2,32),P+=c.readUint32(C,8),P-=T*A,P=Math.max(P,0);var I=Math.floor(P/(f+1)),F=Math.floor(P%(f+1));c.writeUint32(C,4,I),c.writeUint32(C,8,F)}})})})},p.append=function(x,E,T,m){var L=this.initData;L||(this.resetInitSegment(x,this.audioCodec,this.videoCodec,!1),L=this.initData);var _,A=this.initPTS;if(A===void 0){var C=c.getStartDTS(L,x);this.initPTS=A=C-E,this.observer.trigger(u.default.INIT_PTS_FOUND,{initPTS:A})}c.offsetStartDTS(L,x,A),_=c.getStartDTS(L,x),this.remuxer.remux(L.audio,L.video,null,null,_,T,m,x)},p.destroy=function(){},c}();n.default=v},"./src/errors.ts":function(r,n,a){a.r(n),a.d(n,"ErrorTypes",function(){return o}),a.d(n,"ErrorDetails",function(){return u});var o;(function(f){f.NETWORK_ERROR="networkError",f.MEDIA_ERROR="mediaError",f.KEY_SYSTEM_ERROR="keySystemError",f.MUX_ERROR="muxError",f.OTHER_ERROR="otherError"})(o||(o={}));var u;(function(f){f.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",f.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",f.KEY_SYSTEM_NO_SESSION="keySystemNoSession",f.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",f.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",f.MANIFEST_LOAD_ERROR="manifestLoadError",f.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",f.MANIFEST_PARSING_ERROR="manifestParsingError",f.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",f.LEVEL_EMPTY_ERROR="levelEmptyError",f.LEVEL_LOAD_ERROR="levelLoadError",f.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",f.LEVEL_SWITCH_ERROR="levelSwitchError",f.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",f.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",f.FRAG_LOAD_ERROR="fragLoadError",f.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",f.FRAG_DECRYPT_ERROR="fragDecryptError",f.FRAG_PARSING_ERROR="fragParsingError",f.REMUX_ALLOC_ERROR="remuxAllocError",f.KEY_LOAD_ERROR="keyLoadError",f.KEY_LOAD_TIMEOUT="keyLoadTimeOut",f.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",f.BUFFER_APPEND_ERROR="bufferAppendError",f.BUFFER_APPENDING_ERROR="bufferAppendingError",f.BUFFER_STALLED_ERROR="bufferStalledError",f.BUFFER_FULL_ERROR="bufferFullError",f.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",f.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",f.INTERNAL_EXCEPTION="internalException"})(u||(u={}))},"./src/events.js":function(r,n,a){a.r(n);var o={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"};n.default=o},"./src/hls.ts":function(r,n,a){a.r(n),a.d(n,"default",function(){return Uh});var o={};a.r(o),a.d(o,"newCue",function(){return Ex});var u=a("./node_modules/url-toolkit/src/url-toolkit.js"),f=a("./src/errors.ts"),v=a("./src/polyfills/number.js"),c=a("./src/events.js"),p=a("./src/utils/logger.js"),w={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},x=function(){function S(d){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=d,this.onEvent=this.onEvent.bind(this);for(var l=arguments.length,i=new Array(l>1?l-1:0),s=1;s<l;s++)i[s-1]=arguments[s];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}var g=S.prototype;return g.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},g.onHandlerDestroying=function(){},g.onHandlerDestroyed=function(){},g.isEventHandler=function(){return typeof this.handledEvents=="object"&&this.handledEvents.length&&typeof this.onEvent=="function"},g.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(l){if(w[l])throw new Error("Forbidden event-name: "+l);this.hls.on(l,this.onEvent)},this)},g.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(l){this.hls.off(l,this.onEvent)},this)},g.onEvent=function(l,i){this.onEventGeneric(l,i)},g.onEventGeneric=function(l,i){var s=function(y,R){var b="on"+y.replace("hls","");if(typeof this[b]!="function")throw new Error("Event "+y+" has no generic handler in this "+this.constructor.name+" class (tried "+b+")");return this[b].bind(this,R)};try{s.call(this,l,i).call()}catch(h){p.logger.error("An internal error happened while handling event "+l+'. Error message: "'+h.message+'". Here is a stacktrace:',h),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:l,err:h})}},S}(),E=x,T;(function(S){S.MANIFEST="manifest",S.LEVEL="level",S.AUDIO_TRACK="audioTrack",S.SUBTITLE_TRACK="subtitleTrack"})(T||(T={}));var m;(function(S){S.MAIN="main",S.AUDIO="audio",S.SUBTITLE="subtitle"})(m||(m={}));var L=a("./src/demux/mp4demuxer.js");function _(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function A(S,g,d){return g&&_(S.prototype,g),d&&_(S,d),S}var C=function(){function S(g,d){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=g,this.reluri=d}return A(S,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(u.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),S}();function k(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function P(S,g,d){return g&&k(S.prototype,g),d&&k(S,d),S}var I;(function(S){S.AUDIO="audio",S.VIDEO="video"})(I||(I={}));var F=function(){function S(){var d;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=(d={},d[I.AUDIO]=!1,d[I.VIDEO]=!1,d),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var g=S.prototype;return g.setByteRange=function(l,i){var s=l.split("@",2),h=[];s.length===1?h[0]=i?i.byteRangeEndOffset:0:h[0]=parseInt(s[1]),h[1]=parseInt(s[0])+h[0],this._byteRange=h},g.addElementaryStream=function(l){this._elementaryStreams[l]=!0},g.hasElementaryStream=function(l){return this._elementaryStreams[l]===!0},g.createInitializationVector=function(l){for(var i=new Uint8Array(16),s=12;s<16;s++)i[s]=l>>8*(15-s)&255;return i},g.setDecryptDataFromLevelKey=function(l,i){var s=l;return l!=null&&l.method&&l.uri&&!l.iv&&(s=new C(l.baseuri,l.reluri),s.method=l.method,s.iv=this.createInitializationVector(i)),s},P(S,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(u.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(l){this._url=l}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var l=this.sn;typeof l!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&p.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),l=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,l)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(v.isFiniteNumber)(this.programDateTime))return null;var l=Object(v.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+l*1e3}},{key:"encrypted",get:function(){return!!(this.decryptdata&&this.decryptdata.uri!==null&&this.decryptdata.key===null)}}]),S}();function H(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Q(S,g,d){return g&&H(S.prototype,g),d&&H(S,d),S}var V=function(){function S(g){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=g,this.version=null}return Q(S,[{key:"hasProgramDateTime",get:function(){return!!(this.fragments[0]&&Object(v.isFiniteNumber)(this.fragments[0].programDateTime))}}]),S}(),ee=/^(\d+)x(\d+)$/,ce=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,fe=function(){function S(d){typeof d=="string"&&(d=S.parseAttrList(d));for(var l in d)d.hasOwnProperty(l)&&(this[l]=d[l])}var g=S.prototype;return g.decimalInteger=function(l){var i=parseInt(this[l],10);return i>Number.MAX_SAFE_INTEGER?1/0:i},g.hexadecimalInteger=function(l){if(this[l]){var i=(this[l]||"0x").slice(2);i=(i.length&1?"0":"")+i;for(var s=new Uint8Array(i.length/2),h=0;h<i.length/2;h++)s[h]=parseInt(i.slice(h*2,h*2+2),16);return s}else return null},g.hexadecimalIntegerAsNumber=function(l){var i=parseInt(this[l],16);return i>Number.MAX_SAFE_INTEGER?1/0:i},g.decimalFloatingPoint=function(l){return parseFloat(this[l])},g.enumeratedString=function(l){return this[l]},g.decimalResolution=function(l){var i=ee.exec(this[l]);if(i!==null)return{width:parseInt(i[1],10),height:parseInt(i[2],10)}},S.parseAttrList=function(l){var i,s={};for(ce.lastIndex=0;(i=ce.exec(l))!==null;){var h=i[2],y='"';h.indexOf(y)===0&&h.lastIndexOf(y)===h.length-1&&(h=h.slice(1,-1)),s[i[1]]=h}return s},S}(),he=fe,Ae={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function Te(S,g){var d=Ae[g];return!!d&&d[S.slice(0,4)]===!0}function _e(S,g){return MediaSource.isTypeSupported((g||"video")+'/mp4;codecs="'+S+'"')}var ae=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,ue=/#EXT-X-MEDIA:(.*)/g,pe=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Ee=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,ye=/\.(mp4|m4s|m4v|m4a)$/i,Ce=function(){function S(){}return S.findGroup=function(d,l){for(var i=0;i<d.length;i++){var s=d[i];if(s.id===l)return s}},S.convertAVC1ToAVCOTI=function(d){var l=d.split("."),i;return l.length>2?(i=l.shift()+".",i+=parseInt(l.shift()).toString(16),i+=("000"+parseInt(l.shift()).toString(16)).substr(-4)):i=d,i},S.resolve=function(d,l){return u.buildAbsoluteURL(l,d,{alwaysNormalize:!0})},S.parseMasterPlaylist=function(d,l){var i=[],s={},h=!1;ae.lastIndex=0;function y(Y,ne){["video","audio"].forEach(function(ve){var xe=Y.filter(function(Re){return Te(Re,ve)});if(xe.length){var ke=xe.filter(function(Re){return Re.lastIndexOf("avc1",0)===0||Re.lastIndexOf("mp4a",0)===0});ne[ve+"Codec"]=ke.length>0?ke[0]:xe[0],Y=Y.filter(function(Re){return xe.indexOf(Re)===-1})}}),ne.unknownCodecs=Y}for(var R;(R=ae.exec(d))!=null;)if(R[1]){var b={},O=b.attrs=new he(R[1]);b.url=S.resolve(R[2],l);var B=O.decimalResolution("RESOLUTION");B&&(b.width=B.width,b.height=B.height),b.bitrate=O.decimalInteger("AVERAGE-BANDWIDTH")||O.decimalInteger("BANDWIDTH"),b.name=O.NAME,y([].concat((O.CODECS||"").split(/[ ,]+/)),b),b.videoCodec&&b.videoCodec.indexOf("avc1")!==-1&&(b.videoCodec=S.convertAVC1ToAVCOTI(b.videoCodec)),i.push(b)}else if(R[3]){var U=new he(R[3]);U["DATA-ID"]&&(h=!0,s[U["DATA-ID"]]=U)}return{levels:i,sessionData:h?s:null}},S.parseMasterPlaylistMedia=function(d,l,i,s){s===void 0&&(s=[]);var h,y=[],R=0;for(ue.lastIndex=0;(h=ue.exec(d))!==null;){var b=new he(h[1]);if(b.TYPE===i){var O={attrs:b,id:R++,groupId:b["GROUP-ID"],instreamId:b["INSTREAM-ID"],name:b.NAME||b.LANGUAGE,type:i,default:b.DEFAULT==="YES",autoselect:b.AUTOSELECT==="YES",forced:b.FORCED==="YES",lang:b.LANGUAGE};if(b.URI&&(O.url=S.resolve(b.URI,l)),s.length){var B=S.findGroup(s,O.groupId);O.audioCodec=B?B.codec:s[0].codec}y.push(O)}}return y},S.parseLevelPlaylist=function(d,l,i,s,h){var y=0,R=0,b=new V(l),O=0,B=null,U=new F,Y,ne,ve,xe=null;for(pe.lastIndex=0;(Y=pe.exec(d))!==null;){var ke=Y[1];if(ke){U.duration=parseFloat(ke);var Re=(" "+Y[2]).slice(1);U.title=Re||null,U.tagList.push(Re?["INF",ke,Re]:["INF",ke])}else if(Y[3]){if(Object(v.isFiniteNumber)(U.duration)){var Me=y++;U.type=s,U.start=R,ve&&(U.levelkey=ve),U.sn=Me,U.level=i,U.cc=O,U.urlId=h,U.baseurl=l,U.relurl=(" "+Y[3]).slice(1),Ue(U,B),b.fragments.push(U),B=U,R+=U.duration,U=new F}}else if(Y[4]){var Ne=(" "+Y[4]).slice(1);B?U.setByteRange(Ne,B):U.setByteRange(Ne)}else if(Y[5])U.rawProgramDateTime=(" "+Y[5]).slice(1),U.tagList.push(["PROGRAM-DATE-TIME",U.rawProgramDateTime]),xe===null&&(xe=b.fragments.length);else{if(Y=Y[0].match(Ee),!Y){p.logger.warn("No matches on slow regex match for level playlist!");continue}for(ne=1;ne<Y.length&&!(typeof Y[ne]<"u");ne++);var Ye=(" "+Y[ne+1]).slice(1),Rt=(" "+Y[ne+2]).slice(1);switch(Y[ne]){case"#":U.tagList.push(Rt?[Ye,Rt]:[Ye]);break;case"PLAYLIST-TYPE":b.type=Ye.toUpperCase();break;case"MEDIA-SEQUENCE":y=b.startSN=parseInt(Ye);break;case"TARGETDURATION":b.targetduration=parseFloat(Ye);break;case"VERSION":b.version=parseInt(Ye);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"DIS":O++,U.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":O=parseInt(Ye);break;case"KEY":{var mr=Ye,Wt=new he(mr),an=Wt.enumeratedString("METHOD"),Pe=Wt.URI,Ke=Wt.hexadecimalInteger("IV"),Ot=Wt.KEYFORMAT||"identity";if(Ot==="com.apple.streamingkeydelivery"){p.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}an&&(ve=new C(l,Pe),Pe&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(an)>=0&&(ve.method=an,ve.key=null,ve.iv=Ke));break}case"START":{var Ii=new he(Ye),Fi=Ii.decimalFloatingPoint("TIME-OFFSET");Object(v.isFiniteNumber)(Fi)&&(b.startTimeOffset=Fi);break}case"MAP":{var ba=new he(Ye);U.relurl=ba.URI,ba.BYTERANGE&&U.setByteRange(ba.BYTERANGE),U.baseurl=l,U.level=i,U.type=s,U.sn="initSegment",b.initSegment=U,U=new F,U.rawProgramDateTime=b.initSegment.rawProgramDateTime;break}default:p.logger.warn("line parsed but not handled: "+Y);break}}}return U=B,U&&!U.relurl&&(b.fragments.pop(),R-=U.duration),b.totalduration=R,b.averagetargetduration=R/b.fragments.length,b.endSN=y-1,b.startCC=b.fragments[0]?b.fragments[0].cc:0,b.endCC=O,!b.initSegment&&b.fragments.length&&b.fragments.every(function(is){return ye.test(is.relurl)})&&(p.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),U=new F,U.relurl=b.fragments[0].relurl,U.baseurl=l,U.level=i,U.type=s,U.sn="initSegment",b.initSegment=U,b.needSidxRanges=!0),xe&&we(b.fragments,xe),b},S}();function we(S,g){for(var d=S[g],l=g-1;l>=0;l--){var i=S[l];i.programDateTime=d.programDateTime-i.duration*1e3,d=i}}function Ue(S,g){S.rawProgramDateTime?S.programDateTime=Date.parse(S.rawProgramDateTime):g!=null&&g.programDateTime&&(S.programDateTime=g.endProgramDateTime),Object(v.isFiniteNumber)(S.programDateTime)||(S.programDateTime=null,S.rawProgramDateTime=null)}function Be(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Le=window,nt=Le.performance,ct=function(S){Be(g,S);function g(l){var i;return i=S.call(this,l,c.default.MANIFEST_LOADING,c.default.LEVEL_LOADING,c.default.AUDIO_TRACK_LOADING,c.default.SUBTITLE_TRACK_LOADING)||this,i.loaders={},i}g.canHaveQualityLevels=function(i){return i!==T.AUDIO_TRACK&&i!==T.SUBTITLE_TRACK},g.mapContextToLevelType=function(i){var s=i.type;switch(s){case T.AUDIO_TRACK:return m.AUDIO;case T.SUBTITLE_TRACK:return m.SUBTITLE;default:return m.MAIN}},g.getResponseUrl=function(i,s){var h=i.url;return(h===void 0||h.indexOf("data:")===0)&&(h=s.url),h};var d=g.prototype;return d.createInternalLoader=function(i){var s=this.hls.config,h=s.pLoader,y=s.loader,R=h||y,b=new R(s);return i.loader=b,this.loaders[i.type]=b,b},d.getInternalLoader=function(i){return this.loaders[i.type]},d.resetInternalLoader=function(i){this.loaders[i]&&delete this.loaders[i]},d.destroyInternalLoaders=function(){for(var i in this.loaders){var s=this.loaders[i];s&&s.destroy(),this.resetInternalLoader(i)}},d.destroy=function(){this.destroyInternalLoaders(),S.prototype.destroy.call(this)},d.onManifestLoading=function(i){this.load({url:i.url,type:T.MANIFEST,level:0,id:null,responseType:"text"})},d.onLevelLoading=function(i){this.load({url:i.url,type:T.LEVEL,level:i.level,id:i.id,responseType:"text"})},d.onAudioTrackLoading=function(i){this.load({url:i.url,type:T.AUDIO_TRACK,level:null,id:i.id,responseType:"text"})},d.onSubtitleTrackLoading=function(i){this.load({url:i.url,type:T.SUBTITLE_TRACK,level:null,id:i.id,responseType:"text"})},d.load=function(i){var s=this.hls.config;p.logger.debug("Loading playlist of type "+i.type+", level: "+i.level+", id: "+i.id);var h=this.getInternalLoader(i);if(h){var y=h.context;if(y&&y.url===i.url)return p.logger.trace("playlist request ongoing"),!1;p.logger.warn("aborting previous loader for type: "+i.type),h.abort()}var R,b,O,B;switch(i.type){case T.MANIFEST:R=s.manifestLoadingMaxRetry,b=s.manifestLoadingTimeOut,O=s.manifestLoadingRetryDelay,B=s.manifestLoadingMaxRetryTimeout;break;case T.LEVEL:R=0,B=0,O=0,b=s.levelLoadingTimeOut;break;default:R=s.levelLoadingMaxRetry,b=s.levelLoadingTimeOut,O=s.levelLoadingRetryDelay,B=s.levelLoadingMaxRetryTimeout;break}h=this.createInternalLoader(i);var U={timeout:b,maxRetry:R,retryDelay:O,maxRetryDelay:B},Y={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return p.logger.debug("Calling internal loader delegate for URL: "+i.url),h.load(i,U,Y),!0},d.loadsuccess=function(i,s,h,y){if(y===void 0&&(y=null),h.isSidxRequest){this._handleSidxRequest(i,h),this._handlePlaylistLoaded(i,s,h,y);return}if(this.resetInternalLoader(h.type),typeof i.data!="string")throw new Error('expected responseType of "text" for PlaylistLoader');var R=i.data;if(s.tload=nt.now(),R.indexOf("#EXTM3U")!==0){this._handleManifestParsingError(i,h,"no EXTM3U delimiter",y);return}R.indexOf("#EXTINF:")>0||R.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(i,s,h,y):this._handleMasterPlaylist(i,s,h,y)},d.loaderror=function(i,s,h){h===void 0&&(h=null),this._handleNetworkError(s,h,!1,i)},d.loadtimeout=function(i,s,h){h===void 0&&(h=null),this._handleNetworkError(s,h,!0)},d._handleMasterPlaylist=function(i,s,h,y){var R=this.hls,b=i.data,O=g.getResponseUrl(i,h),B=Ce.parseMasterPlaylist(b,O),U=B.levels,Y=B.sessionData;if(!U.length){this._handleManifestParsingError(i,h,"no level found in manifest",y);return}var ne=U.map(function(Me){return{id:Me.attrs.AUDIO,codec:Me.audioCodec}}),ve=Ce.parseMasterPlaylistMedia(b,O,"AUDIO",ne),xe=Ce.parseMasterPlaylistMedia(b,O,"SUBTITLES"),ke=Ce.parseMasterPlaylistMedia(b,O,"CLOSED-CAPTIONS");if(ve.length){var Re=!1;ve.forEach(function(Me){Me.url||(Re=!0)}),Re===!1&&U[0].audioCodec&&!U[0].attrs.AUDIO&&(p.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),ve.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}R.trigger(c.default.MANIFEST_LOADED,{levels:U,audioTracks:ve,subtitles:xe,captions:ke,url:O,stats:s,networkDetails:y,sessionData:Y})},d._handleTrackOrLevelPlaylist=function(i,s,h,y){var R=this.hls,b=h.id,O=h.level,B=h.type,U=g.getResponseUrl(i,h),Y=Object(v.isFiniteNumber)(b)?b:0,ne=Object(v.isFiniteNumber)(O)?O:Y,ve=g.mapContextToLevelType(h),xe=Ce.parseLevelPlaylist(i.data,U,ne,ve,Y);if(xe.tload=s.tload,!xe.fragments.length){R.trigger(c.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:U,reason:"no fragments found in level",level:typeof h.level=="number"?h.level:void 0});return}if(B===T.MANIFEST){var ke={url:U,details:xe};R.trigger(c.default.MANIFEST_LOADED,{levels:[ke],audioTracks:[],url:U,stats:s,networkDetails:y,sessionData:null})}if(s.tparsed=nt.now(),xe.needSidxRanges){var Re=xe.initSegment.url;this.load({url:Re,isSidxRequest:!0,type:B,level:O,levelDetails:xe,id:b,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"});return}h.levelDetails=xe,this._handlePlaylistLoaded(i,s,h,y)},d._handleSidxRequest=function(i,s){if(typeof i.data=="string")throw new Error("sidx request must be made with responseType of array buffer");var h=L.default.parseSegmentIndex(new Uint8Array(i.data));if(h){var y=h.references,R=s.levelDetails;y.forEach(function(b,O){var B=b.info;if(R){var U=R.fragments[O];U.byteRange.length===0&&U.setByteRange(String(1+B.end-B.start)+"@"+String(B.start))}}),R&&R.initSegment.setByteRange(String(h.moovEndOffset)+"@0")}},d._handleManifestParsingError=function(i,s,h,y){this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i.url,reason:h,networkDetails:y})},d._handleNetworkError=function(i,s,h,y){h===void 0&&(h=!1),y===void 0&&(y=null),p.logger.info("A network error occured while loading a "+i.type+"-type playlist");var R,b,O=this.getInternalLoader(i);switch(i.type){case T.MANIFEST:R=h?f.ErrorDetails.MANIFEST_LOAD_TIMEOUT:f.ErrorDetails.MANIFEST_LOAD_ERROR,b=!0;break;case T.LEVEL:R=h?f.ErrorDetails.LEVEL_LOAD_TIMEOUT:f.ErrorDetails.LEVEL_LOAD_ERROR,b=!1;break;case T.AUDIO_TRACK:R=h?f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,b=!1;break;default:b=!1}O&&(O.abort(),this.resetInternalLoader(i.type));var B={type:f.ErrorTypes.NETWORK_ERROR,details:R,fatal:b,url:i.url,loader:O,context:i,networkDetails:s};y&&(B.response=y),this.hls.trigger(c.default.ERROR,B)},d._handlePlaylistLoaded=function(i,s,h,y){var R=h.type,b=h.level,O=h.id,B=h.levelDetails;if(!B||!B.targetduration){this._handleManifestParsingError(i,h,"invalid target duration",y);return}var U=g.canHaveQualityLevels(h.type);if(U)this.hls.trigger(c.default.LEVEL_LOADED,{details:B,level:b||0,id:O||0,stats:s,networkDetails:y});else switch(R){case T.AUDIO_TRACK:this.hls.trigger(c.default.AUDIO_TRACK_LOADED,{details:B,id:O,stats:s,networkDetails:y});break;case T.SUBTITLE_TRACK:this.hls.trigger(c.default.SUBTITLE_TRACK_LOADED,{details:B,id:O,stats:s,networkDetails:y});break}},g}(E),rt=ct;function lt(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Qe=function(S){lt(g,S);function g(l){var i;return i=S.call(this,l,c.default.FRAG_LOADING)||this,i.loaders={},i}var d=g.prototype;return d.destroy=function(){var i=this.loaders;for(var s in i){var h=i[s];h&&h.destroy()}this.loaders={},S.prototype.destroy.call(this)},d.onFragLoading=function(i){var s=i.frag,h=s.type,y=this.loaders,R=this.hls.config,b=R.fLoader,O=R.loader;s.loaded=0;var B=y[h];B&&(p.logger.warn("abort previous fragment loader for type: "+h),B.abort()),B=y[h]=s.loader=R.fLoader?new b(R):new O(R);var U,Y,ne;U={url:s.url,frag:s,responseType:"arraybuffer",progressData:!1};var ve=s.byteRangeStartOffset,xe=s.byteRangeEndOffset;Object(v.isFiniteNumber)(ve)&&Object(v.isFiniteNumber)(xe)&&(U.rangeStart=ve,U.rangeEnd=xe),Y={timeout:R.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:R.fragLoadingMaxRetryTimeout},ne={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},B.load(U,Y,ne)},d.loadsuccess=function(i,s,h,y){y===void 0&&(y=null);var R=i.data,b=h.frag;b.loader=void 0,this.loaders[b.type]=void 0,this.hls.trigger(c.default.FRAG_LOADED,{payload:R,frag:b,stats:s,networkDetails:y})},d.loaderror=function(i,s,h){h===void 0&&(h=null);var y=s.frag,R=y.loader;R&&R.abort(),this.loaders[y.type]=void 0,this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:s.frag,response:i,networkDetails:h})},d.loadtimeout=function(i,s,h){h===void 0&&(h=null);var y=s.frag,R=y.loader;R&&R.abort(),this.loaders[y.type]=void 0,this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:s.frag,networkDetails:h})},d.loadprogress=function(i,s,h,y){y===void 0&&(y=null);var R=s.frag;R.loaded=i.loaded,this.hls.trigger(c.default.FRAG_LOAD_PROGRESS,{frag:R,stats:i,networkDetails:y})},g}(E),it=Qe;function Yt(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var ft=function(S){Yt(g,S);function g(l){var i;return i=S.call(this,l,c.default.KEY_LOADING)||this,i.loaders={},i.decryptkey=null,i.decrypturl=null,i}var d=g.prototype;return d.destroy=function(){for(var i in this.loaders){var s=this.loaders[i];s&&s.destroy()}this.loaders={},S.prototype.destroy.call(this)},d.onKeyLoading=function(i){var s=i.frag,h=s.type,y=this.loaders[h];if(!s.decryptdata){p.logger.warn("Missing decryption data on fragment in onKeyLoading");return}var R=s.decryptdata.uri;if(R!==this.decrypturl||this.decryptkey===null){var b=this.hls.config;if(y&&(p.logger.warn("abort previous key loader for type:"+h),y.abort()),!R){p.logger.warn("key uri is falsy");return}s.loader=this.loaders[h]=new b.loader(b),this.decrypturl=R,this.decryptkey=null;var O={url:R,frag:s,responseType:"arraybuffer"},B={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:b.fragLoadingRetryDelay,maxRetryDelay:b.fragLoadingMaxRetryTimeout},U={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};s.loader.load(O,B,U)}else this.decryptkey&&(s.decryptdata.key=this.decryptkey,this.hls.trigger(c.default.KEY_LOADED,{frag:s}))},d.loadsuccess=function(i,s,h){var y=h.frag;if(!y.decryptdata){p.logger.error("after key load, decryptdata unset");return}this.decryptkey=y.decryptdata.key=new Uint8Array(i.data),y.loader=void 0,delete this.loaders[y.type],this.hls.trigger(c.default.KEY_LOADED,{frag:y})},d.loaderror=function(i,s){var h=s.frag,y=h.loader;y&&y.abort(),delete this.loaders[h.type],this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:h,response:i})},d.loadtimeout=function(i,s){var h=s.frag,y=h.loader;y&&y.abort(),delete this.loaders[h.type],this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:h})},g}(E),ir=ft;function Pt(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var ht={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},Tn=function(S){Pt(g,S);function g(l){var i;return i=S.call(this,l,c.default.BUFFER_APPENDED,c.default.FRAG_BUFFERED,c.default.FRAG_LOADED)||this,i.bufferPadding=.2,i.fragments=Object.create(null),i.timeRanges=Object.create(null),i.config=l.config,i}var d=g.prototype;return d.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,E.prototype.destroy.call(this),S.prototype.destroy.call(this)},d.getBufferedFrag=function(i,s){var h=this.fragments,y=Object.keys(h).filter(function(b){var O=h[b];if(O.body.type!==s||!O.buffered)return!1;var B=O.body;return B.startPTS<=i&&i<=B.endPTS});if(y.length===0)return null;var R=y.pop();return h[R].body},d.detectEvictedFragments=function(i,s){var h=this;Object.keys(this.fragments).forEach(function(y){var R=h.fragments[y];if(!(!R||!R.buffered)){var b=R.range[i];if(b)for(var O=b.time,B=0;B<O.length;B++){var U=O[B];if(!h.isTimeBuffered(U.startPTS,U.endPTS,s)){h.removeFragment(R.body);break}}}})},d.detectPartialFragments=function(i){var s=this,h=this.getFragmentKey(i),y=this.fragments[h];y&&(y.buffered=!0,Object.keys(this.timeRanges).forEach(function(R){if(i.hasElementaryStream(R)){var b=s.timeRanges[R];y.range[R]=s.getBufferedTimes(i.startPTS,i.endPTS,b)}}))},d.getBufferedTimes=function(i,s,h){for(var y=[],R,b,O=!1,B=0;B<h.length;B++)if(R=h.start(B)-this.bufferPadding,b=h.end(B)+this.bufferPadding,i>=R&&s<=b){y.push({startPTS:Math.max(i,h.start(B)),endPTS:Math.min(s,h.end(B))});break}else if(i<b&&s>R)y.push({startPTS:Math.max(i,h.start(B)),endPTS:Math.min(s,h.end(B))}),O=!0;else if(s<=R)break;return{time:y,partial:O}},d.getFragmentKey=function(i){return i.type+"_"+i.level+"_"+i.urlId+"_"+i.sn},d.getPartialFragment=function(i){var s=this,h,y,R,b=null,O=0;return Object.keys(this.fragments).forEach(function(B){var U=s.fragments[B];s.isPartial(U)&&(y=U.body.startPTS-s.bufferPadding,R=U.body.endPTS+s.bufferPadding,i>=y&&i<=R&&(h=Math.min(i-y,R-i),O<=h&&(b=U.body,O=h)))}),b},d.getState=function(i){var s=this.getFragmentKey(i),h=this.fragments[s],y=ht.NOT_LOADED;return h!==void 0&&(h.buffered?this.isPartial(h)===!0?y=ht.PARTIAL:y=ht.OK:y=ht.APPENDING),y},d.isPartial=function(i){return i.buffered===!0&&(i.range.video!==void 0&&i.range.video.partial===!0||i.range.audio!==void 0&&i.range.audio.partial===!0)},d.isTimeBuffered=function(i,s,h){for(var y,R,b=0;b<h.length;b++){if(y=h.start(b)-this.bufferPadding,R=h.end(b)+this.bufferPadding,i>=y&&s<=R)return!0;if(s<=y)return!1}return!1},d.onFragLoaded=function(i){var s=i.frag;!Object(v.isFiniteNumber)(s.sn)||s.bitrateTest||(this.fragments[this.getFragmentKey(s)]={body:s,range:Object.create(null),buffered:!1})},d.onBufferAppended=function(i){var s=this;this.timeRanges=i.timeRanges,Object.keys(this.timeRanges).forEach(function(h){var y=s.timeRanges[h];s.detectEvictedFragments(h,y)})},d.onFragBuffered=function(i){this.detectPartialFragments(i.frag)},d.hasFragment=function(i){var s=this.getFragmentKey(i);return this.fragments[s]!==void 0},d.removeFragment=function(i){var s=this.getFragmentKey(i);delete this.fragments[s]},d.removeAllFragments=function(){this.fragments=Object.create(null)},g}(E),j={search:function(g,d){for(var l=0,i=g.length-1,s=null,h=null;l<=i;){s=(l+i)/2|0,h=g[s];var y=d(h);if(y>0)l=s+1;else if(y<0)i=s-1;else return h}return null}},X=j,G=function(){function S(){}return S.isBuffered=function(d,l){try{if(d){for(var i=d.buffered,s=0;s<i.length;s++)if(l>=i.start(s)&&l<=i.end(s))return!0}}catch{}return!1},S.bufferInfo=function(d,l,i){try{if(d){var s=d.buffered,h=[],y;for(y=0;y<s.length;y++)h.push({start:s.start(y),end:s.end(y)});return this.bufferedInfo(h,l,i)}}catch{}return{len:0,start:l,end:l,nextStart:void 0}},S.bufferedInfo=function(d,l,i){d.sort(function(xe,ke){var Re=xe.start-ke.start;return Re||ke.end-xe.end});var s=[];if(i)for(var h=0;h<d.length;h++){var y=s.length;if(y){var R=s[y-1].end;d[h].start-R<i?d[h].end>R&&(s[y-1].end=d[h].end):s.push(d[h])}else s.push(d[h])}else s=d;for(var b=0,O,B=l,U=l,Y=0;Y<s.length;Y++){var ne=s[Y].start,ve=s[Y].end;if(l+i>=ne&&l<ve)B=ne,U=ve,b=U-l;else if(l+i<ne){O=ne;break}}return{len:b,start:B,end:U,nextStart:O}},S}(),D=a("./node_modules/eventemitter3/index.js"),N=a("./node_modules/webworkify-webpack/index.js"),z=a("./src/demux/demuxer-inline.js");function W(){return window.MediaSource||window.WebKitMediaSource}var $=a("./src/utils/get-self-scope.js");function M(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var K=function(S){M(g,S);function g(){return S.apply(this,arguments)||this}var d=g.prototype;return d.trigger=function(i){for(var s=arguments.length,h=new Array(s>1?s-1:0),y=1;y<s;y++)h[y-1]=arguments[y];this.emit.apply(this,[i,i].concat(h))},g}(D.EventEmitter),q=Object($.getSelfScope)(),Z=W()||{isTypeSupported:function(){return!1}},J=function(){function S(d,l){var i=this;this.hls=d,this.id=l;var s=this.observer=new K,h=d.config,y=function(U,Y){Y=Y||{},Y.frag=i.frag,Y.id=i.id,d.trigger(U,Y)};s.on(c.default.FRAG_DECRYPTED,y),s.on(c.default.FRAG_PARSING_INIT_SEGMENT,y),s.on(c.default.FRAG_PARSING_DATA,y),s.on(c.default.FRAG_PARSED,y),s.on(c.default.ERROR,y),s.on(c.default.FRAG_PARSING_METADATA,y),s.on(c.default.FRAG_PARSING_USERDATA,y),s.on(c.default.INIT_PTS_FOUND,y);var R={mp4:Z.isTypeSupported("video/mp4"),mpeg:Z.isTypeSupported("audio/mpeg"),mp3:Z.isTypeSupported('audio/mp4; codecs="mp3"')},b=navigator.vendor;if(h.enableWorker&&typeof Worker<"u"){p.logger.log("demuxing in webworker");var O;try{O=this.w=N("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),O.addEventListener("message",this.onwmsg),O.onerror=function(B){d.trigger(c.default.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:B.message+" ("+B.filename+":"+B.lineno+")"}})},O.postMessage({cmd:"init",typeSupported:R,vendor:b,id:l,config:JSON.stringify(h)})}catch(B){p.logger.warn("Error in worker:",B),p.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),O&&q.URL.revokeObjectURL(O.objectURL),this.demuxer=new z.default(s,R,h,b),this.w=void 0}}else this.demuxer=new z.default(s,R,h,b)}var g=S.prototype;return g.destroy=function(){var l=this.w;if(l)l.removeEventListener("message",this.onwmsg),l.terminate(),this.w=null;else{var i=this.demuxer;i&&(i.destroy(),this.demuxer=null)}var s=this.observer;s&&(s.removeAllListeners(),this.observer=null)},g.push=function(l,i,s,h,y,R,b,O){var B=this.w,U=Object(v.isFiniteNumber)(y.startPTS)?y.startPTS:y.start,Y=y.decryptdata,ne=this.frag,ve=!(ne&&y.cc===ne.cc),xe=!(ne&&y.level===ne.level),ke=ne&&y.sn===ne.sn+1,Re=!xe&&ke;if(ve&&p.logger.log(this.id+":discontinuity detected"),xe&&p.logger.log(this.id+":switch detected"),this.frag=y,B)B.postMessage({cmd:"demux",data:l,decryptdata:Y,initSegment:i,audioCodec:s,videoCodec:h,timeOffset:U,discontinuity:ve,trackSwitch:xe,contiguous:Re,duration:R,accurateTimeOffset:b,defaultInitPTS:O},l instanceof ArrayBuffer?[l]:[]);else{var Me=this.demuxer;Me&&Me.push(l,Y,i,s,h,U,ve,xe,Re,R,b,O)}},g.onWorkerMessage=function(l){var i=l.data,s=this.hls;switch(i.event){case"init":q.URL.revokeObjectURL(this.w.objectURL);break;case c.default.FRAG_PARSING_DATA:i.data.data1=new Uint8Array(i.data1),i.data2&&(i.data.data2=new Uint8Array(i.data2));default:i.data=i.data||{},i.data.frag=this.frag,i.data.id=this.id,s.trigger(i.event,i.data);break}},S}(),ie=J;function re(S,g,d){switch(g){case"audio":S.audioGroupIds||(S.audioGroupIds=[]),S.audioGroupIds.push(d);break;case"text":S.textGroupIds||(S.textGroupIds=[]),S.textGroupIds.push(d);break}}function le(S,g,d){var l=S[g],i=S[d],s=i.startPTS;if(Object(v.isFiniteNumber)(s))d>g?(l.duration=s-l.start,l.duration<0&&p.logger.warn("negative duration computed for frag "+l.sn+",level "+l.level+", there should be some duration drift between playlist and fragment!")):(i.duration=l.start-s,i.duration<0&&p.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"));else if(d>g){var h=l.cc===i.cc;i.start=l.start+(h&&l.minEndPTS?l.minEndPTS-l.start:l.duration)}else i.start=Math.max(l.start-i.duration,0)}function te(S,g,d,l,i,s){var h=d,y=l;if(Object(v.isFiniteNumber)(g.startPTS)){var R=Math.abs(g.startPTS-d);Object(v.isFiniteNumber)(g.deltaPTS)?g.deltaPTS=Math.max(R,g.deltaPTS):g.deltaPTS=R,h=Math.max(d,g.startPTS),d=Math.min(d,g.startPTS),y=Math.min(l,g.endPTS),l=Math.max(l,g.endPTS),i=Math.min(i,g.startDTS),s=Math.max(s,g.endDTS)}var b=d-g.start;g.start=g.startPTS=d,g.maxStartPTS=h,g.endPTS=l,g.minEndPTS=y,g.startDTS=i,g.endDTS=s,g.duration=l-d;var O=g.sn;if(!S||O<S.startSN||O>S.endSN)return 0;var B,U,Y;for(B=O-S.startSN,U=S.fragments,U[B]=g,Y=B;Y>0;Y--)le(U,Y,Y-1);for(Y=B;Y<U.length-1;Y++)le(U,Y,Y+1);return S.PTSKnown=!0,b}function Se(S,g){g.initSegment&&S.initSegment&&(g.initSegment=S.initSegment);var d=0,l;if(De(S,g,function(h,y){d=h.cc-y.cc,Object(v.isFiniteNumber)(h.startPTS)&&(y.start=y.startPTS=h.startPTS,y.endPTS=h.endPTS,y.duration=h.duration,y.backtracked=h.backtracked,y.dropped=h.dropped,l=y),g.PTSKnown=!0}),!!g.PTSKnown){if(d){p.logger.log("discontinuity sliding from playlist, take drift into account");for(var i=g.fragments,s=0;s<i.length;s++)i[s].cc+=d}l?te(g,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):Fe(S,g),g.PTSKnown=S.PTSKnown}}function ge(S,g,d){d===void 0&&(d=0);var l=-1;De(S,g,function(h,y,R){y.start=h.start,l=R});var i=g.fragments;if(l<0){i.forEach(function(h){h.start+=d});return}for(var s=l+1;s<i.length;s++)i[s].start=i[s-1].start+i[s-1].duration}function De(S,g,d){if(!(!S||!g))for(var l=Math.max(S.startSN,g.startSN)-g.startSN,i=Math.min(S.endSN,g.endSN)-g.startSN,s=g.startSN-S.startSN,h=l;h<=i;h++){var y=S.fragments[s+h],R=g.fragments[h];if(!y||!R)break;d(y,R,h)}}function Fe(S,g){var d=g.startSN-S.startSN,l=S.fragments,i=g.fragments;if(!(d<0||d>l.length))for(var s=0;s<i.length;s++)i[s].start+=l[d].start}function Ie(S,g,d){var l=1e3*(g.averagetargetduration?g.averagetargetduration:g.targetduration),i=l/2;return S&&g.endSN===S.endSN&&(l=i),d&&(l=Math.max(i,l-(window.performance.now()-d))),Math.round(l)}var Ve={toString:function(g){for(var d="",l=g.length,i=0;i<l;i++)d+="["+g.start(i).toFixed(3)+","+g.end(i).toFixed(3)+"]";return d}},Ge=Ve;function je(S,g){for(var d=null,l=0;l<S.length;l+=1){var i=S[l];if(i&&i.cc===g){d=i;break}}return d}function We(S,g){return X.search(S,function(d){return d.cc<g?1:d.cc>g?-1:0})}function Je(S,g,d){var l=!1;return g&&g.details&&d&&(d.endCC>d.startCC||S&&S.cc<d.startCC)&&(l=!0),l}function bt(S,g){var d=S.fragments,l=g.fragments;if(!l.length||!d.length){p.logger.log("No fragments to align");return}var i=je(d,l[0].cc);if(!i||i&&!i.startPTS){p.logger.log("No frag in previous level to align on");return}return i}function $e(S,g){g.fragments.forEach(function(d){if(d){var l=d.start+S;d.start=d.startPTS=l,d.endPTS=l+d.duration}}),g.PTSKnown=!0}function qe(S,g,d){gt(S,d,g),!d.PTSKnown&&g&&mt(d,g.details)}function gt(S,g,d){if(Je(S,d,g)){var l=bt(d.details,g);l&&(p.logger.log("Adjusting PTS using last level due to CC increase within current level"),$e(l.start,g))}}function mt(S,g){if(g&&g.fragments.length){if(!S.hasProgramDateTime||!g.hasProgramDateTime)return;var d=g.fragments[0].programDateTime,l=S.fragments[0].programDateTime,i=(l-d)/1e3+g.fragments[0].start;Object(v.isFiniteNumber)(i)&&(p.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),$e(i,S))}}function Ft(S,g,d){if(g===null||!Array.isArray(S)||!S.length||!Object(v.isFiniteNumber)(g))return null;var l=S[0].programDateTime;if(g<(l||0))return null;var i=S[S.length-1].endProgramDateTime;if(g>=(i||0))return null;d=d||0;for(var s=0;s<S.length;++s){var h=S[s];if(Ct(g,d,h))return h}return null}function Tt(S,g,d,l){d===void 0&&(d=0),l===void 0&&(l=0);var i=null;if(S?i=g[S.sn-g[0].sn+1]:d===0&&g[0].start===0&&(i=g[0]),i&&ut(d,l,i)===0)return i;var s=X.search(g,ut.bind(null,d,l));return s||i}function ut(S,g,d){S===void 0&&(S=0),g===void 0&&(g=0);var l=Math.min(g,d.duration+(d.deltaPTS?d.deltaPTS:0));return d.start+d.duration-l<=S?1:d.start-l>S&&d.start?-1:0}function Ct(S,g,d){var l=Math.min(g,d.duration+(d.deltaPTS?d.deltaPTS:0))*1e3,i=d.endProgramDateTime||0;return i-l>S}var ar=250,Vt=2,Mt=.1,_r=.05,Ir=function(){function S(d,l,i,s){this.config=d,this.media=l,this.fragmentTracker=i,this.hls=s,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var g=S.prototype;return g.poll=function(l){var i=this.config,s=this.media,h=this.stalled,y=s.currentTime,R=s.seeking,b=this.seeking&&!R,O=!this.seeking&&R;if(this.seeking=R,y!==l){if(this.moved=!0,h!==null){if(this.stallReported){var B=self.performance.now()-h;p.logger.warn("playback not stuck anymore @"+y+", after "+Math.round(B)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if((O||b)&&(this.stalled=null),!(s.paused||s.ended||s.playbackRate===0||!s.buffered.length)){var U=G.bufferInfo(s,y,0),Y=U.len>0,ne=U.nextStart||0;if(!(!Y&&!ne)){if(R){var ve=U.len>Vt,xe=!ne||ne-y>Vt&&!this.fragmentTracker.getPartialFragment(y);if(ve||xe)return;this.moved=!1}if(!this.moved&&this.stalled){var ke=Math.max(ne,U.start||0)-y;if(ke>0&&ke<=Vt){this._trySkipBufferHole(null);return}}var Re=self.performance.now();if(h===null){this.stalled=Re;return}var Me=Re-h;!R&&Me>=ar&&this._reportStall(U.len);var Ne=G.bufferInfo(s,y,i.maxBufferHole);this._tryFixBufferStall(Ne,Me)}}},g._tryFixBufferStall=function(l,i){var s=this.config,h=this.fragmentTracker,y=this.media,R=y.currentTime,b=h.getPartialFragment(R);if(b){var O=this._trySkipBufferHole(b);if(O)return}l.len>s.maxBufferHole&&i>s.highBufferWatchdogPeriod*1e3&&(p.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},g._reportStall=function(l){var i=this.hls,s=this.media,h=this.stallReported;h||(this.stallReported=!0,p.logger.warn("Playback stalling at @"+s.currentTime+" due to low buffer (buffer="+l+")"),i.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:l}))},g._trySkipBufferHole=function(l){for(var i=this.config,s=this.hls,h=this.media,y=h.currentTime,R=0,b=0;b<h.buffered.length;b++){var O=h.buffered.start(b);if(y+i.maxBufferHole>=R&&y<O){var B=Math.max(O+_r,h.currentTime+Mt);return p.logger.warn("skipping hole, adjusting currentTime from "+y+" to "+B),this.moved=!0,this.stalled=null,h.currentTime=B,l&&s.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+y+" to "+B,frag:l}),B}R=h.buffered.end(b)}return 0},g._tryNudgeBuffer=function(){var l=this.config,i=this.hls,s=this.media,h=s.currentTime,y=(this.nudgeRetry||0)+1;if(this.nudgeRetry=y,y<l.nudgeMaxRetry){var R=h+y*l.nudgeOffset;p.logger.warn("Nudging 'currentTime' from "+h+" to "+R),s.currentTime=R,i.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else p.logger.error("Playhead still not moving while enough data buffered @"+h+" after "+l.nudgeMaxRetry+" nudges"),i.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},S}();function Vr(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function ni(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Wr=function(S){ni(g,S);function g(l){for(var i,s=arguments.length,h=new Array(s>1?s-1:0),y=1;y<s;y++)h[y-1]=arguments[y];return i=S.call.apply(S,[this,l].concat(h))||this,i._boundTick=void 0,i._tickTimer=null,i._tickInterval=null,i._tickCallCount=0,i._boundTick=i.tick.bind(Vr(i)),i}var d=g.prototype;return d.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},d.hasInterval=function(){return!!this._tickInterval},d.hasNextTick=function(){return!!this._tickTimer},d.setInterval=function(i){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,i),!0)},d.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1},d.clearNextTick=function(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1},d.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},d.doTick=function(){},g}(E);function ii(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var oe={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},or=function(S){ii(g,S);function g(){return S.apply(this,arguments)||this}var d=g.prototype;return d.doTick=function(){},d.startLoad=function(){},d.stopLoad=function(){var i=this.fragCurrent;i&&(i.loader&&i.loader.abort(),this.fragmentTracker.removeFragment(i)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=oe.STOPPED},d._streamEnded=function(i,s){var h=this.fragCurrent,y=this.fragmentTracker;if(!s.live&&h&&!h.backtracked&&h.sn===s.endSN&&!i.nextStart){var R=y.getState(h);return R===ht.PARTIAL||R===ht.OK}return!1},d.onMediaSeeking=function(){var i=this.config,s=this.media,h=this.mediaBuffer,y=this.state,R=s?s.currentTime:null,b=G.bufferInfo(h||s,R,this.config.maxBufferHole);if(p.logger.log("media seeking to "+(Object(v.isFiniteNumber)(R)?R.toFixed(3):R)),y===oe.FRAG_LOADING){var O=this.fragCurrent;if(b.len===0&&O){var B=i.maxFragLookUpTolerance,U=O.start-B,Y=O.start+O.duration+B;R<U||R>Y?(O.loader&&(p.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),O.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=oe.IDLE):p.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else y===oe.ENDED&&(b.len===0&&(this.fragPrevious=null,this.fragCurrent=null),this.state=oe.IDLE);s&&(this.lastCurrentTime=R),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=R),this.tick()},d.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},d.onHandlerDestroying=function(){this.stopLoad(),S.prototype.onHandlerDestroying.call(this)},d.onHandlerDestroyed=function(){this.state=oe.STOPPED,this.fragmentTracker=null},d.computeLivePosition=function(i,s){var h=this.config.liveSyncDuration!==void 0?this.config.liveSyncDuration:this.config.liveSyncDurationCount*s.targetduration;return i+Math.max(0,s.totalduration-h)},g}(Wr);function Rn(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function ai(S,g,d){return g&&Rn(S.prototype,g),d&&Rn(S,d),S}function Fr(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Aa=100,_u=function(S){Fr(g,S);function g(l,i){var s;return s=S.call(this,l,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.LEVEL_LOADED,c.default.LEVELS_UPDATED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_LOAD_EMERGENCY_ABORTED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.AUDIO_TRACK_SWITCHING,c.default.AUDIO_TRACK_SWITCHED,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED)||this,s.fragmentTracker=i,s.config=l.config,s.audioCodecSwap=!1,s._state=oe.STOPPED,s.stallReported=!1,s.gapController=null,s.altAudio=!1,s.audioOnly=!1,s.bitrateTest=!1,s}var d=g.prototype;return d.startLoad=function(i){if(this.levels){var s=this.lastCurrentTime,h=this.hls;if(this.stopLoad(),this.setInterval(Aa),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var y=h.startLevel;y===-1&&(h.config.testBandwidth?(y=0,this.bitrateTest=!0):y=h.nextAutoLevel),this.level=h.nextLoadLevel=y,this.loadedmetadata=!1}s>0&&i===-1&&(p.logger.log("override startPosition with lastCurrentTime @"+s.toFixed(3)),i=s),this.state=oe.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}else this.forceStartLoad=!0,this.state=oe.STOPPED},d.stopLoad=function(){this.forceStartLoad=!1,S.prototype.stopLoad.call(this)},d.doTick=function(){switch(this.state){case oe.BUFFER_FLUSHING:this.fragLoadError=0;break;case oe.IDLE:this._doTickIdle();break;case oe.WAITING_LEVEL:var i=this.levels[this.level];i&&i.details&&(this.state=oe.IDLE);break;case oe.FRAG_LOADING_WAITING_RETRY:var s=window.performance.now(),h=this.retryDate;(!h||s>=h||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=oe.IDLE);break}this._checkBuffer(),this._checkFragmentChanged()},d._doTickIdle=function(){var i=this.hls,s=i.config,h=this.media;if(!(this.levelLastLoaded===void 0||!h&&(this.startFragRequested||!s.startFragPrefetch))){if(this.altAudio&&this.audioOnly){this.demuxer.frag=null;return}var y;this.loadedmetadata?y=h.currentTime:y=this.nextLoadPosition;var R=i.nextLoadLevel,b=this.levels[R];if(b){var O=b.bitrate,B;O?B=Math.max(8*s.maxBufferSize/O,s.maxBufferLength):B=s.maxBufferLength,B=Math.min(B,s.maxMaxBufferLength);var U=y<s.maxBufferHole?Math.max(Vt,s.maxBufferHole):s.maxBufferHole,Y=G.bufferInfo(this.mediaBuffer?this.mediaBuffer:h,y,U),ne=Y.len;if(!(ne>=B)){p.logger.trace("buffer length of "+ne.toFixed(3)+" is below max of "+B.toFixed(3)+". checking for more payload ..."),this.level=i.nextLoadLevel=R;var ve=b.details;if(!ve||ve.live&&this.levelLastLoaded!==R){this.state=oe.WAITING_LEVEL;return}if(this._streamEnded(Y,ve)){var xe={};this.altAudio&&(xe.type="video"),this.hls.trigger(c.default.BUFFER_EOS,xe),this.state=oe.ENDED;return}this._fetchPayloadOrEos(y,Y,ve)}}}},d._fetchPayloadOrEos=function(i,s,h){var y=this.fragPrevious;this.level;var R=h.fragments,b=R.length;if(b!==0){var O=R[0].start,B=R[b-1].start+R[b-1].duration,U=s.end,Y;if(h.initSegment&&!h.initSegment.data)Y=h.initSegment;else if(h.live){var ne=this.config.initialLiveManifestSize;if(b<ne){p.logger.warn("Can not start playback of a level, reason: not enough fragments "+b+" < "+ne);return}if(Y=this._ensureFragmentAtLivePoint(h,U,O,B,y,R),Y===null)return}else U<O&&(Y=R[0]);Y||(Y=this._findFragment(O,y,b,R,U,B,h)),Y&&(Y.encrypted?this._loadKey(Y,h):this._loadFragment(Y,h,i,U))}},d._ensureFragmentAtLivePoint=function(i,s,h,y,R,b){var O=this.hls.config,B=this.media,U,Y=1/0;if(O.liveMaxLatencyDuration!==void 0?Y=O.liveMaxLatencyDuration:Object(v.isFiniteNumber)(O.liveMaxLatencyDurationCount)&&(Y=O.liveMaxLatencyDurationCount*i.targetduration),s<Math.max(h-O.maxFragLookUpTolerance,y-Y)){var ne=this.liveSyncPosition=this.computeLivePosition(h,i);s=ne,B&&!B.paused&&B.readyState&&B.duration>ne&&ne>B.currentTime&&(p.logger.log("buffer end: "+s.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+ne.toFixed(3)),B.currentTime=ne),this.nextLoadPosition=ne}if(i.PTSKnown&&s>y&&B&&B.readyState)return null;if(this.startFragRequested&&!i.PTSKnown&&R)if(i.hasProgramDateTime)p.logger.log("live playlist, switching playlist, load frag with same PDT: "+R.programDateTime),U=Ft(b,R.endProgramDateTime,O.maxFragLookUpTolerance);else{var ve=R.sn+1;if(ve>=i.startSN&&ve<=i.endSN){var xe=b[ve-i.startSN];R.cc===xe.cc&&(U=xe,p.logger.log("live playlist, switching playlist, load frag with next SN: "+U.sn))}U||(U=X.search(b,function(ke){return R.cc-ke.cc}),U&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+U.sn))}return U},d._findFragment=function(i,s,h,y,R,b,O){var B=this.hls.config,U;if(R<b){var Y=R>b-B.maxFragLookUpTolerance?0:B.maxFragLookUpTolerance;U=Tt(s,y,R,Y)}else U=y[h-1];if(U){var ne=U.sn-O.startSN,ve=s&&U.level===s.level,xe=y[ne-1],ke=y[ne+1];if(s&&U.sn===s.sn)if(ve&&!U.backtracked)if(U.sn<O.endSN){var Re=s.deltaPTS;Re&&Re>B.maxBufferHole&&s.dropped&&ne?(U=xe,p.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(U=ke,this.fragmentTracker.getState(U)!==ht.OK&&p.logger.log("Re-loading fragment with SN: "+U.sn))}else U=null;else U.backtracked&&(ke&&ke.backtracked?(p.logger.warn("Already backtracked from fragment "+ke.sn+", will not backtrack to fragment "+U.sn+". Loading fragment "+ke.sn),U=ke):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),U.dropped=0,xe?(U=xe,U.backtracked=!0):ne&&(U=null)))}return U},d._loadKey=function(i,s){p.logger.log("Loading key for "+i.sn+" of ["+s.startSN+"-"+s.endSN+"], level "+this.level),this.state=oe.KEY_LOADING,this.hls.trigger(c.default.KEY_LOADING,{frag:i})},d._loadFragment=function(i,s,h,y){var R=this.fragmentTracker.getState(i);this.fragCurrent=i,i.sn!=="initSegment"&&(this.startFragRequested=!0),Object(v.isFiniteNumber)(i.sn)&&!i.bitrateTest&&(this.nextLoadPosition=i.start+i.duration),i.backtracked||R===ht.NOT_LOADED||R===ht.PARTIAL?(i.autoLevel=this.hls.autoLevelEnabled,i.bitrateTest=this.bitrateTest,p.logger.log("Loading "+i.sn+" of ["+s.startSN+"-"+s.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(h.toFixed(3))+", bufferEnd: "+parseFloat(y.toFixed(3))),this.hls.trigger(c.default.FRAG_LOADING,{frag:i}),this.demuxer||(this.demuxer=new ie(this.hls,"main")),this.state=oe.FRAG_LOADING):R===ht.APPENDING&&this._reduceMaxBufferLength(i.duration)&&this.fragmentTracker.removeFragment(i)},d.getBufferedFrag=function(i){return this.fragmentTracker.getBufferedFrag(i,m.MAIN)},d.followingBufferedFrag=function(i){return i?this.getBufferedFrag(i.endPTS+.5):null},d._checkFragmentChanged=function(){var i,s,h=this.media;if(h&&h.readyState&&h.seeking===!1&&(s=h.currentTime,s>this.lastCurrentTime&&(this.lastCurrentTime=s),G.isBuffered(h,s)?i=this.getBufferedFrag(s):G.isBuffered(h,s+.1)&&(i=this.getBufferedFrag(s+.1)),i)){var y=i;if(y!==this.fragPlaying){this.hls.trigger(c.default.FRAG_CHANGED,{frag:y});var R=y.level;(!this.fragPlaying||this.fragPlaying.level!==R)&&this.hls.trigger(c.default.LEVEL_SWITCHED,{level:R}),this.fragPlaying=y}}},d.immediateLevelSwitch=function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var i=this.media,s;i?(s=i.paused,s||i.pause()):s=!0,this.previouslyPaused=s}var h=this.fragCurrent;h&&h.loader&&h.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},d.immediateLevelSwitchEnd=function(){var i=this.media;i&&i.buffered.length&&(this.immediateSwitch=!1,i.currentTime>0&&G.isBuffered(i,i.currentTime)&&(i.currentTime-=1e-4),this.previouslyPaused||i.play())},d.nextLevelSwitch=function(){var i=this.media;if(i&&i.readyState){var s,h=this.getBufferedFrag(i.currentTime);if(h&&h.startPTS>1&&this.flushMainBuffer(0,h.startPTS-1),i.paused)s=0;else{var y=this.hls.nextLoadLevel,R=this.levels[y],b=this.fragLastKbps;b&&this.fragCurrent?s=this.fragCurrent.duration*R.bitrate/(1e3*b)+1:s=0}var O=this.getBufferedFrag(i.currentTime+s);if(O){var B=this.followingBufferedFrag(O);if(B){var U=this.fragCurrent;U&&U.loader&&U.loader.abort(),this.fragCurrent=null;var Y=Math.max(O.endPTS,B.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,B.duration));this.flushMainBuffer(Y,Number.POSITIVE_INFINITY)}}}},d.flushMainBuffer=function(i,s){this.state=oe.BUFFER_FLUSHING;var h={startOffset:i,endOffset:s};this.altAudio&&(h.type="video"),this.hls.trigger(c.default.BUFFER_FLUSHING,h)},d.onMediaAttached=function(i){var s=this.media=this.mediaBuffer=i.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),s.addEventListener("seeking",this.onvseeking),s.addEventListener("seeked",this.onvseeked),s.addEventListener("ended",this.onvended);var h=this.config;this.levels&&h.autoStartLoad&&this.hls.startLoad(h.startPosition),this.gapController=new Ir(h,s,this.fragmentTracker,this.hls)},d.onMediaDetaching=function(){var i=this.media;i&&i.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var s=this.levels;s&&s.forEach(function(h){h.details&&h.details.fragments.forEach(function(y){y.backtracked=void 0})}),i&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("seeked",this.onvseeked),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},d.onMediaSeeked=function(){var i=this.media,s=i?i.currentTime:void 0;Object(v.isFiniteNumber)(s)&&p.logger.log("media seeked to "+s.toFixed(3)),this.tick()},d.onManifestLoading=function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(c.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},d.onManifestParsed=function(i){var s=!1,h=!1,y;i.levels.forEach(function(b){y=b.audioCodec,y&&(y.indexOf("mp4a.40.2")!==-1&&(s=!0),y.indexOf("mp4a.40.5")!==-1&&(h=!0))}),this.audioCodecSwitch=s&&h,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=i.altAudio,this.levels=i.levels,this.startFragRequested=!1;var R=this.config;(R.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(R.startPosition)},d.onLevelLoaded=function(i){var s=i.details,h=i.level,y=this.levels[this.levelLastLoaded],R=this.levels[h],b=s.totalduration,O=0;if(p.logger.log("level "+h+" loaded ["+s.startSN+","+s.endSN+"],duration:"+b),s.live||R.details&&R.details.live){var B=R.details;B&&s.fragments.length>0?(Se(B,s),O=s.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(O,B),s.PTSKnown&&Object(v.isFiniteNumber)(O)?p.logger.log("live playlist sliding:"+O.toFixed(3)):(p.logger.log("live playlist - outdated PTS, unknown sliding"),qe(this.fragPrevious,y,s))):(p.logger.log("live playlist - first load, unknown sliding"),s.PTSKnown=!1,qe(this.fragPrevious,y,s))}else s.PTSKnown=!1;if(R.details=s,this.levelLastLoaded=h,this.hls.trigger(c.default.LEVEL_UPDATED,{details:s,level:h}),this.startFragRequested===!1){if(this.startPosition===-1||this.lastCurrentTime===-1){var U=s.startTimeOffset;Object(v.isFiniteNumber)(U)?(U<0&&(p.logger.log("negative start time offset "+U+", count from end of last fragment"),U=O+b+U),p.logger.log("start time offset found in playlist, adjust startPosition to "+U),this.startPosition=U):s.live?(this.startPosition=this.computeLivePosition(O,s),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===oe.WAITING_LEVEL&&(this.state=oe.IDLE),this.tick()},d.onKeyLoaded=function(){this.state===oe.KEY_LOADING&&(this.state=oe.IDLE,this.tick())},d.onFragLoaded=function(i){var s=this.fragCurrent,h=this.hls,y=this.levels,R=this.media,b=i.frag;if(this.state===oe.FRAG_LOADING&&s&&b.type==="main"&&b.level===s.level&&b.sn===s.sn){var O=i.stats,B=y[s.level],U=B.details;if(this.bitrateTest=!1,this.stats=O,p.logger.log("Loaded "+s.sn+" of ["+U.startSN+" ,"+U.endSN+"],level "+s.level),b.bitrateTest&&h.nextLoadLevel)this.state=oe.IDLE,this.startFragRequested=!1,O.tparsed=O.tbuffered=window.performance.now(),h.trigger(c.default.FRAG_BUFFERED,{stats:O,frag:s,id:"main"}),this.tick();else if(b.sn==="initSegment")this.state=oe.IDLE,O.tparsed=O.tbuffered=window.performance.now(),U.initSegment.data=i.payload,h.trigger(c.default.FRAG_BUFFERED,{stats:O,frag:s,id:"main"}),this.tick();else{p.logger.log("Parsing "+s.sn+" of ["+U.startSN+" ,"+U.endSN+"],level "+s.level+", cc "+s.cc),this.state=oe.PARSING,this.pendingBuffering=!0,this.appended=!1,b.bitrateTest&&(b.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:b}));var Y=!(R&&R.seeking)&&(U.PTSKnown||!U.live),ne=U.initSegment?U.initSegment.data:[],ve=this._getAudioCodec(B),xe=this.demuxer=this.demuxer||new ie(this.hls,"main");xe.push(i.payload,ne,ve,B.videoCodec,s,U.totalduration,Y)}}this.fragLoadError=0},d.onFragParsingInitSegment=function(i){var s=this.fragCurrent,h=i.frag;if(s&&i.id==="main"&&h.sn===s.sn&&h.level===s.level&&this.state===oe.PARSING){var y=i.tracks,R,b;if(this.audioOnly=y.audio&&!y.video,this.altAudio&&!this.audioOnly&&delete y.audio,b=y.audio,b){var O=this.levels[this.level].audioCodec,B=navigator.userAgent.toLowerCase();O&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),O.indexOf("mp4a.40.5")!==-1?O="mp4a.40.2":O="mp4a.40.5"),this.audioCodecSwitch&&b.metadata.channelCount!==1&&B.indexOf("firefox")===-1&&(O="mp4a.40.5"),B.indexOf("android")!==-1&&b.container!=="audio/mpeg"&&(O="mp4a.40.2",p.logger.log("Android: force audio codec to "+O)),b.levelCodec=O,b.id=i.id}b=y.video,b&&(b.levelCodec=this.levels[this.level].videoCodec,b.id=i.id),this.hls.trigger(c.default.BUFFER_CODECS,y);for(R in y){b=y[R],p.logger.log("main track:"+R+",container:"+b.container+",codecs[level/parsed]=["+b.levelCodec+"/"+b.codec+"]");var U=b.initSegment;U&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c.default.BUFFER_APPENDING,{type:R,data:U,parent:"main",content:"initSegment"}))}this.tick()}},d.onFragParsingData=function(i){var s=this,h=this.fragCurrent,y=i.frag;if(h&&i.id==="main"&&y.sn===h.sn&&y.level===h.level&&!(i.type==="audio"&&this.altAudio)&&this.state===oe.PARSING){var R=this.levels[this.level],b=h;if(Object(v.isFiniteNumber)(i.endPTS)||(i.endPTS=i.startPTS+h.duration,i.endDTS=i.startDTS+h.duration),i.hasAudio===!0&&b.addElementaryStream(I.AUDIO),i.hasVideo===!0&&b.addElementaryStream(I.VIDEO),p.logger.log("Parsed "+i.type+",PTS:["+i.startPTS.toFixed(3)+","+i.endPTS.toFixed(3)+"],DTS:["+i.startDTS.toFixed(3)+"/"+i.endDTS.toFixed(3)+"],nb:"+i.nb+",dropped:"+(i.dropped||0)),i.type==="video")if(b.dropped=i.dropped,b.dropped)if(b.backtracked)p.logger.warn("Already backtracked on this fragment, appending with the gap",b.sn);else{var O=R.details;if(O&&b.sn===O.startSN)p.logger.warn("missing video frame(s) on first frag, appending with gap",b.sn);else{p.logger.warn("missing video frame(s), backtracking fragment",b.sn),this.fragmentTracker.removeFragment(b),b.backtracked=!0,this.nextLoadPosition=i.startPTS,this.state=oe.IDLE,this.fragPrevious=b,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.tick();return}}else b.backtracked=!1;var B=te(R.details,b,i.startPTS,i.endPTS,i.startDTS,i.endDTS),U=this.hls;U.trigger(c.default.LEVEL_PTS_UPDATED,{details:R.details,level:this.level,drift:B,type:i.type,start:i.startPTS,end:i.endPTS}),[i.data1,i.data2].forEach(function(Y){Y&&Y.length&&s.state===oe.PARSING&&(s.appended=!0,s.pendingBuffering=!0,U.trigger(c.default.BUFFER_APPENDING,{type:i.type,data:Y,parent:"main",content:"data"}))}),this.tick()}},d.onFragParsed=function(i){var s=this.fragCurrent,h=i.frag;s&&i.id==="main"&&h.sn===s.sn&&h.level===s.level&&this.state===oe.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=oe.PARSED,this._checkAppendedParsed())},d.onAudioTrackSwitching=function(i){var s=this.altAudio,h=!!i.url,y=i.id;if(!h){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var R=this.fragCurrent;R.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),R.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=oe.IDLE}var b=this.hls;s&&b.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),b.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:y})}},d.onAudioTrackSwitched=function(i){var s=i.id,h=!!this.hls.audioTracks[s].url;if(h){var y=this.videoBuffer;y&&this.mediaBuffer!==y&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=y)}this.altAudio=h,this.tick()},d.onBufferCreated=function(i){var s=i.tracks,h,y,R=!1;for(var b in s){var O=s[b];O.id==="main"?(y=b,h=O,b==="video"&&(this.videoBuffer=s[b].buffer)):R=!0}R&&h?(p.logger.log("alternate track found, use "+y+".buffered to schedule main fragment loading"),this.mediaBuffer=h.buffer):this.mediaBuffer=this.media},d.onBufferAppended=function(i){if(i.parent==="main"){var s=this.state;(s===oe.PARSING||s===oe.PARSED)&&(this.pendingBuffering=i.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(this.state===oe.PARSED&&(!this.appended||!this.pendingBuffering)){var i=this.fragCurrent;if(i){var s=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+Ge.toString(s.buffered)),this.fragPrevious=i;var h=this.stats;h.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*h.total/(h.tbuffered-h.tfirst)),this.hls.trigger(c.default.FRAG_BUFFERED,{stats:h,frag:i,id:"main"}),this.state=oe.IDLE}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},d.onError=function(i){var s=i.frag||this.fragCurrent;if(!(s&&s.type!=="main")){var h=!!this.media&&G.isBuffered(this.media,this.media.currentTime)&&G.isBuffered(this.media,this.media.currentTime+.5);switch(i.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:if(!i.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var y=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+y+" ms"),this.retryDate=window.performance.now()+y,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=oe.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+i.details+" reaches max retry, redispatch as fatal ..."),i.fatal=!0,this.state=oe.ERROR;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==oe.ERROR&&(i.fatal?(this.state=oe.ERROR,p.logger.warn("streamController: "+i.details+",switch to "+this.state+" state ...")):!i.levelRetry&&this.state===oe.WAITING_LEVEL&&(this.state=oe.IDLE));break;case f.ErrorDetails.BUFFER_FULL_ERROR:i.parent==="main"&&(this.state===oe.PARSING||this.state===oe.PARSED)&&(h?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=oe.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)));break}}},d._reduceMaxBufferLength=function(i){var s=this.config;return s.maxMaxBufferLength>=i?(s.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+s.maxMaxBufferLength+"s"),!0):!1},d._checkBuffer=function(){var i=this.media;if(!(!i||i.readyState===0)){var s=this.mediaBuffer?this.mediaBuffer:i,h=s.buffered;!this.loadedmetadata&&h.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,h)}},d.onFragLoadEmergencyAborted=function(){this.state=oe.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},d.onBufferFlushed=function(){var i=this.mediaBuffer?this.mediaBuffer:this.media;if(i){var s=this.audioOnly?I.AUDIO:I.VIDEO;this.fragmentTracker.detectEvictedFragments(s,i.buffered)}this.state=oe.IDLE,this.fragPrevious=null},d.onLevelsUpdated=function(i){this.levels=i.levels},d.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},d._seekToStartPos=function(){var i=this.media,s=i.currentTime,h=this.startPosition;if(s!==h&&h>=0){if(i.seeking){p.logger.log("could not seek to "+h+", already seeking at "+s);return}var y=i.buffered.length?i.buffered.start(0):0,R=y-h;R>0&&R<this.config.maxBufferHole&&(p.logger.log("adjusting start position by "+R+" to match buffer start"),h+=R,this.startPosition=h),p.logger.log("seek to target start position "+h+" from current time "+s+". ready state "+i.readyState),i.currentTime=h}},d._getAudioCodec=function(i){var s=this.config.defaultAudioCodec||i.audioCodec;return this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),s&&(s.indexOf("mp4a.40.5")!==-1?s="mp4a.40.2":s="mp4a.40.5")),s},ai(g,[{key:"state",set:function(i){if(this.state!==i){var s=this.state;this._state=i,p.logger.log("main stream-controller: "+s+"->"+i),this.hls.trigger(c.default.STREAM_STATE_TRANSITION,{previousState:s,nextState:i})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var i=this.media;if(i){var s=this.getBufferedFrag(i.currentTime);if(s)return s.level}return-1}},{key:"nextBufferedFrag",get:function(){var i=this.media;return i?this.followingBufferedFrag(this.getBufferedFrag(i.currentTime)):null}},{key:"nextLevel",get:function(){var i=this.nextBufferedFrag;return i?i.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(i){this._liveSyncPosition=i}}]),g}(or),Yo=_u;function Xo(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function wa(S,g,d){return g&&Xo(S.prototype,g),d&&Xo(S,d),S}function Jo(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var oi,bu=function(S){Jo(g,S);function g(l){var i;return i=S.call(this,l,c.default.MANIFEST_LOADED,c.default.LEVEL_LOADED,c.default.AUDIO_TRACK_SWITCHED,c.default.FRAG_LOADED,c.default.ERROR)||this,i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,oi=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),i}var d=g.prototype;return d.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},d.clearTimer=function(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)},d.startLoad=function(){var i=this._levels;this.canload=!0,this.levelRetryCount=0,i&&i.forEach(function(s){s.loadError=0;var h=s.details;h&&h.live&&(s.details=void 0)}),this.timer!==null&&this.loadLevel()},d.stopLoad=function(){this.canload=!1},d.onManifestLoaded=function(i){var s=[],h=[],y,R={},b=null,O=!1,B=!1;if(i.levels.forEach(function(ne){var ve=ne.attrs;ne.loadError=0,ne.fragmentError=!1,O=O||!!ne.videoCodec,B=B||!!ne.audioCodec,oi&&ne.audioCodec&&ne.audioCodec.indexOf("mp4a.40.34")!==-1&&(ne.audioCodec=void 0),b=R[ne.bitrate],b?b.url.push(ne.url):(ne.url=[ne.url],ne.urlId=0,R[ne.bitrate]=ne,s.push(ne)),ve&&(ve.AUDIO&&re(b||ne,"audio",ve.AUDIO),ve.SUBTITLES&&re(b||ne,"text",ve.SUBTITLES))}),O&&B&&(s=s.filter(function(ne){var ve=ne.videoCodec;return!!ve})),s=s.filter(function(ne){var ve=ne.audioCodec,xe=ne.videoCodec;return(!ve||_e(ve,"audio"))&&(!xe||_e(xe,"video"))}),i.audioTracks&&(h=i.audioTracks.filter(function(ne){return!ne.audioCodec||_e(ne.audioCodec,"audio")}),h.forEach(function(ne,ve){ne.id=ve})),s.length>0){y=s[0].bitrate,s.sort(function(ne,ve){return ne.bitrate-ve.bitrate}),this._levels=s;for(var U=0;U<s.length;U++)if(s[U].bitrate===y){this._firstLevel=U,p.logger.log("manifest loaded,"+s.length+" level(s) found, first bitrate:"+y);break}var Y=B&&!O;this.hls.trigger(c.default.MANIFEST_PARSED,{levels:s,audioTracks:h,firstLevel:this._firstLevel,stats:i.stats,audio:B,video:O,altAudio:!Y&&h.some(function(ne){return!!ne.url})})}else this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},d.setLevelInternal=function(i){var s=this._levels,h=this.hls;if(i>=0&&i<s.length){if(this.clearTimer(),this.currentLevelIndex!==i){p.logger.log("switching to level "+i),this.currentLevelIndex=i;var y=s[i];y.level=i,h.trigger(c.default.LEVEL_SWITCHING,y)}var R=s[i],b=R.details;if(!b||b.live){var O=R.urlId;h.trigger(c.default.LEVEL_LOADING,{url:R.url[O],level:i,id:O})}}else h.trigger(c.default.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.LEVEL_SWITCH_ERROR,level:i,fatal:!1,reason:"invalid level idx"})},d.onError=function(i){if(i.fatal){i.type===f.ErrorTypes.NETWORK_ERROR&&this.clearTimer();return}var s=!1,h=!1,y;switch(i.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:y=i.frag.level,h=!0;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:y=i.context.level,s=!0;break;case f.ErrorDetails.REMUX_ALLOC_ERROR:y=i.level,s=!0;break}y!==void 0&&this.recoverLevel(i,y,s,h)},d.recoverLevel=function(i,s,h,y){var R=this,b=this.hls.config,O=i.details,B=this._levels[s],U,Y,ne;if(B.loadError++,B.fragmentError=y,h)if(this.levelRetryCount+1<=b.levelLoadingMaxRetry)Y=Math.min(Math.pow(2,this.levelRetryCount)*b.levelLoadingRetryDelay,b.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return R.loadLevel()},Y),i.levelRetry=!0,this.levelRetryCount++,p.logger.warn("level controller, "+O+", retry in "+Y+" ms, current retry count is "+this.levelRetryCount);else{p.logger.error("level controller, cannot recover from "+O+" error"),this.currentLevelIndex=null,this.clearTimer(),i.fatal=!0;return}(h||y)&&(U=B.url.length,U>1&&B.loadError<U?(B.urlId=(B.urlId+1)%U,B.details=void 0,p.logger.warn("level controller, "+O+" for level "+s+": switching to redundant URL-id "+B.urlId)):this.manualLevelIndex===-1?(ne=s===0?this._levels.length-1:s-1,p.logger.warn("level controller, "+O+": switch to "+ne),this.hls.nextAutoLevel=this.currentLevelIndex=ne):y&&(p.logger.warn("level controller, "+O+": reload a fragment"),this.currentLevelIndex=null))},d.onFragLoaded=function(i){var s=i.frag;if(s!==void 0&&s.type==="main"){var h=this._levels[s.level];h!==void 0&&(h.fragmentError=!1,h.loadError=0,this.levelRetryCount=0)}},d.onLevelLoaded=function(i){var s=this,h=i.level,y=i.details;if(h===this.currentLevelIndex){var R=this._levels[h];if(R.fragmentError||(R.loadError=0,this.levelRetryCount=0),y.live){var b=Ie(R.details,y,i.stats.trequest);p.logger.log("live playlist, reload in "+Math.round(b)+" ms"),this.timer=setTimeout(function(){return s.loadLevel()},b)}else this.clearTimer()}},d.onAudioTrackSwitched=function(i){var s=this.hls.audioTracks[i.id].groupId,h=this.hls.levels[this.currentLevelIndex];if(h&&h.audioGroupIds){for(var y=-1,R=0;R<h.audioGroupIds.length;R++)if(h.audioGroupIds[R]===s){y=R;break}y!==h.urlId&&(h.urlId=y,this.startLoad())}},d.loadLevel=function(){if(p.logger.debug("call to loadLevel"),this.currentLevelIndex!==null&&this.canload){var i=this._levels[this.currentLevelIndex];if(typeof i=="object"&&i.url.length>0){var s=this.currentLevelIndex,h=i.urlId,y=i.url[h];p.logger.log("Attempt loading level index "+s+" with URL-id "+h),this.hls.trigger(c.default.LEVEL_LOADING,{url:y,level:s,id:h})}}},d.removeLevel=function(i,s){var h=this.levels.filter(function(y,R){return R!==i?!0:y.url.length>1&&s!==void 0?(y.url=y.url.filter(function(b,O){return O!==s}),y.urlId=0,!0):!1}).map(function(y,R){var b=y.details;return b&&b.fragments&&b.fragments.forEach(function(O){O.level=R}),y});this._levels=h,this.hls.trigger(c.default.LEVELS_UPDATED,{levels:h})},wa(g,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(i){var s=this._levels;s&&(i=Math.min(i,s.length-1),(this.currentLevelIndex!==i||!s[i].details)&&this.setLevelInternal(i))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(i){this.manualLevelIndex=i,this._startLevel===void 0&&(this._startLevel=i),i!==-1&&(this.level=i)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(i){this._firstLevel=i}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var i=this.hls.config.startLevel;return i!==void 0?i:this._firstLevel}else return this._startLevel},set:function(i){this._startLevel=i}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(i){this.level=i,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=i)}}]),g}(E),Ta=a("./src/demux/id3.js");function ki(S,g){var d;try{d=new Event("addtrack")}catch{d=document.createEvent("Event"),d.initEvent("addtrack",!1,!1)}d.track=S,g.dispatchEvent(d)}function si(S){if(S!=null&&S.cues)for(;S.cues.length>0;)S.removeCue(S.cues[0])}function Zo(S,g){if(g<S[0].endTime)return S[0];if(g>S[S.length-1].endTime)return S[S.length-1];for(var d=0,l=S.length-1;d<=l;){var i=Math.floor((l+d)/2);if(g<S[i].endTime)l=i-1;else if(g>S[i].endTime)d=i+1;else return S[i]}return S[d].endTime-g<g-S[l].endTime?S[d]:S[l]}function es(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Li=.25,Ra=function(S){es(g,S);function g(l){var i;return i=S.call(this,l,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.FRAG_PARSING_METADATA,c.default.LIVE_BACK_BUFFER_REACHED)||this,i.id3Track=void 0,i.media=void 0,i}var d=g.prototype;return d.destroy=function(){E.prototype.destroy.call(this)},d.onMediaAttached=function(i){this.media=i.media,this.media},d.onMediaDetaching=function(){si(this.id3Track),this.id3Track=void 0,this.media=void 0},d.getID3Track=function(i){for(var s=0;s<i.length;s++){var h=i[s];if(h.kind==="metadata"&&h.label==="id3")return ki(h,this.media),h}return this.media.addTextTrack("metadata","id3")},d.onFragParsingMetadata=function(i){var s=i.frag,h=i.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var y=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,R=0;R<h.length;R++){var b=Ta.default.getID3Frames(h[R].data);if(b){var O=Math.max(h[R].pts,0),B=R<h.length-1?h[R+1].pts:s.endPTS;B||(B=s.start+s.duration);var U=B-O;U<=0&&(B=O+Li);for(var Y=0;Y<b.length;Y++){var ne=b[Y];if(!Ta.default.isTimeStampFrame(ne)){var ve=new y(O,B,"");ve.value=ne,this.id3Track.addCue(ve)}}}}},d.onLiveBackBufferReached=function(i){var s=i.bufferEnd,h=this.id3Track;if(!(!h||!h.cues||!h.cues.length)){var y=Zo(h.cues,s);if(y)for(;h.cues[0]!==y;)h.removeCue(h.cues[0])}},g}(E),Cu=Ra;function Du(){var S=W();if(!S)return!1;var g=self.SourceBuffer||self.WebKitSourceBuffer,d=S&&typeof S.isTypeSupported=="function"&&S.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),l=!g||g.prototype&&typeof g.prototype.appendBuffer=="function"&&typeof g.prototype.remove=="function";return!!d&&!!l}var Ny=function(){function S(d){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=d?Math.exp(Math.log(.5)/d):0,this.estimate_=0,this.totalWeight_=0}var g=S.prototype;return g.sample=function(l,i){var s=Math.pow(this.alpha_,l);this.estimate_=i*(1-s)+s*this.estimate_,this.totalWeight_+=l},g.getTotalWeight=function(){return this.totalWeight_},g.getEstimate=function(){if(this.alpha_){var l=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/l}else return this.estimate_},S}(),uh=Ny,By=function(){function S(d,l,i,s){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=d,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new uh(l),this.fast_=new uh(i)}var g=S.prototype;return g.sample=function(l,i){l=Math.max(l,this.minDelayMs_);var s=8*i,h=l/1e3,y=s/h;this.fast_.sample(h,y),this.slow_.sample(h,y)},g.canEstimate=function(){var l=this.fast_;return l&&l.getTotalWeight()>=this.minWeight_},g.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},g.destroy=function(){},S}(),Uy=By;function ch(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function jy(S,g,d){return g&&ch(S.prototype,g),d&&ch(S,d),S}function zy(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function Gy(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Ky=window,Hy=Ky.performance,Vy=function(S){Gy(g,S);function g(l){var i;return i=S.call(this,l,c.default.FRAG_LOADING,c.default.FRAG_LOADED,c.default.FRAG_BUFFERED,c.default.ERROR)||this,i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=l,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(zy(i)),i}var d=g.prototype;return d.destroy=function(){this.clearTimer(),E.prototype.destroy.call(this)},d.onFragLoading=function(i){var s=i.frag;if(s.type==="main"&&(this.timer||(this.fragCurrent=s,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var h=this.hls,y=h.config,R=s.level,b=h.levels[R].details.live,O,B;b?(O=y.abrEwmaFastLive,B=y.abrEwmaSlowLive):(O=y.abrEwmaFastVoD,B=y.abrEwmaSlowVoD),this._bwEstimator=new Uy(h,B,O,y.abrEwmaDefaultEstimate)}},d._abandonRulesCheck=function(){var i=this.hls,s=i.media,h=this.fragCurrent;if(h){var y=h.loader;if(!y||y.stats&&y.stats.aborted){p.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),this._nextAutoLevel=-1;return}var R=y.stats;if(s&&R&&(!s.paused&&s.playbackRate!==0||!s.readyState)&&h.autoLevel&&h.level){var b=Hy.now()-R.trequest,O=Math.abs(s.playbackRate);if(b>500*h.duration/O){var B=i.levels,U=Math.max(1,R.bw?R.bw/8:R.loaded*1e3/b),Y=B[h.level];if(!Y)return;var ne=Y.realBitrate?Math.max(Y.realBitrate,Y.bitrate):Y.bitrate,ve=R.total?R.total:Math.max(R.loaded,Math.round(h.duration*ne/8)),xe=s.currentTime,ke=(ve-R.loaded)/U,Re=(G.bufferInfo(s,xe,i.config.maxBufferHole).end-xe)/O;if(Re<2*h.duration/O&&ke>Re){var Me=i.minAutoLevel,Ne,Ye;for(Ye=h.level-1;Ye>Me;Ye--){var Rt=B[Ye].realBitrate?Math.max(B[Ye].realBitrate,B[Ye].bitrate):B[Ye].bitrate,mr=h.duration*Rt/(8*.8*U);if(mr<Re)break}Ne<ke&&(p.logger.warn("loading too slow, abort fragment loading and switch to level "+Ye+":fragLoadedDelay["+Ye+"]<fragLoadedDelay["+(h.level-1)+"];bufferStarvationDelay:"+Ne.toFixed(1)+"<"+ke.toFixed(1)+":"+Re.toFixed(1)),i.nextLoadLevel=Ye,this._bwEstimator.sample(b,R.loaded),y.abort(),this.clearTimer(),i.trigger(c.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:h,stats:R}))}}}}},d.onFragLoaded=function(i){var s=i.frag;if(s.type==="main"&&Object(v.isFiniteNumber)(s.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=s.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var h=this.hls.levels[s.level],y=(h.loaded?h.loaded.bytes:0)+i.stats.loaded,R=(h.loaded?h.loaded.duration:0)+i.frag.duration;h.loaded={bytes:y,duration:R},h.realBitrate=Math.round(8*y/R)}if(i.frag.bitrateTest){var b=i.stats;b.tparsed=b.tbuffered=b.tload,this.onFragBuffered(i)}}},d.onFragBuffered=function(i){var s=i.stats,h=i.frag;if(s.aborted!==!0&&h.type==="main"&&Object(v.isFiniteNumber)(h.sn)&&(!h.bitrateTest||s.tload===s.tbuffered)){var y=s.tparsed-s.trequest;p.logger.log("latency/loading/parsing/append/kbps:"+Math.round(s.tfirst-s.trequest)+"/"+Math.round(s.tload-s.tfirst)+"/"+Math.round(s.tparsed-s.tload)+"/"+Math.round(s.tbuffered-s.tparsed)+"/"+Math.round(8*s.loaded/(s.tbuffered-s.trequest))),this._bwEstimator.sample(y,s.loaded),s.bwEstimate=this._bwEstimator.getEstimate(),h.bitrateTest?this.bitrateTestDelay=y/1e3:this.bitrateTestDelay=0}},d.onError=function(i){switch(i.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer();break}},d.clearTimer=function(){clearInterval(this.timer),this.timer=null},d._findBestLevel=function(i,s,h,y,R,b,O,B,U){for(var Y=R;Y>=y;Y--){var ne=U[Y];if(ne){var ve=ne.details,xe=ve?ve.totalduration/ve.fragments.length:s,ke=ve?ve.live:!1,Re=void 0;Y<=i?Re=O*h:Re=B*h;var Me=U[Y].realBitrate?Math.max(U[Y].realBitrate,U[Y].bitrate):U[Y].bitrate,Ne=Me*xe/Re;if(p.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+Y+"/"+Math.round(Re)+"/"+Me+"/"+xe+"/"+b+"/"+Ne),Re>Me&&(!Ne||ke&&!this.bitrateTestDelay||Ne<b))return Y}}return-1},jy(g,[{key:"nextAutoLevel",get:function(){var i=this._nextAutoLevel,s=this._bwEstimator;if(i!==-1&&(!s||!s.canEstimate()))return i;var h=this._nextABRAutoLevel;return i!==-1&&(h=Math.min(i,h)),h},set:function(i){this._nextAutoLevel=i}},{key:"_nextABRAutoLevel",get:function(){var i=this.hls,s=i.maxAutoLevel,h=i.levels,y=i.config,R=i.minAutoLevel,b=i.media,O=this.lastLoadedFragLevel,B=this.fragCurrent?this.fragCurrent.duration:0,U=b?b.currentTime:0,Y=b&&b.playbackRate!==0?Math.abs(b.playbackRate):1,ne=this._bwEstimator?this._bwEstimator.getEstimate():y.abrEwmaDefaultEstimate,ve=(G.bufferInfo(b,U,y.maxBufferHole).end-U)/Y,xe=this._findBestLevel(O,B,ne,R,s,ve,y.abrBandWidthFactor,y.abrBandWidthUpFactor,h);if(xe>=0)return xe;p.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var ke=B?Math.min(B,y.maxStarvationDelay):y.maxStarvationDelay,Re=y.abrBandWidthFactor,Me=y.abrBandWidthUpFactor;if(ve===0){var Ne=this.bitrateTestDelay;if(Ne){var Ye=B?Math.min(B,y.maxLoadingDelay):y.maxLoadingDelay;ke=Ye-Ne,p.logger.trace("bitrate test took "+Math.round(1e3*Ne)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*ke)+" ms"),Re=Me=1}}return xe=this._findBestLevel(O,B,ne,R,s,ve+ke,Re,Me,h),Math.max(xe,0)}}]),g}(E),Wy=Vy;function Qy(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var fh=W(),$y=function(S){Qy(g,S);function g(l){var i;return i=S.call(this,l,c.default.MEDIA_ATTACHING,c.default.MEDIA_DETACHING,c.default.MANIFEST_PARSED,c.default.BUFFER_RESET,c.default.BUFFER_APPENDING,c.default.BUFFER_CODECS,c.default.BUFFER_EOS,c.default.BUFFER_FLUSHING,c.default.LEVEL_PTS_UPDATED,c.default.LEVEL_UPDATED)||this,i._msDuration=null,i._levelDuration=null,i._levelTargetDuration=10,i._live=null,i._objectUrl=null,i._needsFlush=!1,i._needsEos=!1,i.config=void 0,i.audioTimestampOffset=void 0,i.bufferCodecEventsExpected=0,i._bufferCodecEventsTotal=0,i.media=null,i.mediaSource=null,i.segments=[],i.parent=void 0,i.appending=!1,i.appended=0,i.appendError=0,i.flushBufferCounter=0,i.tracks={},i.pendingTracks={},i.sourceBuffer={},i.flushRange=[],i._onMediaSourceOpen=function(){p.logger.log("media source opened"),i.hls.trigger(c.default.MEDIA_ATTACHED,{media:i.media});var s=i.mediaSource;s&&s.removeEventListener("sourceopen",i._onMediaSourceOpen),i.checkPendingTracks()},i._onMediaSourceClose=function(){p.logger.log("media source closed")},i._onMediaSourceEnded=function(){p.logger.log("media source ended")},i._onSBUpdateEnd=function(){if(i.audioTimestampOffset&&i.sourceBuffer.audio){var s=i.sourceBuffer.audio;p.logger.warn("change mpeg audio timestamp offset from "+s.timestampOffset+" to "+i.audioTimestampOffset),s.timestampOffset=i.audioTimestampOffset,delete i.audioTimestampOffset}i._needsFlush&&i.doFlush(),i._needsEos&&i.checkEos(),i.appending=!1;var h=i.parent,y=i.segments.reduce(function(U,Y){return Y.parent===h?U+1:U},0),R={},b=i.sourceBuffer;for(var O in b){var B=b[O];if(!B)throw Error("handling source buffer update end error: source buffer for "+O+" uninitilized and unable to update buffered TimeRanges.");R[O]=B.buffered}i.hls.trigger(c.default.BUFFER_APPENDED,{parent:h,pending:y,timeRanges:R}),i._needsFlush||i.doAppending(),i.updateMediaElementDuration(),y===0&&i.flushLiveBackBuffer()},i._onSBUpdateError=function(s){p.logger.error("sourceBuffer error:",s),i.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},i.config=l.config,i}var d=g.prototype;return d.destroy=function(){E.prototype.destroy.call(this)},d.onLevelPtsUpdated=function(i){var s=i.type,h=this.tracks.audio;if(s==="audio"&&h&&h.container==="audio/mpeg"){var y=this.sourceBuffer.audio;if(!y)throw Error("Level PTS Updated and source buffer for audio uninitalized");var R=Math.abs(y.timestampOffset-i.start);if(R>.1){var b=y.updating;try{y.abort()}catch(O){p.logger.warn("can not abort audio buffer: "+O)}b?this.audioTimestampOffset=i.start:(p.logger.warn("change mpeg audio timestamp offset from "+y.timestampOffset+" to "+i.start),y.timestampOffset=i.start)}}},d.onManifestParsed=function(i){var s=2;(i.audio&&!i.video||!i.altAudio)&&(s=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=s,p.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},d.onMediaAttaching=function(i){var s=this.media=i.media;if(s&&fh){var h=this.mediaSource=new fh;h.addEventListener("sourceopen",this._onMediaSourceOpen),h.addEventListener("sourceended",this._onMediaSourceEnded),h.addEventListener("sourceclose",this._onMediaSourceClose),s.src=window.URL.createObjectURL(h),this._objectUrl=s.src}},d.onMediaDetaching=function(){p.logger.log("media source detaching");var i=this.mediaSource;if(i){if(i.readyState==="open")try{i.endOfStream()}catch(s){p.logger.warn("onMediaDetaching:"+s.message+" while calling endOfStream")}i.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("sourceended",this._onMediaSourceEnded),i.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):p.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(c.default.MEDIA_DETACHED)},d.checkPendingTracks=function(){var i=this.bufferCodecEventsExpected,s=this.pendingTracks,h=Object.keys(s).length;(h&&!i||h===2)&&(this.createSourceBuffers(s),this.pendingTracks={},this.doAppending())},d.onBufferReset=function(){var i=this.sourceBuffer;for(var s in i){var h=i[s];try{h&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(h),h.removeEventListener("updateend",this._onSBUpdateEnd),h.removeEventListener("error",this._onSBUpdateError))}catch{}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},d.onBufferCodecs=function(i){var s=this;Object.keys(this.sourceBuffer).length||(Object.keys(i).forEach(function(h){s.pendingTracks[h]=i[h]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},d.createSourceBuffers=function(i){var s=this.sourceBuffer,h=this.mediaSource;if(!h)throw Error("createSourceBuffers called when mediaSource was null");for(var y in i)if(!s[y]){var R=i[y];if(!R)throw Error("source buffer exists for track "+y+", however track does not");var b=R.levelCodec||R.codec,O=R.container+";codecs="+b;p.logger.log("creating sourceBuffer("+O+")");try{var B=s[y]=h.addSourceBuffer(O);B.addEventListener("updateend",this._onSBUpdateEnd),B.addEventListener("error",this._onSBUpdateError),this.tracks[y]={buffer:B,codec:b,id:R.id,container:R.container,levelCodec:R.levelCodec}}catch(U){p.logger.error("error while trying to add sourceBuffer:"+U.message),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:U,mimeType:O})}}this.hls.trigger(c.default.BUFFER_CREATED,{tracks:this.tracks})},d.onBufferAppending=function(i){this._needsFlush||(this.segments?this.segments.push(i):this.segments=[i],this.doAppending())},d.onBufferEos=function(i){for(var s in this.sourceBuffer)if(!i.type||i.type===s){var h=this.sourceBuffer[s];h&&!h.ended&&(h.ended=!0,p.logger.log(s+" sourceBuffer now EOS"))}this.checkEos()},d.checkEos=function(){var i=this.sourceBuffer,s=this.mediaSource;if(!s||s.readyState!=="open"){this._needsEos=!1;return}for(var h in i){var y=i[h];if(y){if(!y.ended)return;if(y.updating){this._needsEos=!0;return}}}p.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{s.endOfStream()}catch{p.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},d.onBufferFlushing=function(i){i.type?this.flushRange.push({start:i.startOffset,end:i.endOffset,type:i.type}):(this.flushRange.push({start:i.startOffset,end:i.endOffset,type:"video"}),this.flushRange.push({start:i.startOffset,end:i.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},d.flushLiveBackBuffer=function(){if(this._live){var i=this.config.liveBackBufferLength;if(!(!isFinite(i)||i<0)){if(!this.media){p.logger.error("flushLiveBackBuffer called without attaching media");return}for(var s=this.media.currentTime,h=this.sourceBuffer,y=Object.keys(h),R=s-Math.max(i,this._levelTargetDuration),b=y.length-1;b>=0;b--){var O=y[b],B=h[O];if(B){var U=B.buffered;U.length>0&&R>U.start(0)&&this.removeBufferRange(O,B,0,R)&&this.hls.trigger(c.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:R})}}}}},d.onLevelUpdated=function(i){var s=i.details;s.fragments.length>0&&(this._levelDuration=s.totalduration+s.fragments[0].start,this._levelTargetDuration=s.averagetargetduration||s.targetduration||10,this._live=s.live,this.updateMediaElementDuration())},d.updateMediaElementDuration=function(){var i=this.config,s;if(!(this._levelDuration===null||!this.media||!this.mediaSource||!this.sourceBuffer||this.media.readyState===0||this.mediaSource.readyState!=="open")){for(var h in this.sourceBuffer){var y=this.sourceBuffer[h];if(y&&y.updating===!0)return}s=this.media.duration,this._msDuration===null&&(this._msDuration=this.mediaSource.duration),this._live===!0&&i.liveDurationInfinity===!0?(p.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>s||!Object(v.isFiniteNumber)(s))&&(p.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},d.doFlush=function(){for(;this.flushRange.length;){var i=this.flushRange[0];if(this.flushBuffer(i.start,i.end,i.type))this.flushRange.shift(),this.flushBufferCounter=0;else{this._needsFlush=!0;return}}if(this.flushRange.length===0){this._needsFlush=!1;var s=0,h=this.sourceBuffer;try{for(var y in h){var R=h[y];R&&(s+=R.buffered.length)}}catch{p.logger.error("error while accessing sourceBuffer.buffered")}this.appended=s,this.hls.trigger(c.default.BUFFER_FLUSHED)}},d.doAppending=function(){var i=this.config,s=this.hls,h=this.segments,y=this.sourceBuffer;if(Object.keys(y).length){if(!this.media||this.media.error){this.segments=[],p.logger.error("trying to append although a media error occured, flush segment and abort");return}if(!this.appending){var R=h.shift();if(R)try{var b=y[R.type];if(!b){this._onSBUpdateEnd();return}if(b.updating){h.unshift(R);return}b.ended=!1,this.parent=R.parent,b.appendBuffer(R.data),this.appendError=0,this.appended++,this.appending=!0}catch(B){p.logger.error("error while trying to append buffer:"+B.message),h.unshift(R);var O={type:f.ErrorTypes.MEDIA_ERROR,parent:R.parent,details:"",fatal:!1};B.code===22?(this.segments=[],O.details=f.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,O.details=f.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>i.appendErrorMaxRetry&&(p.logger.log("fail "+i.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],O.fatal=!0)),s.trigger(c.default.ERROR,O)}}}},d.flushBuffer=function(i,s,h){var y=this.sourceBuffer;if(!Object.keys(y).length)return!0;var R="null";if(this.media&&(R=this.media.currentTime.toFixed(3)),p.logger.log("flushBuffer,pos/start/end: "+R+"/"+i+"/"+s),this.flushBufferCounter>=this.appended)return p.logger.warn("abort flushing too many retries"),!0;var b=y[h];if(b){if(b.ended=!1,b.updating)return p.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(h,b,i,s))return this.flushBufferCounter++,!1}return p.logger.log("buffer flushed"),!0},d.removeBufferRange=function(i,s,h,y){try{for(var R=0;R<s.buffered.length;R++){var b=s.buffered.start(R),O=s.buffered.end(R),B=Math.max(b,h),U=Math.min(O,y);if(Math.min(U,O)-B>.5){var Y="null";return this.media&&(Y=this.media.currentTime.toString()),p.logger.log("sb remove "+i+" ["+B+","+U+"], of ["+b+","+O+"], pos:"+Y),s.remove(B,U),!0}}}catch(ne){p.logger.warn("removeBufferRange failed",ne)}return!1},g}(E),qy=$y;function dh(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Yy(S,g,d){return g&&dh(S.prototype,g),d&&dh(S,d),S}function Xy(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Jy=function(S){Xy(g,S);function g(l){var i;return i=S.call(this,l,c.default.FPS_DROP_LEVEL_CAPPING,c.default.MEDIA_ATTACHING,c.default.MANIFEST_PARSED,c.default.LEVELS_UPDATED,c.default.BUFFER_CODECS,c.default.MEDIA_DETACHING)||this,i.autoLevelCapping=Number.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i.clientRect=null,i}var d=g.prototype;return d.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},d.onFpsDropLevelCapping=function(i){g.isLevelAllowed(i.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(i.droppedLevel)},d.onMediaAttaching=function(i){this.media=i.media instanceof window.HTMLVideoElement?i.media:null},d.onManifestParsed=function(i){var s=this.hls;this.restrictedLevels=[],this.levels=i.levels,this.firstLevel=i.firstLevel,s.config.capLevelToPlayerSize&&i.video&&this.startCapping()},d.onBufferCodecs=function(i){var s=this.hls;s.config.capLevelToPlayerSize&&i.video&&this.startCapping()},d.onLevelsUpdated=function(i){this.levels=i.levels},d.onMediaDetaching=function(){this.stopCapping()},d.detectPlayerSize=function(){if(this.media){var i=this.levels?this.levels.length:0;if(i){var s=this.hls;s.autoLevelCapping=this.getMaxLevel(i-1),s.autoLevelCapping>this.autoLevelCapping&&s.streamController.nextLevelSwitch(),this.autoLevelCapping=s.autoLevelCapping}}},d.getMaxLevel=function(i){var s=this;if(!this.levels)return-1;var h=this.levels.filter(function(y,R){return g.isLevelAllowed(R,s.restrictedLevels)&&R<=i});return this.clientRect=null,g.getMaxLevelByMediaSize(h,this.mediaWidth,this.mediaHeight)},d.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},d.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},d.getDimensions=function(){if(this.clientRect)return this.clientRect;var i=this.media,s={width:0,height:0};if(i){var h=i.getBoundingClientRect();s.width=h.width,s.height=h.height,!s.width&&!s.height&&(s.width=h.right-h.left||i.width||0,s.height=h.bottom-h.top||i.height||0)}return this.clientRect=s,s},g.isLevelAllowed=function(i,s){return s===void 0&&(s=[]),s.indexOf(i)===-1},g.getMaxLevelByMediaSize=function(i,s,h){if(!i||i&&!i.length)return-1;for(var y=function(U,Y){return Y?U.width!==Y.width||U.height!==Y.height:!0},R=i.length-1,b=0;b<i.length;b+=1){var O=i[b];if((O.width>=s||O.height>=h)&&y(O,i[b+1])){R=b;break}}return R},Yy(g,[{key:"mediaWidth",get:function(){return this.getDimensions().width*g.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*g.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var i=1;try{i=window.devicePixelRatio}catch{}return i}}]),g}(E),Zy=Jy;function ex(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var tx=window,rx=tx.performance,nx=function(S){ex(g,S);function g(l){return S.call(this,l,c.default.MEDIA_ATTACHING)||this}var d=g.prototype;return d.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},d.onMediaAttaching=function(i){var s=this.hls.config;if(s.capLevelOnFPSDrop){var h=this.video=i.media instanceof window.HTMLVideoElement?i.media:null;typeof h.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),s.fpsDroppedMonitoringPeriod)}},d.checkFPS=function(i,s,h){var y=rx.now();if(s){if(this.lastTime){var R=y-this.lastTime,b=h-this.lastDroppedFrames,O=s-this.lastDecodedFrames,B=1e3*b/R,U=this.hls;if(U.trigger(c.default.FPS_DROP,{currentDropped:b,currentDecoded:O,totalDroppedFrames:h}),B>0&&b>U.config.fpsDroppedMonitoringThreshold*O){var Y=U.currentLevel;p.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+Y),Y>0&&(U.autoLevelCapping===-1||U.autoLevelCapping>=Y)&&(Y=Y-1,U.trigger(c.default.FPS_DROP_LEVEL_CAPPING,{level:Y,droppedLevel:U.currentLevel}),U.autoLevelCapping=Y,U.streamController.nextLevelSwitch())}}this.lastTime=y,this.lastDroppedFrames=h,this.lastDecodedFrames=s}},d.checkFPSInterval=function(){var i=this.video;if(i)if(this.isVideoPlaybackQualityAvailable){var s=i.getVideoPlaybackQuality();this.checkFPS(i,s.totalVideoFrames,s.droppedVideoFrames)}else this.checkFPS(i,i.webkitDecodedFrameCount,i.webkitDroppedFrameCount)},g}(E),ix=nx,ax=function(){function S(d){d&&d.xhrSetup&&(this.xhrSetup=d.xhrSetup)}var g=S.prototype;return g.destroy=function(){this.abort(),this.loader=null},g.abort=function(){var l=this.loader;l&&l.readyState!==4&&(this.stats.aborted=!0,l.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},g.load=function(l,i,s){this.context=l,this.config=i,this.callbacks=s,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=i.retryDelay,this.loadInternal()},g.loadInternal=function(){var l,i=this.context;l=this.loader=new window.XMLHttpRequest;var s=this.stats;s.tfirst=0,s.loaded=0;var h=this.xhrSetup;try{if(h)try{h(l,i.url)}catch{l.open("GET",i.url,!0),h(l,i.url)}l.readyState||l.open("GET",i.url,!0)}catch(y){this.callbacks.onError({code:l.status,text:y.message},i,l);return}i.rangeEnd&&l.setRequestHeader("Range","bytes="+i.rangeStart+"-"+(i.rangeEnd-1)),l.onreadystatechange=this.readystatechange.bind(this),l.onprogress=this.loadprogress.bind(this),l.responseType=i.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),l.send()},g.readystatechange=function(l){var i=l.currentTarget,s=i.readyState,h=this.stats,y=this.context,R=this.config;if(!h.aborted&&s>=2)if(window.clearTimeout(this.requestTimeout),h.tfirst===0&&(h.tfirst=Math.max(window.performance.now(),h.trequest)),s===4){var b=i.status;if(b>=200&&b<300){h.tload=Math.max(h.tfirst,window.performance.now());var O,B;y.responseType==="arraybuffer"?(O=i.response,B=O.byteLength):(O=i.responseText,B=O.length),h.loaded=h.total=B;var U={url:i.responseURL,data:O};this.callbacks.onSuccess(U,h,y,i)}else h.retry>=R.maxRetry||b>=400&&b<499?(p.logger.error(b+" while loading "+y.url),this.callbacks.onError({code:b,text:i.statusText},y,i)):(p.logger.warn(b+" while loading "+y.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,R.maxRetryDelay),h.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),R.timeout)},g.loadtimeout=function(){p.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},g.loadprogress=function(l){var i=l.currentTarget,s=this.stats;s.loaded=l.loaded,l.lengthComputable&&(s.total=l.total);var h=this.callbacks.onProgress;h&&h(s,this.context,null,i)},S}(),ox=ax;function hh(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function sx(S,g,d){return g&&hh(S.prototype,g),d&&hh(S,d),S}function lx(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var ux=function(S){lx(g,S);function g(l){var i;return i=S.call(this,l,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.AUDIO_TRACK_LOADED,c.default.AUDIO_TRACK_SWITCHED,c.default.LEVEL_LOADED,c.default.ERROR)||this,i._trackId=-1,i._selectDefaultTrack=!0,i.tracks=[],i.trackIdBlacklist=Object.create(null),i.audioGroupId=null,i}var d=g.prototype;return d.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},d.onManifestParsed=function(i){var s=this.tracks=i.audioTracks||[];this.hls.trigger(c.default.AUDIO_TRACKS_UPDATED,{audioTracks:s}),this._selectAudioGroup(this.hls.nextLoadLevel)},d.onAudioTrackLoaded=function(i){if(i.id>=this.tracks.length){p.logger.warn("Invalid audio track id:",i.id);return}if(p.logger.log("audioTrack "+i.id+" loaded"),this.tracks[i.id].details=i.details,i.details.live&&!this.hasInterval()){var s=i.details.targetduration*1e3;this.setInterval(s)}!i.details.live&&this.hasInterval()&&this.clearInterval()},d.onAudioTrackSwitched=function(i){var s=this.tracks[i.id].groupId;s&&this.audioGroupId!==s&&(this.audioGroupId=s)},d.onLevelLoaded=function(i){this._selectAudioGroup(i.level)},d.onError=function(i){i.type===f.ErrorTypes.NETWORK_ERROR&&(i.fatal&&this.clearInterval(),i.details===f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(p.logger.warn("Network failure on audio-track id:",i.context.id),this._handleLoadError()))},d._setAudioTrack=function(i){if(this._trackId===i&&this.tracks[this._trackId].details){p.logger.debug("Same id as current audio-track passed, and track details available -> no-op");return}if(i<0||i>=this.tracks.length){p.logger.warn("Invalid id passed to audio-track controller");return}var s=this.tracks[i];p.logger.log("Now switching to audio-track index "+i),this.clearInterval(),this._trackId=i;var h=s.url,y=s.type,R=s.id;this.hls.trigger(c.default.AUDIO_TRACK_SWITCHING,{id:R,type:y,url:h}),this._loadTrackDetailsIfNeeded(s)},d.doTick=function(){this._updateTrack(this._trackId)},d._selectAudioGroup=function(i){var s=this.hls.levels[i];if(!(!s||!s.audioGroupIds)){var h=s.audioGroupIds[s.urlId];this.audioGroupId!==h&&(this.audioGroupId=h,this._selectInitialAudioTrack())}},d._selectInitialAudioTrack=function(){var i=this,s=this.tracks;if(s.length){var h=this.tracks[this._trackId],y=null;if(h&&(y=h.name),this._selectDefaultTrack){var R=s.filter(function(B){return B.default});R.length?s=R:p.logger.warn("No default audio tracks defined")}var b=!1,O=function(){s.forEach(function(U){b||(!i.audioGroupId||U.groupId===i.audioGroupId)&&(!y||y===U.name)&&(i._setAudioTrack(U.id),b=!0)})};O(),b||(y=null,O()),b||(p.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},d._needsTrackLoading=function(i){var s=i.details,h=i.url;return!s||s.live?!!h:!1},d._loadTrackDetailsIfNeeded=function(i){if(this._needsTrackLoading(i)){var s=i.url,h=i.id;p.logger.log("loading audio-track playlist for id: "+h),this.hls.trigger(c.default.AUDIO_TRACK_LOADING,{url:s,id:h})}},d._updateTrack=function(i){if(!(i<0||i>=this.tracks.length)){this.clearInterval(),this._trackId=i,p.logger.log("trying to update audio-track "+i);var s=this.tracks[i];this._loadTrackDetailsIfNeeded(s)}},d._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var i=this._trackId,s=this.tracks[i],h=s.name,y=s.language,R=s.groupId;p.logger.warn("Loading failed on audio track id: "+i+", group-id: "+R+', name/language: "'+h+'" / "'+y+'"');for(var b=i,O=0;O<this.tracks.length;O++)if(!this.trackIdBlacklist[O]){var B=this.tracks[O];if(B.name===h){b=O;break}}if(b===i){p.logger.warn('No fallback audio-track found for name/language: "'+h+'" / "'+y+'"');return}p.logger.log("Attempting audio-track fallback id:",b,"group-id:",this.tracks[b].groupId),this._setAudioTrack(b)},sx(g,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(i){this._setAudioTrack(i),this._selectDefaultTrack=!1}}]),g}(Wr),cx=ux;function ph(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function fx(S,g,d){return g&&ph(S.prototype,g),d&&ph(S,d),S}function dx(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var hx=window,_a=hx.performance,vh=100,px=function(S){dx(g,S);function g(l,i){var s;return s=S.call(this,l,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.AUDIO_TRACKS_UPDATED,c.default.AUDIO_TRACK_SWITCHING,c.default.AUDIO_TRACK_LOADED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.BUFFER_RESET,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED,c.default.INIT_PTS_FOUND)||this,s.fragmentTracker=i,s.config=l.config,s.audioCodecSwap=!1,s._state=oe.STOPPED,s.initPTS=[],s.waitingFragment=null,s.videoTrackCC=null,s.waitingVideoCC=null,s}var d=g.prototype;return d.onInitPtsFound=function(i){var s=i.id,h=i.frag.cc,y=i.initPTS;s==="main"&&(this.initPTS[h]=y,this.videoTrackCC=h,p.logger.log("InitPTS for cc: "+h+" found from main: "+y),this.state===oe.WAITING_INIT_PTS&&this.tick())},d.startLoad=function(i){if(this.tracks){var s=this.lastCurrentTime;this.stopLoad(),this.setInterval(vh),this.fragLoadError=0,s>0&&i===-1?(p.logger.log("audio:override startPosition with lastCurrentTime @"+s.toFixed(3)),this.state=oe.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:i,this.state=oe.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=i,this.state=oe.STOPPED},d.doTick=function(){var i,s,h,y=this.hls,R=y.config;switch(this.state){case oe.ERROR:case oe.PAUSED:case oe.BUFFER_FLUSHING:break;case oe.STARTING:this.state=oe.WAITING_TRACK,this.loadedmetadata=!1;break;case oe.IDLE:var b=this.tracks;if(!b||!this.media&&(this.startFragRequested||!R.startFragPrefetch))break;if(this.loadedmetadata)i=this.media.currentTime;else if(i=this.nextLoadPosition,i===void 0)break;var O=this.mediaBuffer?this.mediaBuffer:this.media,B=this.videoBuffer?this.videoBuffer:this.media,U=i<R.maxBufferHole?Math.max(Vt,R.maxBufferHole):R.maxBufferHole,Y=G.bufferInfo(O,i,U),ne=G.bufferInfo(B,i,U),ve=Y.len,xe=Y.end,ke=this.fragPrevious,Re=Math.min(R.maxBufferLength,R.maxMaxBufferLength),Me=Math.max(Re,ne.len),Ne=this.audioSwitch,Ye=this.trackId;if((ve<Me||Ne)&&Ye<b.length){if(h=b[Ye].details,typeof h>"u"){this.state=oe.WAITING_TRACK;break}if(!Ne&&this._streamEnded(Y,h)){this.hls.trigger(c.default.BUFFER_EOS,{type:"audio"}),this.state=oe.ENDED;return}var Rt=h.fragments,mr=Rt.length,Wt=Rt[0].start,an=Rt[mr-1].start+Rt[mr-1].duration,Pe;if(Ne){if(h.live&&!h.PTSKnown)p.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),xe=0;else if(xe=i,h.PTSKnown&&i<Wt)if(Y.end>Wt||Y.nextStart)p.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=Wt+.05;else return}if(h.initSegment&&!h.initSegment.data)Pe=h.initSegment;else if(xe<=Wt){if(Pe=Rt[0],this.videoTrackCC!==null&&Pe.cc!==this.videoTrackCC&&(Pe=We(Rt,this.videoTrackCC)),h.live&&Pe.loadIdx&&Pe.loadIdx===this.fragLoadIdx){var Ke=Y.nextStart?Y.nextStart:Wt;p.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(Ke+.05)),this.media.currentTime=Ke+.05;return}}else{var Ot,Ii=R.maxFragLookUpTolerance,Fi=ke?Rt[ke.sn-Rt[0].sn+1]:void 0;xe<an?(xe>an-Ii&&(Ii=0),Fi&&!ut(xe,Ii,Fi)?Ot=Fi:Ot=X.search(Rt,function(lE){return ut(xe,Ii,lE)})):Ot=Rt[mr-1],Ot&&(Pe=Ot,Wt=Ot.start,ke&&Pe.level===ke.level&&Pe.sn===ke.sn&&(Pe.sn<h.endSN?(Pe=Rt[Pe.sn+1-h.startSN],this.fragmentTracker.getState(Pe)!==ht.OK&&p.logger.log("SN just loaded, load next one: "+Pe.sn)):Pe=null))}Pe&&(Pe.encrypted?(p.logger.log("Loading key for "+Pe.sn+" of ["+h.startSN+" ,"+h.endSN+"],track "+Ye),this.state=oe.KEY_LOADING,y.trigger(c.default.KEY_LOADING,{frag:Pe})):(this.fragCurrent=Pe,(Ne||this.fragmentTracker.getState(Pe)===ht.NOT_LOADED)&&(p.logger.log("Loading "+Pe.sn+", cc: "+Pe.cc+" of ["+h.startSN+" ,"+h.endSN+"],track "+Ye+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+i+", bufferEnd: "+xe.toFixed(3)),Pe.sn!=="initSegment"&&(this.startFragRequested=!0),Object(v.isFiniteNumber)(Pe.sn)&&(this.nextLoadPosition=Pe.start+Pe.duration),y.trigger(c.default.FRAG_LOADING,{frag:Pe}),this.state=oe.FRAG_LOADING)))}break;case oe.WAITING_TRACK:s=this.tracks[this.trackId],s&&s.details&&(this.state=oe.IDLE);break;case oe.FRAG_LOADING_WAITING_RETRY:var ba=_a.now(),is=this.retryDate;O=this.media;var oE=O&&O.seeking;(!is||ba>=is||oE)&&(p.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=oe.IDLE);break;case oe.WAITING_INIT_PTS:var Ca=this.waitingFragment;if(Ca){var Mu=Ca.frag.cc;if(this.initPTS[Mu]!==void 0)this.waitingFragment=null,this.state=oe.FRAG_LOADING,this.onFragLoaded(Ca);else if(this.videoTrackCC!==this.waitingVideoCC)p.logger.log("Waiting fragment cc ("+Mu+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var jh=G.bufferInfo(this.mediaBuffer,this.media.currentTime,R.maxBufferHole),sE=ut(jh.end,R.maxFragLookUpTolerance,Ca.frag);sE<0&&(p.logger.log("Waiting fragment cc ("+Mu+") @ "+Ca.frag.start+" cancelled because another fragment at "+jh.end+" is needed"),this.clearWaitingFragment())}}else this.state=oe.IDLE;break}},d.clearWaitingFragment=function(){var i=this.waitingFragment;i&&(this.fragmentTracker.removeFragment(i.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=oe.IDLE)},d.onMediaAttached=function(i){var s=this.media=this.mediaBuffer=i.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),s.addEventListener("seeking",this.onvseeking),s.addEventListener("ended",this.onvended);var h=this.config;this.tracks&&h.autoStartLoad&&this.startLoad(h.startPosition)},d.onMediaDetaching=function(){var i=this.media;i&&i.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},d.onAudioTracksUpdated=function(i){p.logger.log("audio tracks updated"),this.tracks=i.audioTracks},d.onAudioTrackSwitching=function(i){var s=!!i.url;this.trackId=i.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state=oe.PAUSED,s?this.setInterval(vh):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),s&&(this.audioSwitch=!0,this.state=oe.IDLE),this.tick()},d.onAudioTrackLoaded=function(i){var s=i.details,h=i.id,y=this.tracks[h],R=y.details,b=s.totalduration,O=0;if(p.logger.log("track "+h+" loaded ["+s.startSN+","+s.endSN+"],duration:"+b),s.live||R&&R.live?R&&s.fragments.length>0?(Se(R,s),O=s.fragments[0].start,s.PTSKnown?p.logger.log("live audio playlist sliding:"+O.toFixed(3)):p.logger.log("live audio playlist - outdated PTS, unknown sliding")):(s.PTSKnown=!1,p.logger.log("live audio playlist - first load, unknown sliding")):s.PTSKnown=!1,y.details=s,!this.startFragRequested){if(this.startPosition===-1){var B=s.startTimeOffset;Object(v.isFiniteNumber)(B)?(p.logger.log("start time offset found in playlist, adjust startPosition to "+B),this.startPosition=B):s.live?(this.startPosition=this.computeLivePosition(O,s),p.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===oe.WAITING_TRACK&&(this.state=oe.IDLE),this.tick()},d.onKeyLoaded=function(){this.state===oe.KEY_LOADING&&(this.state=oe.IDLE,this.tick())},d.onFragLoaded=function(i){var s=this.fragCurrent,h=i.frag;if(this.state===oe.FRAG_LOADING&&s&&h.type==="audio"&&h.level===s.level&&h.sn===s.sn){var y=this.tracks[this.trackId],R=y.details,b=R.totalduration,O=s.level,B=s.sn,U=s.cc,Y=this.config.defaultAudioCodec||y.audioCodec||"mp4a.40.2",ne=this.stats=i.stats;if(B==="initSegment")this.state=oe.IDLE,ne.tparsed=ne.tbuffered=_a.now(),R.initSegment.data=i.payload,this.hls.trigger(c.default.FRAG_BUFFERED,{stats:ne,frag:s,id:"audio"}),this.tick();else{this.state=oe.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ie(this.hls,"audio"));var ve=this.initPTS[U],xe=R.initSegment?R.initSegment.data:[];if(ve!==void 0){this.pendingBuffering=!0,p.logger.log("Demuxing "+B+" of ["+R.startSN+" ,"+R.endSN+"],track "+O);var ke=!1;this.demuxer.push(i.payload,xe,Y,null,s,b,ke,ve)}else p.logger.log("Unknown video PTS for cc "+U+", waiting for video PTS before demuxing audio frag "+B+" of ["+R.startSN+" ,"+R.endSN+"],track "+O),this.waitingFragment=i,this.waitingVideoCC=this.videoTrackCC,this.state=oe.WAITING_INIT_PTS}}this.fragLoadError=0},d.onFragParsingInitSegment=function(i){var s=this.fragCurrent,h=i.frag;if(s&&i.id==="audio"&&h.sn===s.sn&&h.level===s.level&&this.state===oe.PARSING){var y=i.tracks,R;if(y.video&&delete y.video,R=y.audio,R){R.levelCodec=R.codec,R.id=i.id,this.hls.trigger(c.default.BUFFER_CODECS,y),p.logger.log("audio track:audio,container:"+R.container+",codecs[level/parsed]=["+R.levelCodec+"/"+R.codec+"]");var b=R.initSegment;if(b){var O={type:"audio",data:b,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[O]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c.default.BUFFER_APPENDING,O))}this.tick()}}},d.onFragParsingData=function(i){var s=this,h=this.fragCurrent,y=i.frag;if(h&&i.id==="audio"&&i.type==="audio"&&y.sn===h.sn&&y.level===h.level&&this.state===oe.PARSING){var R=this.trackId,b=this.tracks[R],O=this.hls;Object(v.isFiniteNumber)(i.endPTS)||(i.endPTS=i.startPTS+h.duration,i.endDTS=i.startDTS+h.duration),h.addElementaryStream(I.AUDIO),p.logger.log("parsed "+i.type+",PTS:["+i.startPTS.toFixed(3)+","+i.endPTS.toFixed(3)+"],DTS:["+i.startDTS.toFixed(3)+"/"+i.endDTS.toFixed(3)+"],nb:"+i.nb),te(b.details,h,i.startPTS,i.endPTS);var B=this.media,U=!1;if(this.audioSwitch)if(B&&B.readyState){var Y=B.currentTime;p.logger.log("switching audio track : currentTime:"+Y),Y>=i.startPTS&&(p.logger.log("switching audio track : flushing all audio"),this.state=oe.BUFFER_FLUSHING,O.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),U=!0,this.audioSwitch=!1,O.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:R}))}else this.audioSwitch=!1,O.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:R});var ne=this.pendingData;if(!ne){p.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),O.trigger(c.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});return}this.audioSwitch||([i.data1,i.data2].forEach(function(ve){ve&&ve.length&&ne.push({type:i.type,data:ve,parent:"audio",content:"data"})}),!U&&ne.length&&(ne.forEach(function(ve){s.state===oe.PARSING&&(s.pendingBuffering=!0,s.hls.trigger(c.default.BUFFER_APPENDING,ve))}),this.pendingData=[],this.appended=!0)),this.tick()}},d.onFragParsed=function(i){var s=this.fragCurrent,h=i.frag;s&&i.id==="audio"&&h.sn===s.sn&&h.level===s.level&&this.state===oe.PARSING&&(this.stats.tparsed=_a.now(),this.state=oe.PARSED,this._checkAppendedParsed())},d.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},d.onBufferCreated=function(i){var s=i.tracks.audio;s&&(this.mediaBuffer=s.buffer,this.loadedmetadata=!0),i.tracks.video&&(this.videoBuffer=i.tracks.video.buffer)},d.onBufferAppended=function(i){if(i.parent==="audio"){var s=this.state;(s===oe.PARSING||s===oe.PARSED)&&(this.pendingBuffering=i.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(this.state===oe.PARSED&&(!this.appended||!this.pendingBuffering)){var i=this.fragCurrent,s=this.stats,h=this.hls;if(i){this.fragPrevious=i,s.tbuffered=_a.now(),h.trigger(c.default.FRAG_BUFFERED,{stats:s,frag:i,id:"audio"});var y=this.mediaBuffer?this.mediaBuffer:this.media;y&&p.logger.log("audio buffered : "+Ge.toString(y.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,h.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=oe.IDLE}this.tick()}},d.onError=function(i){var s=i.frag;if(!(s&&s.type!=="audio"))switch(i.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:var h=i.frag;if(h&&h.type!=="audio")break;if(!i.fatal){var y=this.fragLoadError;y?y++:y=1;var R=this.config;if(y<=R.fragLoadingMaxRetry){this.fragLoadError=y;var b=Math.min(Math.pow(2,y-1)*R.fragLoadingRetryDelay,R.fragLoadingMaxRetryTimeout);p.logger.warn("AudioStreamController: frag loading failed, retry in "+b+" ms"),this.retryDate=_a.now()+b,this.state=oe.FRAG_LOADING_WAITING_RETRY}else p.logger.error("AudioStreamController: "+i.details+" reaches max retry, redispatch as fatal ..."),i.fatal=!0,this.state=oe.ERROR}break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==oe.ERROR&&(this.state=i.fatal?oe.ERROR:oe.IDLE,p.logger.warn("AudioStreamController: "+i.details+" while loading frag, now switching to "+this.state+" state ..."));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if(i.parent==="audio"&&(this.state===oe.PARSING||this.state===oe.PARSED)){var O=this.mediaBuffer,B=this.media.currentTime,U=O&&G.isBuffered(O,B)&&G.isBuffered(O,B+.5);if(U){var Y=this.config;Y.maxMaxBufferLength>=Y.maxBufferLength&&(Y.maxMaxBufferLength/=2,p.logger.warn("AudioStreamController: reduce max buffer length to "+Y.maxMaxBufferLength+"s")),this.state=oe.IDLE}else p.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=oe.BUFFER_FLUSHING,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}break}},d.onBufferFlushed=function(){var i=this,s=this.pendingData;s&&s.length?(p.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),s.forEach(function(h){i.hls.trigger(c.default.BUFFER_APPENDING,h)}),this.appended=!0,this.pendingData=[],this.state=oe.PARSED):(this.state=oe.IDLE,this.fragPrevious=null,this.tick())},fx(g,[{key:"state",set:function(i){if(this.state!==i){var s=this.state;this._state=i,p.logger.log("audio stream:"+s+"->"+i)}},get:function(){return this._state}}]),g}(or),vx=px,gh=function(){if(typeof window<"u"&&window.VTTCue)return window.VTTCue;var S="auto",g={"":!0,lr:!0,rl:!0},d={start:!0,middle:!0,end:!0,left:!0,right:!0};function l(y){if(typeof y!="string")return!1;var R=g[y.toLowerCase()];return R?y.toLowerCase():!1}function i(y){if(typeof y!="string")return!1;var R=d[y.toLowerCase()];return R?y.toLowerCase():!1}function s(y){for(var R=1;R<arguments.length;R++){var b=arguments[R];for(var O in b)y[O]=b[O]}return y}function h(y,R,b){var O=this,B={};B.enumerable=!0,O.hasBeenReset=!1;var U="",Y=!1,ne=y,ve=R,xe=b,ke=null,Re="",Me=!0,Ne="auto",Ye="start",Rt=50,mr="middle",Wt=50,an="middle";Object.defineProperty(O,"id",s({},B,{get:function(){return U},set:function(Ke){U=""+Ke}})),Object.defineProperty(O,"pauseOnExit",s({},B,{get:function(){return Y},set:function(Ke){Y=!!Ke}})),Object.defineProperty(O,"startTime",s({},B,{get:function(){return ne},set:function(Ke){if(typeof Ke!="number")throw new TypeError("Start time must be set to a number.");ne=Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"endTime",s({},B,{get:function(){return ve},set:function(Ke){if(typeof Ke!="number")throw new TypeError("End time must be set to a number.");ve=Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"text",s({},B,{get:function(){return xe},set:function(Ke){xe=""+Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"region",s({},B,{get:function(){return ke},set:function(Ke){ke=Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"vertical",s({},B,{get:function(){return Re},set:function(Ke){var Ot=l(Ke);if(Ot===!1)throw new SyntaxError("An invalid or illegal string was specified.");Re=Ot,this.hasBeenReset=!0}})),Object.defineProperty(O,"snapToLines",s({},B,{get:function(){return Me},set:function(Ke){Me=!!Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"line",s({},B,{get:function(){return Ne},set:function(Ke){if(typeof Ke!="number"&&Ke!==S)throw new SyntaxError("An invalid number or illegal string was specified.");Ne=Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"lineAlign",s({},B,{get:function(){return Ye},set:function(Ke){var Ot=i(Ke);if(!Ot)throw new SyntaxError("An invalid or illegal string was specified.");Ye=Ot,this.hasBeenReset=!0}})),Object.defineProperty(O,"position",s({},B,{get:function(){return Rt},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Position must be between 0 and 100.");Rt=Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"positionAlign",s({},B,{get:function(){return mr},set:function(Ke){var Ot=i(Ke);if(!Ot)throw new SyntaxError("An invalid or illegal string was specified.");mr=Ot,this.hasBeenReset=!0}})),Object.defineProperty(O,"size",s({},B,{get:function(){return Wt},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Size must be between 0 and 100.");Wt=Ke,this.hasBeenReset=!0}})),Object.defineProperty(O,"align",s({},B,{get:function(){return an},set:function(Ke){var Ot=i(Ke);if(!Ot)throw new SyntaxError("An invalid or illegal string was specified.");an=Ot,this.hasBeenReset=!0}})),O.displayState=void 0}return h.prototype.getCueAsHTML=function(){var y=window.WebVTT;return y.convertCueToDOMTree(window,this.text)},h}(),gx=function(){return{decode:function(d){if(!d)return"";if(typeof d!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(d))}}};function mh(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new gx,this.regionList=[]}function mx(S){function g(l,i,s,h){return(l|0)*3600+(i|0)*60+(s|0)+(h|0)/1e3}var d=S.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return d?d[3]?g(d[1],d[2],d[3].replace(":",""),d[4]):d[1]>59?g(d[1],d[2],0,d[4]):g(0,d[1],d[2],d[4]):null}function yh(){this.values=Object.create(null)}yh.prototype={set:function(g,d){!this.get(g)&&d!==""&&(this.values[g]=d)},get:function(g,d,l){return l?this.has(g)?this.values[g]:d[l]:this.has(g)?this.values[g]:d},has:function(g){return g in this.values},alt:function(g,d,l){for(var i=0;i<l.length;++i)if(d===l[i]){this.set(g,d);break}},integer:function(g,d){/^-?\d+$/.test(d)&&this.set(g,parseInt(d,10))},percent:function(g,d){return d.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(d=parseFloat(d),d>=0&&d<=100)?(this.set(g,d),!0):!1}};function xh(S,g,d,l){var i=l?S.split(l):[S];for(var s in i)if(typeof i[s]=="string"){var h=i[s].split(d);if(h.length===2){var y=h[0],R=h[1];g(y,R)}}}var ku=new gh(0,0,0),ts=ku.align==="middle"?"middle":"center";function yx(S,g,d){var l=S;function i(){var y=mx(S);if(y===null)throw new Error("Malformed timestamp: "+l);return S=S.replace(/^[^\sa-zA-Z-]+/,""),y}function s(y,R){var b=new yh;xh(y,function(U,Y){switch(U){case"region":for(var ne=d.length-1;ne>=0;ne--)if(d[ne].id===Y){b.set(U,d[ne].region);break}break;case"vertical":b.alt(U,Y,["rl","lr"]);break;case"line":var ve=Y.split(","),xe=ve[0];b.integer(U,xe),b.percent(U,xe)&&b.set("snapToLines",!1),b.alt(U,xe,["auto"]),ve.length===2&&b.alt("lineAlign",ve[1],["start",ts,"end"]);break;case"position":ve=Y.split(","),b.percent(U,ve[0]),ve.length===2&&b.alt("positionAlign",ve[1],["start",ts,"end","line-left","line-right","auto"]);break;case"size":b.percent(U,Y);break;case"align":b.alt(U,Y,["start",ts,"end","left","right"]);break}},/:/,/\s/),R.region=b.get("region",null),R.vertical=b.get("vertical","");var O=b.get("line","auto");O==="auto"&&ku.line===-1&&(O=-1),R.line=O,R.lineAlign=b.get("lineAlign","start"),R.snapToLines=b.get("snapToLines",!0),R.size=b.get("size",100),R.align=b.get("align",ts);var B=b.get("position","auto");B==="auto"&&ku.position===50&&(B=R.align==="start"||R.align==="left"?0:R.align==="end"||R.align==="right"?100:50),R.position=B}function h(){S=S.replace(/^\s+/,"")}if(h(),g.startTime=i(),h(),S.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+l);S=S.substr(3),h(),g.endTime=i(),h(),s(S,g)}function Eh(S){return S.replace(/<br(?: \/)?>/gi,`
`)}mh.prototype={parse:function(g){var d=this;g&&(d.buffer+=d.decoder.decode(g,{stream:!0}));function l(){var b=d.buffer,O=0;for(b=Eh(b);O<b.length&&b[O]!=="\r"&&b[O]!==`
`;)++O;var B=b.substr(0,O);return b[O]==="\r"&&++O,b[O]===`
`&&++O,d.buffer=b.substr(O),B}function i(b){xh(b,function(O,B){},/:/)}try{var s;if(d.state==="INITIAL"){if(!/\r\n|\n/.test(d.buffer))return this;s=l();var h=s.match(/^()?WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new Error("Malformed WebVTT signature.");d.state="HEADER"}for(var y=!1;d.buffer;){if(!/\r\n|\n/.test(d.buffer))return this;switch(y?y=!1:s=l(),d.state){case"HEADER":/:/.test(s)?i(s):s||(d.state="ID");continue;case"NOTE":s||(d.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){d.state="NOTE";break}if(!s)continue;if(d.cue=new gh(0,0,""),d.state="CUE",s.indexOf("-->")===-1){d.cue.id=s;continue}case"CUE":try{yx(s,d.cue,d.regionList)}catch{d.cue=null,d.state="BADCUE";continue}d.state="CUETEXT";continue;case"CUETEXT":var R=s.indexOf("-->")!==-1;if(!s||R&&(y=!0)){d.oncue&&d.oncue(d.cue),d.cue=null,d.state="ID";continue}d.cue.text&&(d.cue.text+=`
`),d.cue.text+=s;continue;case"BADCUE":s||(d.state="ID");continue}}}catch{d.state==="CUETEXT"&&d.cue&&d.oncue&&d.oncue(d.cue),d.cue=null,d.state=d.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var g=this;try{if(g.buffer+=g.decoder.decode(),(g.cue||g.state==="HEADER")&&(g.buffer+=`

`,g.parse()),g.state==="INITIAL")throw new Error("Malformed WebVTT signature.")}catch(d){throw d}return g.onflush&&g.onflush(),this}};var xx=mh;function Ex(S,g,d,l){for(var i=[],s,h,y,R,b,O=window.VTTCue||TextTrackCue,B=0;B<l.rows.length;B++)if(s=l.rows[B],y=!0,R=0,b="",!s.isEmpty()){for(var U=0;U<s.chars.length;U++)s.chars[U].uchar.match(/\s/)&&y?R++:(b+=s.chars[U].uchar,y=!1);s.cueStartTime=g,g===d&&(d+=1e-4),h=new O(g,d,Eh(b.trim())),R>=16?R--:R++,navigator.userAgent.match(/Firefox\//)?h.line=B+1:h.line=B>7?B-2:B+1,h.align="left",h.position=Math.max(0,Math.min(100,100*(R/32))),i.push(h),S&&S.addCue(h)}return i}var Sh={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ah=function(g){var d=g;return Sh.hasOwnProperty(g)&&(d=Sh[g]),String.fromCharCode(d)},Mr=15,nn=100,Sx={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ax={17:2,18:4,21:6,22:8,23:10,19:13,20:15},wx={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Tx={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Rx=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],He;(function(S){S[S.ERROR=0]="ERROR",S[S.TEXT=1]="TEXT",S[S.WARNING=2]="WARNING",S[S.INFO=2]="INFO",S[S.DEBUG=3]="DEBUG",S[S.DATA=3]="DATA"})(He||(He={}));var _x=function(){function S(){this.time=null,this.verboseLevel=He.ERROR}var g=S.prototype;return g.log=function(l,i){this.verboseLevel>=l&&p.logger.log(this.time+" ["+l+"] "+i)},S}(),li=function(g){for(var d=[],l=0;l<g.length;l++)d.push(g[l].toString(16));return d},wh=function(){function S(d,l,i,s,h){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=d||"white",this.underline=l||!1,this.italics=i||!1,this.background=s||"black",this.flash=h||!1}var g=S.prototype;return g.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},g.setStyles=function(l){for(var i=["foreground","underline","italics","background","flash"],s=0;s<i.length;s++){var h=i[s];l.hasOwnProperty(h)&&(this[h]=l[h])}},g.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},g.equals=function(l){return this.foreground===l.foreground&&this.underline===l.underline&&this.italics===l.italics&&this.background===l.background&&this.flash===l.flash},g.copy=function(l){this.foreground=l.foreground,this.underline=l.underline,this.italics=l.italics,this.background=l.background,this.flash=l.flash},g.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},S}(),bx=function(){function S(d,l,i,s,h,y){this.uchar=void 0,this.penState=void 0,this.uchar=d||" ",this.penState=new wh(l,i,s,h,y)}var g=S.prototype;return g.reset=function(){this.uchar=" ",this.penState.reset()},g.setChar=function(l,i){this.uchar=l,this.penState.copy(i)},g.setPenState=function(l){this.penState.copy(l)},g.equals=function(l){return this.uchar===l.uchar&&this.penState.equals(l.penState)},g.copy=function(l){this.uchar=l.uchar,this.penState.copy(l.penState)},g.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},S}(),Cx=function(){function S(d){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var l=0;l<nn;l++)this.chars.push(new bx);this.logger=d,this.pos=0,this.currPenState=new wh}var g=S.prototype;return g.equals=function(l){for(var i=!0,s=0;s<nn;s++)if(!this.chars[s].equals(l.chars[s])){i=!1;break}return i},g.copy=function(l){for(var i=0;i<nn;i++)this.chars[i].copy(l.chars[i])},g.isEmpty=function(){for(var l=!0,i=0;i<nn;i++)if(!this.chars[i].isEmpty()){l=!1;break}return l},g.setCursor=function(l){this.pos!==l&&(this.pos=l),this.pos<0?(this.logger.log(He.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>nn&&(this.logger.log(He.DEBUG,"Too large cursor position "+this.pos),this.pos=nn)},g.moveCursor=function(l){var i=this.pos+l;if(l>1)for(var s=this.pos+1;s<i+1;s++)this.chars[s].setPenState(this.currPenState);this.setCursor(i)},g.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},g.insertChar=function(l){l>=144&&this.backSpace();var i=Ah(l);if(this.pos>=nn){this.logger.log(He.ERROR,"Cannot insert "+l.toString(16)+" ("+i+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(i,this.currPenState),this.moveCursor(1)},g.clearFromPos=function(l){var i;for(i=l;i<nn;i++)this.chars[i].reset()},g.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},g.clearToEndOfRow=function(){this.clearFromPos(this.pos)},g.getTextString=function(){for(var l=[],i=!0,s=0;s<nn;s++){var h=this.chars[s].uchar;h!==" "&&(i=!1),l.push(h)}return i?"":l.join("")},g.setPenStyles=function(l){this.currPenState.setStyles(l);var i=this.chars[this.pos];i.setPenState(this.currPenState)},S}(),Lu=function(){function S(d){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var l=0;l<Mr;l++)this.rows.push(new Cx(d));this.logger=d,this.currRow=Mr-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var g=S.prototype;return g.reset=function(){for(var l=0;l<Mr;l++)this.rows[l].clear();this.currRow=Mr-1},g.equals=function(l){for(var i=!0,s=0;s<Mr;s++)if(!this.rows[s].equals(l.rows[s])){i=!1;break}return i},g.copy=function(l){for(var i=0;i<Mr;i++)this.rows[i].copy(l.rows[i])},g.isEmpty=function(){for(var l=!0,i=0;i<Mr;i++)if(!this.rows[i].isEmpty()){l=!1;break}return l},g.backSpace=function(){var l=this.rows[this.currRow];l.backSpace()},g.clearToEndOfRow=function(){var l=this.rows[this.currRow];l.clearToEndOfRow()},g.insertChar=function(l){var i=this.rows[this.currRow];i.insertChar(l)},g.setPen=function(l){var i=this.rows[this.currRow];i.setPenStyles(l)},g.moveCursor=function(l){var i=this.rows[this.currRow];i.moveCursor(l)},g.setCursor=function(l){this.logger.log(He.INFO,"setCursor: "+l);var i=this.rows[this.currRow];i.setCursor(l)},g.setPAC=function(l){this.logger.log(He.INFO,"pacData = "+JSON.stringify(l));var i=l.row-1;if(this.nrRollUpRows&&i<this.nrRollUpRows-1&&(i=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==i){for(var s=0;s<Mr;s++)this.rows[s].clear();var h=this.currRow+1-this.nrRollUpRows,y=this.lastOutputScreen;if(y){var R=y.rows[h].cueStartTime,b=this.logger.time;if(R&&b!==null&&R<b)for(var O=0;O<this.nrRollUpRows;O++)this.rows[i-this.nrRollUpRows+O+1].copy(y.rows[h+O])}}this.currRow=i;var B=this.rows[this.currRow];if(l.indent!==null){var U=l.indent,Y=Math.max(U-1,0);B.setCursor(l.indent),l.color=B.chars[Y].penState.foreground}var ne={foreground:l.color,underline:l.underline,italics:l.italics,background:"black",flash:!1};this.setPen(ne)},g.setBkgData=function(l){this.logger.log(He.INFO,"bkgData = "+JSON.stringify(l)),this.backSpace(),this.setPen(l),this.insertChar(32)},g.setRollUpRows=function(l){this.nrRollUpRows=l},g.rollUp=function(){if(this.nrRollUpRows===null){this.logger.log(He.DEBUG,"roll_up but nrRollUpRows not set yet");return}this.logger.log(He.TEXT,this.getDisplayText());var l=this.currRow+1-this.nrRollUpRows,i=this.rows.splice(l,1)[0];i.clear(),this.rows.splice(this.currRow,0,i),this.logger.log(He.INFO,"Rolling up")},g.getDisplayText=function(l){l=l||!1;for(var i=[],s="",h=-1,y=0;y<Mr;y++){var R=this.rows[y].getTextString();R&&(h=y+1,l?i.push("Row "+h+": '"+R+"'"):i.push(R.trim()))}return i.length>0&&(l?s="["+i.join(" | ")+"]":s=i.join(`
`)),s},g.getTextAndFormat=function(){return this.rows},S}(),Th=function(){function S(d,l,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=d,this.outputFilter=l,this.mode=null,this.verbose=0,this.displayedMemory=new Lu(i),this.nonDisplayedMemory=new Lu(i),this.lastOutputScreen=new Lu(i),this.currRollUpRow=this.displayedMemory.rows[Mr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}var g=S.prototype;return g.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Mr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},g.getHandler=function(){return this.outputFilter},g.setHandler=function(l){this.outputFilter=l},g.setPAC=function(l){this.writeScreen.setPAC(l)},g.setBkgData=function(l){this.writeScreen.setBkgData(l)},g.setMode=function(l){l!==this.mode&&(this.mode=l,this.logger.log(He.INFO,"MODE="+l),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=l)},g.insertChars=function(l){for(var i=0;i<l.length;i++)this.writeScreen.insertChar(l[i]);var s=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(He.INFO,s+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(He.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},g.ccRCL=function(){this.logger.log(He.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},g.ccBS=function(){this.logger.log(He.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},g.ccAOF=function(){},g.ccAON=function(){},g.ccDER=function(){this.logger.log(He.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},g.ccRU=function(l){this.logger.log(He.INFO,"RU("+l+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(l)},g.ccFON=function(){this.logger.log(He.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},g.ccRDC=function(){this.logger.log(He.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},g.ccTR=function(){this.logger.log(He.INFO,"TR"),this.setMode("MODE_TEXT")},g.ccRTD=function(){this.logger.log(He.INFO,"RTD"),this.setMode("MODE_TEXT")},g.ccEDM=function(){this.logger.log(He.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},g.ccCR=function(){this.logger.log(He.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},g.ccENM=function(){this.logger.log(He.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},g.ccEOC=function(){if(this.logger.log(He.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var l=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=l,this.writeScreen=this.nonDisplayedMemory,this.logger.log(He.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},g.ccTO=function(l){this.logger.log(He.INFO,"TO("+l+") - Tab Offset"),this.writeScreen.moveCursor(l)},g.ccMIDROW=function(l){var i={flash:!1};if(i.underline=l%2===1,i.italics=l>=46,i.italics)i.foreground="white";else{var s=Math.floor(l/2)-16,h=["white","green","blue","cyan","red","yellow","magenta"];i.foreground=h[s]}this.logger.log(He.INFO,"MIDROW: "+JSON.stringify(i)),this.writeScreen.setPen(i)},g.outputDataUpdate=function(l){l===void 0&&(l=!1);var i=this.logger.time;i!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=i:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,i,this.lastOutputScreen),l&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:i),this.lastOutputScreen.copy(this.displayedMemory))},g.cueSplitAtTime=function(l){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,l,this.displayedMemory),this.cueStartTime=l))},S}(),Dx=function(){function S(d,l,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var s=new _x;this.channels=[null,new Th(d,l,s),new Th(d+1,i,s)],this.cmdHistory=_h(),this.logger=s}var g=S.prototype;return g.getHandler=function(l){return this.channels[l].getHandler()},g.setHandler=function(l,i){this.channels[l].setHandler(i)},g.addData=function(l,i){var s,h,y,R=!1;this.logger.time=l;for(var b=0;b<i.length;b+=2)if(h=i[b]&127,y=i[b+1]&127,!(h===0&&y===0)){if(this.logger.log(He.DATA,"["+li([i[b],i[b+1]])+"] -> ("+li([h,y])+")"),s=this.parseCmd(h,y),s||(s=this.parseMidrow(h,y)),s||(s=this.parsePAC(h,y)),s||(s=this.parseBackgroundAttributes(h,y)),!s&&(R=this.parseChars(h,y),R)){var O=this.currentChannel;if(O&&O>0){var B=this.channels[O];B.insertChars(R)}else this.logger.log(He.WARNING,"No channel found yet. TEXT-MODE?")}!s&&!R&&this.logger.log(He.WARNING,"Couldn't parse cleaned data "+li([h,y])+" orig: "+li([i[b],i[b+1]]))}},g.parseCmd=function(l,i){var s=this.cmdHistory,h=(l===20||l===28||l===21||l===29)&&i>=32&&i<=47,y=(l===23||l===31)&&i>=33&&i<=35;if(!(h||y))return!1;if(Rh(l,i,s))return Pi(null,null,s),this.logger.log(He.DEBUG,"Repeated command ("+li([l,i])+") is dropped"),!0;var R=l===20||l===21||l===23?1:2,b=this.channels[R];return l===20||l===21||l===28||l===29?i===32?b.ccRCL():i===33?b.ccBS():i===34?b.ccAOF():i===35?b.ccAON():i===36?b.ccDER():i===37?b.ccRU(2):i===38?b.ccRU(3):i===39?b.ccRU(4):i===40?b.ccFON():i===41?b.ccRDC():i===42?b.ccTR():i===43?b.ccRTD():i===44?b.ccEDM():i===45?b.ccCR():i===46?b.ccENM():i===47&&b.ccEOC():b.ccTO(i-32),Pi(l,i,s),this.currentChannel=R,!0},g.parseMidrow=function(l,i){var s=0;if((l===17||l===25)&&i>=32&&i<=47){if(l===17?s=1:s=2,s!==this.currentChannel)return this.logger.log(He.ERROR,"Mismatch channel in midrow parsing"),!1;var h=this.channels[s];return h?(h.ccMIDROW(i),this.logger.log(He.DEBUG,"MIDROW ("+li([l,i])+")"),!0):!1}return!1},g.parsePAC=function(l,i){var s,h=this.cmdHistory,y=(l>=17&&l<=23||l>=25&&l<=31)&&i>=64&&i<=127,R=(l===16||l===24)&&i>=64&&i<=95;if(!(y||R))return!1;if(Rh(l,i,h))return Pi(null,null,h),!0;var b=l<=23?1:2;i>=64&&i<=95?s=b===1?Sx[l]:wx[l]:s=b===1?Ax[l]:Tx[l];var O=this.channels[b];return O?(O.setPAC(this.interpretPAC(s,i)),Pi(l,i,h),this.currentChannel=b,!0):!1},g.interpretPAC=function(l,i){var s=i,h={color:null,italics:!1,indent:null,underline:!1,row:l};return i>95?s=i-96:s=i-64,h.underline=(s&1)===1,s<=13?h.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(s/2)]:s<=15?(h.italics=!0,h.color="white"):h.indent=Math.floor((s-16)/2)*4,h},g.parseChars=function(l,i){var s,h=null,y=null;if(l>=25?(s=2,y=l-8):(s=1,y=l),y>=17&&y<=19){var R=i;y===17?R=i+80:y===18?R=i+112:R=i+144,this.logger.log(He.INFO,"Special char '"+Ah(R)+"' in channel "+s),h=[R]}else l>=32&&l<=127&&(h=i===0?[l]:[l,i]);if(h){var b=li(h);this.logger.log(He.DEBUG,"Char codes =  "+b.join(",")),Pi(l,i,this.cmdHistory)}return h},g.parseBackgroundAttributes=function(l,i){var s=(l===16||l===24)&&i>=32&&i<=47,h=(l===23||l===31)&&i>=45&&i<=47;if(!(s||h))return!1;var y,R={};l===16||l===24?(y=Math.floor((i-32)/2),R.background=Rx[y],i%2===1&&(R.background=R.background+"_semi")):i===45?R.background="transparent":(R.foreground="black",i===47&&(R.underline=!0));var b=l<=23?1:2,O=this.channels[b];return O.setBkgData(R),Pi(l,i,this.cmdHistory),!0},g.reset=function(){for(var l=0;l<Object.keys(this.channels).length;l++){var i=this.channels[l];i&&i.reset()}this.cmdHistory=_h()},g.cueSplitAtTime=function(l){for(var i=0;i<this.channels.length;i++){var s=this.channels[i];s&&s.cueSplitAtTime(l)}},S}();function Pi(S,g,d){d.a=S,d.b=g}function Rh(S,g,d){return d.a===S&&d.b===g}function _h(){return{a:null,b:null}}var bh=Dx,rs=function(){function S(d,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=d,this.trackName=l}var g=S.prototype;return g.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},g.newCue=function(l,i,s){(this.startTime===null||this.startTime>l)&&(this.startTime=l),this.endTime=i,this.screen=s,this.timelineController.createCaptionsTrack(this.trackName)},g.reset=function(){this.cueRanges=[]},S}(),Pu=function(g,d,l){return g.substr(l||0,d.length)===d},kx=function(g){var d=parseInt(g.substr(-3)),l=parseInt(g.substr(-6,2)),i=parseInt(g.substr(-9,2)),s=g.length>9?parseInt(g.substr(0,g.indexOf(":"))):0;if(!Object(v.isFiniteNumber)(d)||!Object(v.isFiniteNumber)(l)||!Object(v.isFiniteNumber)(i)||!Object(v.isFiniteNumber)(s))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+g);return d+=1e3*l,d+=60*1e3*i,d+=60*60*1e3*s,d},Ou=function(g){for(var d=5381,l=g.length;l;)d=d*33^g.charCodeAt(--l);return(d>>>0).toString()},Lx=function(g,d,l){var i=g[d],s=g[i.prevCC];if(!s||!s.new&&i.new){g.ccOffset=g.presentationOffset=i.start,i.new=!1;return}for(;s&&s.new;)g.ccOffset+=i.start-s.start,i.new=!1,i=s,s=g[i.prevCC];g.presentationOffset=l},Px={parse:function(g,d,l,i,s,h){var y=/\r\n|\n\r|\n|\r/g,R=Object(Ta.utf8ArrayToStr)(new Uint8Array(g)).trim().replace(y,`
`).split(`
`),b="00:00.000",O=0,B=0,U=0,Y=[],ne,ve=!0,xe=!1,ke=new xx;ke.oncue=function(Re){var Me=l[i],Ne=l.ccOffset;Me&&Me.new&&(B!==void 0?Ne=l.ccOffset=Me.start:Lx(l,i,U)),U&&(Ne=U-l.presentationOffset),xe&&(Re.startTime+=Ne-B,Re.endTime+=Ne-B),Re.id=Ou(Re.startTime.toString())+Ou(Re.endTime.toString())+Ou(Re.text),Re.text=decodeURIComponent(encodeURIComponent(Re.text)),Re.endTime>0&&Y.push(Re)},ke.onparsingerror=function(Re){ne=Re},ke.onflush=function(){if(ne&&h){h(ne);return}s(Y)},R.forEach(function(Re){if(ve)if(Pu(Re,"X-TIMESTAMP-MAP=")){ve=!1,xe=!0,Re.substr(16).split(",").forEach(function(Me){Pu(Me,"LOCAL:")?b=Me.substr(6):Pu(Me,"MPEGTS:")&&(O=parseInt(Me.substr(7)))});try{d+(l[i].start*9e4||0)<0&&(d+=8589934592),O-=d,B=kx(b)/1e3,U=O/9e4}catch(Me){xe=!1,ne=Me}return}else Re===""&&(ve=!1);ke.parse(Re+`
`)}),ke.flush()}},Ox=Px;function ns(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function Ix(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Fx=function(S){Ix(g,S);function g(l){var i;if(i=S.call(this,l,c.default.MEDIA_ATTACHING,c.default.MEDIA_DETACHING,c.default.FRAG_PARSING_USERDATA,c.default.FRAG_DECRYPTED,c.default.MANIFEST_LOADING,c.default.MANIFEST_LOADED,c.default.FRAG_LOADED,c.default.INIT_PTS_FOUND)||this,i.media=null,i.config=void 0,i.enabled=!0,i.Cues=void 0,i.textTracks=[],i.tracks=[],i.initPTS=[],i.unparsedVttFrags=[],i.captionsTracks={},i.nonNativeCaptionsTracks={},i.captionsProperties=void 0,i.cea608Parser1=void 0,i.cea608Parser2=void 0,i.lastSn=-1,i.prevCC=-1,i.vttCCs=Ch(),i.hls=l,i.config=l.config,i.Cues=l.config.cueHandler,i.captionsProperties={textTrack1:{label:i.config.captionsTextTrack1Label,languageCode:i.config.captionsTextTrack1LanguageCode},textTrack2:{label:i.config.captionsTextTrack2Label,languageCode:i.config.captionsTextTrack2LanguageCode},textTrack3:{label:i.config.captionsTextTrack3Label,languageCode:i.config.captionsTextTrack3LanguageCode},textTrack4:{label:i.config.captionsTextTrack4Label,languageCode:i.config.captionsTextTrack4LanguageCode}},i.config.enableCEA708Captions){var s=new rs(ns(i),"textTrack1"),h=new rs(ns(i),"textTrack2"),y=new rs(ns(i),"textTrack3"),R=new rs(ns(i),"textTrack4");i.cea608Parser1=new bh(1,s,h),i.cea608Parser2=new bh(3,y,R)}return i}var d=g.prototype;return d.addCues=function(i,s,h,y,R){for(var b=!1,O=R.length;O--;){var B=R[O],U=Nx(B[0],B[1],s,h);if(U>=0&&(B[0]=Math.min(B[0],s),B[1]=Math.max(B[1],h),b=!0,U/(h-s)>.5))return}if(b||R.push([s,h]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[i],s,h,y);else{var Y=this.Cues.newCue(null,s,h,y);this.hls.trigger(c.default.CUES_PARSED,{type:"captions",cues:Y,track:i})}},d.onInitPtsFound=function(i){var s=this,h=i.frag,y=i.id,R=i.initPTS,b=this.unparsedVttFrags;y==="main"&&(this.initPTS[h.cc]=R),b.length&&(this.unparsedVttFrags=[],b.forEach(function(O){s.onFragLoaded(O)}))},d.getExistingTrack=function(i){var s=this.media;if(s)for(var h=0;h<s.textTracks.length;h++){var y=s.textTracks[h];if(y[i])return y}return null},d.createCaptionsTrack=function(i){this.config.renderTextTracksNatively?this.createNativeTrack(i):this.createNonNativeTrack(i)},d.createNativeTrack=function(i){if(!this.captionsTracks[i]){var s=this.captionsProperties,h=this.captionsTracks,y=this.media,R=s[i],b=R.label,O=R.languageCode,B=this.getExistingTrack(i);if(B)h[i]=B,si(h[i]),ki(h[i],y);else{var U=this.createTextTrack("captions",b,O);U&&(U[i]=!0,h[i]=U)}}},d.createNonNativeTrack=function(i){if(!this.nonNativeCaptionsTracks[i]){var s=this.captionsProperties[i];if(s){var h=s.label,y={_id:i,label:h,kind:"captions",default:s.media?!!s.media.default:!1,closedCaptions:s.media};this.nonNativeCaptionsTracks[i]=y,this.hls.trigger(c.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[y]})}}},d.createTextTrack=function(i,s,h){var y=this.media;if(y)return y.addTextTrack(i,s,h)},d.destroy=function(){S.prototype.destroy.call(this)},d.onMediaAttaching=function(i){this.media=i.media,this._cleanTracks()},d.onMediaDetaching=function(){var i=this.captionsTracks;Object.keys(i).forEach(function(s){si(i[s]),delete i[s]}),this.nonNativeCaptionsTracks={}},d.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs=Ch(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},d._cleanTracks=function(){var i=this.media;if(i){var s=i.textTracks;if(s)for(var h=0;h<s.length;h++)si(s[h])}},d.onManifestLoaded=function(i){var s=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var h=i.subtitles||[],y=this.tracks&&h&&this.tracks.length===h.length;if(this.tracks=i.subtitles||[],this.config.renderTextTracksNatively){var R=this.media?this.media.textTracks:[];this.tracks.forEach(function(O,B){var U;if(B<R.length){for(var Y=null,ne=0;ne<R.length;ne++)if(Mx(R[ne],O)){Y=R[ne];break}Y&&(U=Y)}U||(U=s.createTextTrack("subtitles",O.name,O.lang)),O.default?U.mode=s.hls.subtitleDisplay?"showing":"hidden":U.mode="disabled",s.textTracks.push(U)})}else if(!y&&this.tracks&&this.tracks.length){var b=this.tracks.map(function(O){return{label:O.name,kind:O.type.toLowerCase(),default:O.default,subtitleTrack:O}});this.hls.trigger(c.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:b})}}this.config.enableCEA708Captions&&i.captions&&i.captions.forEach(function(O){var B=/(?:CC|SERVICE)([1-4])/.exec(O.instreamId);if(B){var U="textTrack"+B[1],Y=s.captionsProperties[U];Y&&(Y.label=O.name,O.lang&&(Y.languageCode=O.lang),Y.media=O)}})},d.onFragLoaded=function(i){var s=i.frag,h=i.payload,y=this.cea608Parser1,R=this.cea608Parser2,b=this.initPTS,O=this.lastSn,B=this.unparsedVttFrags;if(s.type==="main"){var U=s.sn;s.sn!==O+1&&y&&R&&(y.reset(),R.reset()),this.lastSn=U}else if(s.type==="subtitle")if(h.byteLength){if(!Object(v.isFiniteNumber)(b[s.cc])){B.push(i),b.length&&this.hls.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s});return}var Y=s.decryptdata;(Y==null||Y.key==null||Y.method!=="AES-128")&&this._parseVTTs(s,h)}else this.hls.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s})},d._parseVTTs=function(i,s){var h=this,y=this.hls,R=this.prevCC,b=this.textTracks,O=this.vttCCs;O[i.cc]||(O[i.cc]={start:i.start,prevCC:R,new:!0},this.prevCC=i.cc),Ox.parse(s,this.initPTS[i.cc],O,i.cc,function(B){if(h.config.renderTextTracksNatively){var U=b[i.level];if(U.mode==="disabled"){y.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i});return}B.forEach(function(ne){if(!U.cues.getCueById(ne.id))try{if(U.addCue(ne),!U.cues.getCueById(ne.id))throw new Error("addCue is failed for: "+ne)}catch(xe){p.logger.debug("Failed occurred on adding cues: "+xe);var ve=new window.TextTrackCue(ne.startTime,ne.endTime,ne.text);ve.id=ne.id,U.addCue(ve)}})}else{var Y=h.tracks[i.level].default?"default":"subtitles"+i.level;y.trigger(c.default.CUES_PARSED,{type:"subtitles",cues:B,track:Y})}y.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},function(B){p.logger.log("Failed to parse VTT cue: "+B),y.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i})})},d.onFragDecrypted=function(i){var s=i.frag,h=i.payload;if(s.type==="subtitle"){if(!Object(v.isFiniteNumber)(this.initPTS[s.cc])){this.unparsedVttFrags.push(i);return}this._parseVTTs(s,h)}},d.onFragParsingUserdata=function(i){var s=this.cea608Parser1,h=this.cea608Parser2;if(!(!this.enabled||!(s&&h)))for(var y=0;y<i.samples.length;y++){var R=i.samples[y].bytes;if(R){var b=this.extractCea608Data(R);s.addData(i.samples[y].pts,b[0]),h.addData(i.samples[y].pts,b[1])}}},d.extractCea608Data=function(i){for(var s=i[0]&31,h=2,y=[[],[]],R=0;R<s;R++){var b=i[h++],O=127&i[h++],B=127&i[h++],U=(4&b)!==0,Y=3&b;O===0&&B===0||U&&(Y===0||Y===1)&&(y[Y].push(O),y[Y].push(B))}return y},g}(E);function Mx(S,g){return S&&S.label===g.name&&!(S.textTrack1||S.textTrack2)}function Nx(S,g,d,l){return Math.min(g,l)-Math.max(S,d)}function Ch(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}}}var Bx=Fx;function Dh(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Ux(S,g,d){return g&&Dh(S.prototype,g),d&&Dh(S,d),S}function jx(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var zx=function(S){jx(g,S);function g(l){var i;return i=S.call(this,l,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADED,c.default.SUBTITLE_TRACK_LOADED)||this,i.tracks=[],i.trackId=-1,i.media=null,i.stopped=!0,i.subtitleDisplay=!0,i.queuedDefaultTrack=null,i}var d=g.prototype;return d.destroy=function(){E.prototype.destroy.call(this)},d.onMediaAttached=function(i){var s=this;this.media=i.media,this.media&&(Object(v.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){s.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},d.onMediaDetaching=function(){if(this.media){this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(v.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack);var i=Iu(this.media.textTracks);i.forEach(function(s){si(s)}),this.subtitleTrack=-1,this.media=null}},d.onManifestLoaded=function(i){var s=this,h=i.subtitles||[];this.tracks=h,this.hls.trigger(c.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:h}),h.forEach(function(y){y.default&&(s.media?s.subtitleTrack=y.id:s.queuedDefaultTrack=y.id)})},d.onSubtitleTrackLoaded=function(i){var s=this,h=i.id,y=i.details,R=this.trackId,b=this.tracks,O=b[R];if(h>=b.length||h!==R||!O||this.stopped){this._clearReloadTimer();return}if(p.logger.log("subtitle track "+h+" loaded"),y.live){var B=Ie(O.details,y,i.stats.trequest);p.logger.log("Reloading live subtitle playlist in "+B+"ms"),this.timer=setTimeout(function(){s._loadCurrentTrack()},B)}else this._clearReloadTimer()},d.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},d.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},d._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},d._loadCurrentTrack=function(){var i=this.trackId,s=this.tracks,h=this.hls,y=s[i];i<0||!y||y.details&&!y.details.live||(p.logger.log("Loading subtitle track "+i),h.trigger(c.default.SUBTITLE_TRACK_LOADING,{url:y.url,id:i}))},d._toggleTrackModes=function(i){var s=this.media,h=this.subtitleDisplay,y=this.trackId;if(s){var R=Iu(s.textTracks);if(i===-1)[].slice.call(R).forEach(function(B){B.mode="disabled"});else{var b=R[y];b&&(b.mode="disabled")}var O=R[i];O&&(O.mode=h?"showing":"hidden")}},d._setSubtitleTrackInternal=function(i){var s=this.hls,h=this.tracks;!Object(v.isFiniteNumber)(i)||i<-1||i>=h.length||(this.trackId=i,p.logger.log("Switching to subtitle track "+i),s.trigger(c.default.SUBTITLE_TRACK_SWITCH,{id:i}),this._loadCurrentTrack())},d._onTextTracksChanged=function(){if(!(!this.media||!this.hls.config.renderTextTracksNatively)){for(var i=-1,s=Iu(this.media.textTracks),h=0;h<s.length;h++)if(s[h].mode==="hidden")i=h;else if(s[h].mode==="showing"){i=h;break}this.subtitleTrack=i}},Ux(g,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(i){this.trackId!==i&&(this._toggleTrackModes(i),this._setSubtitleTrackInternal(i))}}]),g}(E);function Iu(S){for(var g=[],d=0;d<S.length;d++){var l=S[d];l.kind==="subtitles"&&l.label&&g.push(S[d])}return g}var Gx=zx,Kx=a("./src/crypt/decrypter.js");function Hx(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function Vx(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Wx=window,kh=Wx.performance,Fu=500,Qx=function(S){Vx(g,S);function g(l,i){var s;return s=S.call(this,l,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.ERROR,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.SUBTITLE_TRACKS_UPDATED,c.default.SUBTITLE_TRACK_SWITCH,c.default.SUBTITLE_TRACK_LOADED,c.default.SUBTITLE_FRAG_PROCESSED,c.default.LEVEL_UPDATED)||this,s.fragmentTracker=i,s.config=l.config,s.state=oe.STOPPED,s.tracks=[],s.tracksBuffered=[],s.currentTrackId=-1,s.decrypter=new Kx.default(l,l.config),s.lastAVStart=0,s._onMediaSeeking=s.onMediaSeeking.bind(Hx(s)),s}var d=g.prototype;return d.startLoad=function(){this.stopLoad(),this.state=oe.IDLE;var i=this.tracks[this.currentTrackId];i&&i.details&&(this.setInterval(Fu),this.tick())},d.onSubtitleFragProcessed=function(i){var s=i.frag,h=i.success;if(this.fragPrevious=s,this.state=oe.IDLE,!!h){var y=this.tracksBuffered[this.currentTrackId];if(y){for(var R,b=s.start,O=0;O<y.length;O++)if(b>=y[O].start&&b<=y[O].end){R=y[O];break}var B=s.start+s.duration;R?R.end=B:(R={start:b,end:B},y.push(R))}}},d.onMediaAttached=function(i){var s=i.media;this.media=s,s.addEventListener("seeking",this._onMediaSeeking),this.state=oe.IDLE},d.onMediaDetaching=function(){var i=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(s){i.tracksBuffered[s.id]=[]}),this.media=null,this.state=oe.STOPPED)},d.onError=function(i){var s=i.frag;!s||s.type!=="subtitle"||(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=oe.IDLE)},d.onSubtitleTracksUpdated=function(i){var s=this;p.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=i.subtitleTracks,this.tracks.forEach(function(h){s.tracksBuffered[h.id]=[]})},d.onSubtitleTrackSwitch=function(i){if(this.currentTrackId=i.id,!this.tracks||!this.tracks.length||this.currentTrackId===-1){this.clearInterval();return}var s=this.tracks[this.currentTrackId];s&&s.details&&this.setInterval(Fu)},d.onSubtitleTrackLoaded=function(i){var s=i.id,h=i.details,y=this.currentTrackId,R=this.tracks,b=R[y];s>=R.length||s!==y||!b||(h.live&&ge(b.details,h,this.lastAVStart),b.details=h,this.setInterval(Fu))},d.onKeyLoaded=function(){this.state===oe.KEY_LOADING&&(this.state=oe.IDLE)},d.onFragLoaded=function(i){var s=this.fragCurrent,h=i.frag.decryptdata,y=i.frag,R=this.hls;if(this.state===oe.FRAG_LOADING&&s&&i.frag.type==="subtitle"&&s.sn===i.frag.sn&&i.payload.byteLength>0&&h&&h.key&&h.method==="AES-128"){var b=kh.now();this.decrypter.decrypt(i.payload,h.key.buffer,h.iv.buffer,function(O){var B=kh.now();R.trigger(c.default.FRAG_DECRYPTED,{frag:y,payload:O,stats:{tstart:b,tdecrypt:B}})})}},d.onLevelUpdated=function(i){var s=i.details,h=s.fragments;this.lastAVStart=h.length?h[0].start:0},d.doTick=function(){if(!this.media){this.state=oe.IDLE;return}switch(this.state){case oe.IDLE:{var i=this.config,s=this.currentTrackId,h=this.fragmentTracker,y=this.media,R=this.tracks;if(!R||!R[s]||!R[s].details)break;var b=i.maxBufferHole,O=i.maxFragLookUpTolerance,B=Math.min(i.maxBufferLength,i.maxMaxBufferLength),U=G.bufferedInfo(this._getBuffered(),y.currentTime,b),Y=U.end,ne=U.len,ve=R[s].details,xe=ve.fragments,ke=xe.length,Re=xe[ke-1].start+xe[ke-1].duration;if(ne>B)return;var Me,Ne=this.fragPrevious;Y<Re?(Ne&&ve.hasProgramDateTime&&(Me=Ft(xe,Ne.endProgramDateTime,O)),Me||(Me=Tt(Ne,xe,Y,O))):Me=xe[ke-1],Me&&Me.encrypted?(p.logger.log("Loading key for "+Me.sn),this.state=oe.KEY_LOADING,this.hls.trigger(c.default.KEY_LOADING,{frag:Me})):Me&&h.getState(Me)===ht.NOT_LOADED&&(this.fragCurrent=Me,this.state=oe.FRAG_LOADING,this.hls.trigger(c.default.FRAG_LOADING,{frag:Me}))}}},d.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,S.prototype.stopLoad.call(this)},d._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},d.onMediaSeeking=function(){if(this.fragCurrent){var i=this.media?this.media.currentTime:0,s=this.config.maxFragLookUpTolerance,h=this.fragCurrent.start-s,y=this.fragCurrent.start+this.fragCurrent.duration+s;(i<h||i>y)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=oe.IDLE,this.tick())}},g}(or),Oi;(function(S){S.WIDEVINE="com.widevine.alpha",S.PLAYREADY="com.microsoft.playready"})(Oi||(Oi={}));var $x=function(){return typeof window<"u"&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}();function Lh(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function qx(S,g,d){return g&&Lh(S.prototype,g),d&&Lh(S,d),S}function Yx(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Ph=3,Xx=function(g,d,l){var i={audioCapabilities:[],videoCapabilities:[]};return g.forEach(function(s){i.audioCapabilities.push({contentType:'audio/mp4; codecs="'+s+'"',robustness:l.audioRobustness||""})}),d.forEach(function(s){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+s+'"',robustness:l.videoRobustness||""})}),[i]},Jx=function(g,d,l,i){switch(g){case Oi.WIDEVINE:return Xx(d,l,i);default:throw new Error("Unknown key-system: "+g)}},Zx=function(S){Yx(g,S);function g(l){var i;return i=S.call(this,l,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHED,c.default.MANIFEST_PARSED)||this,i._widevineLicenseUrl=void 0,i._licenseXhrSetup=void 0,i._emeEnabled=void 0,i._requestMediaKeySystemAccess=void 0,i._drmSystemOptions=void 0,i._config=void 0,i._mediaKeysList=[],i._media=null,i._hasSetMediaKeys=!1,i._requestLicenseFailureCount=0,i.mediaKeysPromise=null,i._onMediaEncrypted=function(s){if(p.logger.log('Media is encrypted using "'+s.initDataType+'" init data type'),!i.mediaKeysPromise){p.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),i.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});return}var h=function(R){i._media&&(i._attemptSetMediaKeys(R),i._generateRequestWithPreferredKeySession(s.initDataType,s.initData))};i.mediaKeysPromise.then(h).catch(h)},i._config=l.config,i._widevineLicenseUrl=i._config.widevineLicenseUrl,i._licenseXhrSetup=i._config.licenseXhrSetup,i._emeEnabled=i._config.emeEnabled,i._requestMediaKeySystemAccess=i._config.requestMediaKeySystemAccessFunc,i._drmSystemOptions=l.config.drmSystemOptions,i}var d=g.prototype;return d.getLicenseServerUrl=function(i){switch(i){case Oi.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+i+'"')},d._attemptKeySystemAccess=function(i,s,h){var y=this,R=Jx(i,s,h,this._drmSystemOptions);p.logger.log("Requesting encrypted media key-system access");var b=this.requestMediaKeySystemAccess(i,R);this.mediaKeysPromise=b.then(function(O){return y._onMediaKeySystemAccessObtained(i,O)}),b.catch(function(O){p.logger.error('Failed to obtain key-system "'+i+'" access:',O)})},d._onMediaKeySystemAccessObtained=function(i,s){var h=this;p.logger.log('Access for key-system "'+i+'" obtained');var y={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:s,mediaKeySystemDomain:i};this._mediaKeysList.push(y);var R=Promise.resolve().then(function(){return s.createMediaKeys()}).then(function(b){return y.mediaKeys=b,p.logger.log('Media-keys created for key-system "'+i+'"'),h._onMediaKeysCreated(),b});return R.catch(function(b){p.logger.error("Failed to create media-keys:",b)}),R},d._onMediaKeysCreated=function(){var i=this;this._mediaKeysList.forEach(function(s){s.mediaKeysSession||(s.mediaKeysSession=s.mediaKeys.createSession(),i._onNewMediaKeySession(s.mediaKeysSession))})},d._onNewMediaKeySession=function(i){var s=this;p.logger.log("New key-system session "+i.sessionId),i.addEventListener("message",function(h){s._onKeySessionMessage(i,h.message)},!1)},d._onKeySessionMessage=function(i,s){p.logger.log("Got EME message event, creating license request"),this._requestLicense(s,function(h){p.logger.log("Received license data (length: "+(h&&h.byteLength)+"), updating key-session"),i.update(h)})},d._attemptSetMediaKeys=function(i){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var s=this._mediaKeysList[0];if(!s||!s.mediaKeys){p.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});return}p.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(s.mediaKeys),this._hasSetMediaKeys=!0}},d._generateRequestWithPreferredKeySession=function(i,s){var h=this,y=this._mediaKeysList[0];if(!y){p.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});return}if(y.mediaKeysSessionInitialized){p.logger.warn("Key-Session already initialized but requested again");return}var R=y.mediaKeysSession;if(!R){p.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});return}if(!s){p.logger.warn("Fatal: initData required for generating a key session is null"),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});return}p.logger.log('Generating key-session request for "'+i+'" init data type'),y.mediaKeysSessionInitialized=!0,R.generateRequest(i,s).then(function(){p.logger.debug("Key-session generation succeeded")}).catch(function(b){p.logger.error("Error generating key-session request:",b),h.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})},d._createLicenseXhr=function(i,s,h){var y=new XMLHttpRequest,R=this._licenseXhrSetup;try{if(R)try{R(y,i)}catch{y.open("POST",i,!0),R(y,i)}y.readyState||y.open("POST",i,!0)}catch(b){throw new Error("issue setting up KeySystem license XHR "+b)}return y.responseType="arraybuffer",y.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,y,i,s,h),y},d._onLicenseRequestReadyStageChange=function(i,s,h,y){switch(i.readyState){case 4:if(i.status===200)this._requestLicenseFailureCount=0,p.logger.log("License request succeeded"),i.responseType!=="arraybuffer"&&p.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),y(i.response);else{if(p.logger.error("License Request XHR failed ("+s+"). Status: "+i.status+" ("+i.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>Ph){this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});return}var R=Ph-this._requestLicenseFailureCount+1;p.logger.warn("Retrying license request, "+R+" attempts left"),this._requestLicense(h,y)}break}},d._generateLicenseRequestChallenge=function(i,s){switch(i.mediaKeySystemDomain){case Oi.WIDEVINE:return s}throw new Error("unsupported key-system: "+i.mediaKeySystemDomain)},d._requestLicense=function(i,s){p.logger.log("Requesting content license for key-system");var h=this._mediaKeysList[0];if(!h){p.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});return}try{var y=this.getLicenseServerUrl(h.mediaKeySystemDomain),R=this._createLicenseXhr(y,i,s);p.logger.log("Sending license request to URL: "+y);var b=this._generateLicenseRequestChallenge(h,i);R.send(b)}catch(O){p.logger.error("Failure requesting DRM license: "+O),this.hls.trigger(c.default.ERROR,{type:f.ErrorTypes.KEY_SYSTEM_ERROR,details:f.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},d.onMediaAttached=function(i){if(this._emeEnabled){var s=i.media;this._media=s,s.addEventListener("encrypted",this._onMediaEncrypted)}},d.onMediaDetached=function(){var i=this._media,s=this._mediaKeysList;i&&(i.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(s.map(function(h){if(h.mediaKeysSession)return h.mediaKeysSession.close().catch(function(){})})).then(function(){return i.setMediaKeys(null)}).catch(function(){}))},d.onManifestParsed=function(i){if(this._emeEnabled){var s=i.levels.map(function(y){return y.audioCodec}),h=i.levels.map(function(y){return y.videoCodec});this._attemptKeySystemAccess(Oi.WIDEVINE,s,h)}},qx(g,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),g}(E),eE=Zx;function Oh(S,g){var d=Object.keys(S);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(S);g&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(S,i).enumerable})),d.push.apply(d,l)}return d}function Ih(S){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?Oh(Object(d),!0).forEach(function(l){tE(S,l,d[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(d)):Oh(Object(d)).forEach(function(l){Object.defineProperty(S,l,Object.getOwnPropertyDescriptor(d,l))})}return S}function tE(S,g,d){return g in S?Object.defineProperty(S,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):S[g]=d,S}var rE=Ih(Ih({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:60*1e3*1e3,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ox,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Wy,bufferController:qy,capLevelController:Zy,fpsController:ix,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:$x,testBandwidth:!0},nE()),{},{subtitleStreamController:Qx,subtitleTrackController:Gx,timelineController:Bx,audioStreamController:vx,audioTrackController:cx,emeController:eE});function nE(){return{cueHandler:o,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Fh(S,g){var d=Object.keys(S);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(S);g&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(S,i).enumerable})),d.push.apply(d,l)}return d}function Mh(S){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?Fh(Object(d),!0).forEach(function(l){iE(S,l,d[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(d)):Fh(Object(d)).forEach(function(l){Object.defineProperty(S,l,Object.getOwnPropertyDescriptor(d,l))})}return S}function iE(S,g,d){return g in S?Object.defineProperty(S,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):S[g]=d,S}function zt(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function Nh(S,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Bh(S,g,d){return g&&Nh(S.prototype,g),d&&Nh(S,d),S}function aE(S,g){S.prototype=Object.create(g.prototype),S.prototype.constructor=S,S.__proto__=g}var Uh=function(S){aE(g,S),g.isSupported=function(){return Du()},Bh(g,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return c.default}},{key:"ErrorTypes",get:function(){return f.ErrorTypes}},{key:"ErrorDetails",get:function(){return f.ErrorDetails}},{key:"DefaultConfig",get:function(){return g.defaultConfig?g.defaultConfig:rE},set:function(i){g.defaultConfig=i}}]);function g(l){var i;l===void 0&&(l={}),i=S.call(this)||this,i.config=void 0,i._autoLevelCapping=void 0,i.abrController=void 0,i.capLevelController=void 0,i.levelController=void 0,i.streamController=void 0,i.networkControllers=void 0,i.audioTrackController=void 0,i.subtitleTrackController=void 0,i.emeController=void 0,i.coreComponents=void 0,i.media=null,i.url=null;var s=g.DefaultConfig;if((l.liveSyncDurationCount||l.liveMaxLatencyDurationCount)&&(l.liveSyncDuration||l.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");i.config=Mh(Mh({},s),l);var h=zt(i),y=h.config;if(y.liveMaxLatencyDurationCount!==void 0&&y.liveMaxLatencyDurationCount<=y.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(y.liveMaxLatencyDuration!==void 0&&(y.liveSyncDuration===void 0||y.liveMaxLatencyDuration<=y.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(p.enableLogs)(y.debug),i._autoLevelCapping=-1;var R=i.abrController=new y.abrController(zt(i)),b=new y.bufferController(zt(i)),O=i.capLevelController=new y.capLevelController(zt(i)),B=new y.fpsController(zt(i)),U=new rt(zt(i)),Y=new it(zt(i)),ne=new ir(zt(i)),ve=new Cu(zt(i)),xe=i.levelController=new bu(zt(i)),ke=new Tn(zt(i)),Re=i.streamController=new Yo(zt(i),ke),Me=[xe,Re],Ne=y.audioStreamController;Ne&&Me.push(new Ne(zt(i),ke)),i.networkControllers=Me;var Ye=[U,Y,ne,R,b,O,B,ve,ke];if(Ne=y.audioTrackController,Ne){var Rt=new Ne(zt(i));i.audioTrackController=Rt,Ye.push(Rt)}if(Ne=y.subtitleTrackController,Ne){var mr=new Ne(zt(i));i.subtitleTrackController=mr,Me.push(mr)}if(Ne=y.emeController,Ne){var Wt=new Ne(zt(i));i.emeController=Wt,Ye.push(Wt)}return Ne=y.subtitleStreamController,Ne&&Me.push(new Ne(zt(i),ke)),Ne=y.timelineController,Ne&&Ye.push(new Ne(zt(i))),i.coreComponents=Ye,i}var d=g.prototype;return d.destroy=function(){p.logger.log("destroy"),this.trigger(c.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(i){i.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},d.attachMedia=function(i){p.logger.log("attachMedia"),this.media=i,this.trigger(c.default.MEDIA_ATTACHING,{media:i})},d.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(c.default.MEDIA_DETACHING),this.media=null},d.loadSource=function(i){i=u.buildAbsoluteURL(window.location.href,i,{alwaysNormalize:!0}),p.logger.log("loadSource:"+i),this.url=i,this.trigger(c.default.MANIFEST_LOADING,{url:i})},d.startLoad=function(i){i===void 0&&(i=-1),p.logger.log("startLoad("+i+")"),this.networkControllers.forEach(function(s){s.startLoad(i)})},d.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach(function(i){i.stopLoad()})},d.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},d.recoverMediaError=function(){p.logger.log("recoverMediaError");var i=this.media;this.detachMedia(),i&&this.attachMedia(i)},d.removeLevel=function(i,s){s===void 0&&(s=0),this.levelController.removeLevel(i,s)},Bh(g,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(i){p.logger.log("set currentLevel:"+i),this.loadLevel=i,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(i){p.logger.log("set nextLevel:"+i),this.levelController.manualLevel=i,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(i){p.logger.log("set loadLevel:"+i),this.levelController.manualLevel=i}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(i){this.levelController.nextLoadLevel=i}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(i){p.logger.log("set firstLevel:"+i),this.levelController.firstLevel=i}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(i){p.logger.log("set startLevel:"+i),i!==-1&&(i=Math.max(i,this.minAutoLevel)),this.levelController.startLevel=i}},{key:"capLevelToPlayerSize",set:function(i){var s=!!i;s!==this.config.capLevelToPlayerSize&&(s?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=s)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(i){p.logger.log("set autoLevelCapping:"+i),this._autoLevelCapping=i}},{key:"bandwidthEstimate",get:function(){var i=this.abrController._bwEstimator;return i?i.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var i=this.levels,s=this.config.minAutoBitrate,h=i?i.length:0,y=0;y<h;y++){var R=i[y].realBitrate?Math.max(i[y].realBitrate,i[y].bitrate):i[y].bitrate;if(R>s)return y}return 0}},{key:"maxAutoLevel",get:function(){var i=this.levels,s=this.autoLevelCapping,h;return s===-1&&i&&i.length?h=i.length-1:h=s,h}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(i){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,i)}},{key:"audioTracks",get:function(){var i=this.audioTrackController;return i?i.audioTracks:[]}},{key:"audioTrack",get:function(){var i=this.audioTrackController;return i?i.audioTrack:-1},set:function(i){var s=this.audioTrackController;s&&(s.audioTrack=i)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var i=this.subtitleTrackController;return i?i.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var i=this.subtitleTrackController;return i?i.subtitleTrack:-1},set:function(i){var s=this.subtitleTrackController;s&&(s.subtitleTrack=i)}},{key:"subtitleDisplay",get:function(){var i=this.subtitleTrackController;return i?i.subtitleDisplay:!1},set:function(i){var s=this.subtitleTrackController;s&&(s.subtitleDisplay=i)}}]),g}(K);Uh.defaultConfig=void 0},"./src/polyfills/number.js":function(r,n,a){a.r(n),a.d(n,"isFiniteNumber",function(){return o}),a.d(n,"MAX_SAFE_INTEGER",function(){return u});var o=Number.isFinite||function(f){return typeof f=="number"&&isFinite(f)},u=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(r,n,a){a.r(n),a.d(n,"getSelfScope",function(){return o});function o(){return typeof window>"u"?self:window}},"./src/utils/logger.js":function(r,n,a){a.r(n),a.d(n,"enableLogs",function(){return E}),a.d(n,"logger",function(){return T});var o=a("./src/utils/get-self-scope.js");function u(){}var f={trace:u,debug:u,log:u,warn:u,info:u,error:u},v=f;function c(m,L){return L="["+m+"] > "+L,L}var p=Object(o.getSelfScope)();function w(m){var L=p.console[m];return L?function(){for(var _=arguments.length,A=new Array(_),C=0;C<_;C++)A[C]=arguments[C];A[0]&&(A[0]=c(m,A[0])),L.apply(p.console,A)}:u}function x(m){for(var L=arguments.length,_=new Array(L>1?L-1:0),A=1;A<L;A++)_[A-1]=arguments[A];_.forEach(function(C){v[C]=m[C]?m[C].bind(m):w(C)})}var E=function(L){if(p.console&&L===!0||typeof L=="object"){x(L,"debug","log","info","warn","error");try{v.log()}catch{v=f}}else v=f},T=v}}).default})})(ab);const Dn=fg(Kf);var so=globalThis&&globalThis.__assign||function(){return so=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},so.apply(this,arguments)},ob=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};function sb(e){var t=e.hlsConfig,r=e.playerRef,n=r===void 0?Qa.createRef():r,a=e.src,o=e.autoPlay,u=ob(e,["hlsConfig","playerRef","src","autoPlay"]);return se.useEffect(function(){var f;function v(){f!=null&&f.destroy();var c=new Dn(so({enableWorker:!1},t));n.current!=null&&c.attachMedia(n.current),c.on(Dn.Events.MEDIA_ATTACHED,function(){c.loadSource(a),c.on(Dn.Events.MANIFEST_PARSED,function(){var p;o&&((p=n==null?void 0:n.current)===null||p===void 0||p.play().catch(function(){return console.log("Unable to autoplay prior to user interaction with the dom.")}))})}),c.on(Dn.Events.ERROR,function(p,w){if(w.fatal)switch(w.type){case Dn.ErrorTypes.NETWORK_ERROR:c.startLoad();break;case Dn.ErrorTypes.MEDIA_ERROR:c.recoverMediaError();break;default:v();break}}),f=c}return Dn.isSupported()&&v(),function(){f!=null&&f.destroy()}},[o,t,n,a]),Dn.isSupported()?Qa.createElement("video",so({ref:n},u)):Qa.createElement("video",so({ref:n,src:a,autoPlay:o},u))}const lb="/study-app/assets/work-in-progress-66fb6ee9.png";const My=()=>Oe("div",{className:"Loading",children:tr("div",{className:"Loading-ring",children:[Oe("img",{className:"Loading-img",src:lb,alt:""}),Oe("span",{})]})});const ub=()=>{const{id:e}=Oy(),[t,r]=se.useState(0);se.useState(1);const n=se.useRef(),{data:a,error:o,isLoading:u,isError:f}=Fo.useFetchCourseQuery(e),v=Ru();if(se.useEffect(()=>{f&&v("/error")},[f]),u&&!f)return Oe(My,{});if(!a)return null;const{previewImageLink:c,title:p,description:w,lessons:x}=a;let E=[...x].sort((L,_)=>L.order>_.order?1:-1);const T=L=>{x[L].status!=="locked"&&r(L)},m=()=>{n.current&&(n.current.playbackRate=2)};return tr("div",{className:"Course",children:[Oe(sb,{playerRef:n,className:"Course-video",src:x[t].link,autoPlay:!1,controls:!0,width:"100%",height:"auto",poster:`${c}/cover.webp`,onCanPlay:()=>m()}),Oe("h1",{className:"Course-title",children:p}),tr("h3",{className:"Course-desc-title",children:["Lesson ",x[t].order,":  ",x[t].title]}),Oe("h4",{className:"Course-desc-title",children:"Description"}),Oe("p",{className:"Course-desc",children:w}),Oe("div",{className:"Course-lessons",children:E.map(({id:L,title:_,previewImageLink:A,order:C,status:k},P)=>tr("div",{className:"Course-lesson",onClick:()=>T(P),children:[Oe("div",{className:`Course-overflow ${k}`}),Oe("div",{className:"Course-lesson-img-wrapper",children:Oe("img",{className:"Course-lesson-img",src:A+"/lesson-"+C+".webp",alt:_})}),Oe("p",{className:"Course-lesson-title",children:_})]},L))})]})};const cb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAgUSURBVHic7Z1riFVVFIC/Oz7GRz7RctJwmlGnrOwhlj1+RfRAJKjEXvSvBxFEIRn9qowIqx9lkSUEKURpmCVRUPQrzaISitLExwiOOo5OzajNjDkz/Vj3wPV2H+fcs/Z53LM+WMg4c/fdj3X22WuvvdYGwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzCMNJMDbgO2AL152ZL/v1yM9TIcMwZ4CPgNGC4je4AngfEx1dFwwIXA88Bxyg98sfQAbwDNkdfWUGMhsB74F/8DXyyDwFbgFuz1kApGA8uA76l90MvJTuARYGxkrTF8cwGwEjiE/sAXyzHgFeCiSFpmVGQh8C7Qh/uBL5YzwEbgRuetNM5hBLAU+JroB72c/IRYGKMctjvzTAOeQ2+a7wXezEuvUpmH8nWc5qgPMkkbYpKdRmeQ9iHrhSkF3zEBWeDtUvqOfsQCWaDaExmiATG9tgJD6AzKd4iFMCKm7x0Zoj8yw0SS8yTOQ3fm2Y/MPFNrqEvdMwcxrf5Cp7MPI7t/Gu/iScj2cLtS3U4ilstlCnVLPTchptRZdDrX5Wq8AV3rYyhf1lIytsvoxykTRAYQJbohwjZcg+7+QyacULU4ZSpJJ/LamBVhG4rR3oGsSyeUhlOmUH4heXvy2j6I1DuhvA7ZgX6HJB1thfecUOOibESteFNiBzYlNqH7yku0E0rbKVNPi6JGdBe9iXFCaTtlBql/syhNZm9ZJiNP50GlRngbI/OjbETMtKK78XUEed1Md1npKJwyWcOVE+pKrQrG5ZTJGolzQnlOmd1KlTH3qH9idUJpO2W8d5MdkAiO54TSXmuVdELNBT5Hb/rZBiwnuT7wNuAz4BRiuu4GvgLWAs8C9wHXI7Z83IxE+nIbOmMzhIz1HO8L2oBuhYIHgA3AIv0+UOViZGby264kKcgipI8HfNa9kpxAHnw2hyyoE3iBZDwtftiCzpNUqCC7iFZBmpA+7wxZ90055OmvxRTbiSxWPkI0Mi30IIvcqOhHDpMczP/bXvTzkRBlNwL3ImuFq2v4fHdS39EuiXqXcQxwSV5KEVZBwrRnOAd8AtwdopBjyNS3lnDaHBUbgAfjrkQAPAVp51wlmQ88CpwfouyNIHbnCbKzCGwl2CKwXuU4BZZAK2IWDSoVvh0xXZIaKdOMLH5PEv9ARC2DyFi3wP/fH63Aw8jUMjlYn5bkKLL58BaicUlkCtIZLcixtaaCn+ch+/X1wCngQ2Th/of3n+UWEBMQU+Ypyi9eguAd3HwN+FWhvChJu4LsB94D1iEW3zlUW0E2ADcjZsYSH3/vh22IFn6K+MXTTlIVRL2fFyBa9A8676J9yAwzSaNyCWYGsBhZE60E3gG+RKZhF2Ht64ArXDbIlZPCDoToSGT7HBYpExztI2GxKkAhFilTHu1IqEQqgEcTsIrwTgpPuoHVwOwoG6HEbKTuGp7WYaRPV1HdZZ+I2dNlpEzScRUY4kVCpUIBPHLoT3FJTNfmMj1d8YBmXgEKp8S4I2WiSE9nClBF6iE8PLMKMAR8QTqcUKPyZW9Xqutgvu1BB7TuFADcRcpopohxtfFlClBAktK1uYqEKj6fbwpQgrgiZeL4XlOAKmg/iaUiZeKceUwBfOIiVeyavMSZKtYUICDaTigNCROnbwoQgijt8WLR2n8wBVAgygsjtHcgTQEUSeOVMaYAjtC+NMoVpgCOSfq1caYAEZHUiyNNAWKok3d1bE9e4rw6NlYFcN3gHJUHeRix67PMEJXHoQHpp1r/viJZ7/zMYwqQcUwBMo4pQMYxBcg4pgAZxxQg47hWgGEknLwcOeA8x3VIMhOobNN7ofjOiGIGqJYapiWCOiSV1iq/73JdgSgU4HCV398RQR2Syu1Vft8RSS0c8zqV964PIn78rDEKOaBaqW9Wl/hcqpxBIOf3qrlfn46tdvGxgur9sqTE51KnAGOQd1mlSveheM1JCriK6ucYO5FcwMWkTgFAztBV0/ZDpDMRRFCa8Xev4stlPp9KBZiJv6yc7cCl8VQxEubjL8awl/Kp5lOpAADPUL3hw0je4qUx1dEld+I/XcyKCuWkVgFGIydr/XTAEBKxE2Vef1dMBN7Gf6zhz1QOMEmtAoBs+gTJTN4BPEA6t6wbkLoHuUe5i+oHUVOtAAC3EvzOm9+R5AxpuGtwBHA/kgk0SBv7kbS81Ui9AoDs/tUSztVB/HmByjEDiU46QPB2DeB/3VMXCgCyyVFrvv6zwDfA48i5/7iYCTwBfEvt2T97kRPJfqkbBQC4HNhLbR1X/IpYg4SFteCmE3KI82Y5sqgLOsWXkj0Ez5GcqmPhfpiK3De0TLHMHuRegr3IfvsB5PKK48gi9DQSMnYq//fjEStlHBLbPx2Z0puRQZ+DJHvQtEo+Bh4D/g74OdVj4UniHvRSzCZZjgJ3heinngpl94YoNxFMBV4lnnh/19KHePdquaOxkEoXfW4OWXZimA28j5hGcQ9cWOlHLnHQslzK3fLWnf9dXdEEvESwyN6kSBfwIpK8QptZwCZkyu9Fnvy6G/xCGhE7eT162cJcPe1bkSjkcU56wmAKcqPZepKxaOwEPkDu8NW4ai9SkmAGhqEBMc8WA9cB1yJ5BV1tGQ8iV8n/CPwA7EDyDcQR5q5C2hWgFI2I3d4GzEXelzOQd/F0xJYfi2Tu9K50O4ns5PUh79QuxFzrRA6q7AH+RPYVzkTUDsMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwjID8B3bOblTe4SkpAAAAAElFTkSuQmCC",fb=({id:e,title:t,tags:r,description:n,duration:a,lessonsCount:o,containsLockedLessons:u,previewImageLink:f,rating:v,meta:c})=>Oe("article",{className:"CourseCard",children:tr(nb,{to:`/courses/${e}`,children:[Oe("div",{className:"CourseCard-container-img",children:Oe("img",{className:"CourseCard-img",src:f+"/cover.webp",alt:t})}),Oe("div",{className:"CourseCard-tags",children:r.map(p=>Oe("span",{className:"CourseCard-tag",children:p},p))}),tr("div",{className:"CourseCard-container",children:[Oe("h3",{className:"CourseCard-title",children:t}),tr("p",{className:"CourseCard-time",children:[Oe("img",{className:"CourseCard-time-img",src:cb,alt:"lessons icon"}),o," lessons/",a,"h"]}),Oe("p",{className:"CourseCard-desc",children:n}),Oe("div",{className:"CourseCard-skills",children:c.skills&&c.skills.map(p=>Oe("span",{className:"CourseCard-skill",children:p},p))})]}),Oe("div",{className:"CourseCard-rating",children:v})]})}),lg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAC/VBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcEgM3JAY3IgI3IQAbEAALCQA3LAAAAABkQgz9px7/qB7/px3/nQf/mQDliQAjFQABAQCcfgD/zgDvwQBHOQAAAACSYBHjiAACAgCkhAD3yAAAAAAeFATjlhv/nAfiiAAiFAADAgCrigAAAAAkGAThhwAhFAAFBACxjwAgEwCwjgAAAAAAAADghgCvjQAfEwCujQD/pxzfhgCtjAAEAwCsiwC2kwApIQAzKQBlPQBSMQDPhAb/zAD/ogfQqAD0xQBePAMPDAD2lAAEAgCqiQBEKQAkFgCpiQDkiQCoiAAlFgCnhwAmFwCmhgClhQDmigAnFwAoGADniwCjhACigwApGQDoiwChggD/nAYqGQCggQDpjACfgAArGgCegAAAAADqjAAsGgC1kgAAAAAjHAD4yAAAAAAAAAD/nAWFawA8MAAAAAD/phr/mgLJeQAuJQDcsgAKCAAAAAAAAADsmxz/ohE6IwAHBgD8zABiTwAAAACFWBBpPwDZrwCWeQAAAACGWBBcNwDjtwAoGgXunRz6lgASDwDnmBuFUABDNgCdXgC/mgCkYgACAQBjUACrZwArIwAnGgWyawAFAwAmHwDnuwDmmBu5bwAHBAAhGwC/cwAJBQAdFwDftADFdgAMBwAZFADasADLegAOCAAVEQDWrQDQfQARCgDVgAAVDQDLpADagwAYDgAMCgDFnwDehQAcEQAJBwAmGQS5lQCykADujwAvHADllxvxkQA0HwCdfwDzkgCVeABAJgCNcgD4lQBGKgCEawBNLgB8ZAAlGAT7lwBTMgBzXQBRMQBrVgD5lQBOLwBqVgD+zQBKLABtWAD3lABHKwBvWgBxWwDklhv1kwBBJwB0XgA+JQB2XwDykQA8JAB5YgA5IgDvjwA2IAB+ZgAzHwCBaADsjgAxHQCDagDrjQAuHACGbACIbgCLcACQdACSdgB+jN2GAAAA/3RSTlMABEiV4Pj32qQwm//6eGuHDfv/////////KP////////////////9D//////8z/////////6//////////W/z//////////////////////////////////////////////////////////////////4b///9R///pFP///6X////////zAv///////yb/////V//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////0R232AAADkElEQVR4nO2aZVAVURiGseNYWIiiwhXUixiIgtjdgYLdiC12dwt2g93d3R0oiord3d2t4/l2L47Mnr0jM+fsxwzn/fsO+zzcu3t2957PxkZGRkZGRkZGRpN48RMkTPTfSZwkaTLOAslJDJMiJVd+qpjyaVJz5KexpQdMm+5v0mdQkxFAdpm0seNsYE8PlzmLw99kzZZdiaMTLUw5nDVxycnXIBc9Wm4HB62BGQxc82gN3Pga5KUHy5c/mkEB1cC9IK08Cgk3KEwP5sk08CpCK++iog3sbfUNioFBcdEGJUrqGpRSDEpjGpQBg7IIBuUsBuUVgwrYBhUroRtUxjaoohUw1qAqQ8A4A69q1WvURDWgqSUNqIFPbVyDOsRX+L3RmoFfXboe1MM0qE+QDcwNwKAhokEjMPBojGnQBNvAUTFoimnQLHYYNEc3aIFo0NI/dhgIf2eyZtAK2yAADFxboxu0wTRoi23QTjFoj2HQwWLQEQw6xWmDQMWgM6ZBl9hh0FXPoJt4g+49wKCnnkEvgwx699Ex6NtPoEF/iwGciQO0As5uA2kxiJMAy2DwENVgqImQYQwB5+EjCBk5iq/B6H8NxlheF4IICR7LMhhH/2Q8LwHVYEK0j8AiMJEWk1gCk2kxha/AVJbANFpMFy6g8GfMZHwFIU6EhLL4XL8ClT+LdRLOps0c0Schgx91Gc6lFwGZJ/gyZPEtC9H8BbRayOJzXIis8Bd50Gqxiw6f01Ks8Jcw+UuX0Wr5Cj0+n5uRyl/J4q9aTas1jEuQ5+3YCn/tOlqt34DG37iJVpu3oPG3bqPV9h3G8y2P5Tt30SrUB42/ew+tfPei8fftp9WBg2j8Q4dpdYSxAHPnH2XyzbChGHwMjR8AP5V5H0fjK4+hord0rfDDThDxm9oq/ySLH36KVqbTaPyIIMCcQeP7nQXMOTR+5HnAXEDjh1wEzCUD+JeZ/CtXAXMNjR9yHTA30Pg3bwHm9h0sfuRdwNxD+//vPwDMQzS+H2zZkUdG8B+z+E+eAuYZGj/iOWBeoPFfvgLMawP4nkx++Buj1j82/+07wLxH44d9AMxHNP6nz4D5Yjg/apTr6zfAfEfjB8IPseSHWL46zsfkKxtD5KdYvjrQyOQ7+hvw/GVlpNMM7x/kl2C+/lCrOwy1kt+i+bpjve7w/mdiPH/zHutFH2xGH+3GH27HH++XkZGRkZGRiWP5AxvoKgOtjCW9AAAAAElFTkSuQmCC",db="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYxSURBVHic7ZxNaBVXGIafc9GApAQUS01EaCAKoi5aXRRFGpG6aQUXLt2arVBXurAFIeuuLJS4sQhduetCCkpchC6qrYii1YWlGAWRolaopeZ0McfmNt4558zPvZF87wOzycx8573fPDOTOz/Xee8RduksdwCxvEgA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA40gA46yqs5JzrgN8BOwERoExYAPwJ/AwTPeBH7z3j1tJ2gLOuS3Ax8BGFnMDzFNkfgDMeu9/XZ6Eb+Kcexf4BHifIvMo8A7wiMXcV4EfvfcLlQfw3mdPwH7gmzC4z5heAVeAz4H1VcZqawK2AtPArczMPiw7DWxdpszrQ8+uhB7mZH4Uts3+SmNlBtoFXK7QwF7TU+AEsGZATRwDZio0sEzgGWBsQJnXhB49bdjry8CuxgIAI8C3wELDQN3T78DBPjbRhSa+aDHzi1DT9TH3wdCbtjIvhG03UksAYAK42WKgpeFO9qGJw8CFPmX2ofZwH3KfbHkn655uAhOVBAAmgSd9bOTr6TtgqKUmbgKuDyDzdWBTS5mHQg/6nfkJMJklALANeDaAUK+nsy3t+YPY+N0SND4SAGcHmPkZsC0qALAOuFej+EvgF4qvJXXCHWvQREe9w/4CcCdMdQ6/F2jwPwFwrGav5kOvX9ZY9x6wLibAxcxCr4BzwBTFtYChrhqjwGfAF6G5OfX+AfbWbOSJCg24BBynOMWNdNUYCX87HpbJrXeiZua94TPnjHEH+DL0dHTJ6WNn2AbnyP+2c7GnAMChChbtyfyga4CvyNvDrlFxj6L4qpfz3/5z4GiFukfDOqm6L6j4FZHiiHUto/ZC6F3W12ZgD/lH70P/E4DiiuDtjBW/psa5D9hHcWUwVf9IxbozGTVngfEamcfDuqn6MxXrHsmoeR/YVyPzcNhGqfq3gVXdAkxlrHS6aqAl4TYAjxNj/Aaszqy3lfRhbxboNMjcyZDgFZlXDIHV4TPG6j0G3mvY69MZ23OqW4C5xMLXcjdMItjhjGAHMmtNJ+o8p8ae32OccdKng+nMWgcyPv/hFjKvJn2amQvLsoH4OfovYHvTUF3hzieCncmsk7q2n33OzxjraGKsW5l1ziTqnG8x8/aw7crGWgjbPnn4P9VWqBBsLfGLTA9I/DMIbElkvtRm5jBm6tvBlsT6Lny2svWfAGtbznwqkXmqQ3F7NMb3ifmV8N7/QXHKKWOM4jJ0jIFmzqyZyjTB4u3nXsyF3rRJMnOH4t54GX8DN9rL8x9XE/NjmXLmp+rX4afE/Lcx8w2KbVjGxg7FhZvSAt77WIG6pJoZy5Sa7yn+AWqbn0PtMppkhnRPKhO2XWwHHu0QPyz1w8qcurFMqfl3vffPKuZJEmrejSzSJDMsT6/H9EygcToUNxfK2NmncVN1Y5lS8zc750Yq5kkSam6OLNIkMyxPr+c7FA8VlrHDOTfUciAoHjGLEcuUmu+AD6vFyeKDULuMJpkh3ZPKhG23I7LIww7Fd9MyUgXqkrI9lilnfj/2ptQGehsz76DYhmU8eH2tO8an7eUB59xaYHdkkXmKu1oxBpo5s2Yq0z3ip4HdoTdtkpVZl4LTY63cS8FhYd0MKh9nZd8MCivodnDvMczcDtYDIb33fBsPhISV9UjYYl1bj4R1FdFDoVYfCg1F9Vh4/rTyHgsPwfRiSHpamS+GdAWbRK+GxTb+yn01rCucXg59c7LxcmhXML0eXkz2Xg9fEk4/EDGYzG/XD0T0CKifiBlM5oH9RIwLA1ZCPxI1OPr9I1G1BBArBz0TaBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYBwJYJx/Ad3VCGR3p7J2AAAAAElFTkSuQmCC";const ui=({page:e,toPage:t})=>Oe("button",{type:"button",className:"CourseBtn",value:e,onClick:t,children:e}),hb=({page:e,courses:t})=>{const[r,n]=se.useState(e-1),a=10,o=Ru(),u=t.slice(r*a,r*a+a),f=Math.ceil((t.length||0)/a);se.useEffect(()=>{t&&(t==null?void 0:t.length)>0&&(r>f-1&&(n(f-1),o(`/${f}`)),r<0&&(n(0),o("/1")))},[t]);const v=()=>{let w=r>0?r-1:r;n(w),o(`/${w+1}`)},c=()=>{let w=r<f-1?r+1:f-1;n(w),o(`/${w+1}`)},p=se.useCallback(w=>{let x=w.target.value;n(x-1),o(`/${x}`)},[]);return tr(os,{children:[Oe("div",{className:"Pagination-list",children:u.map(w=>Oe(fb,{...w},w.id))}),tr("div",{className:"Pagination-toolbar",children:[Oe("button",{className:"Pagination-btn-prev",type:"button",onClick:v,children:Oe("img",{src:lg,alt:"arrow icon"})}),f-(r+1)<=1&&r>1?tr(os,{children:[Oe(ui,{page:r-1,toPage:p}),Oe(ui,{page:r,toPage:p})]}):f-(r+1)==1&&r>0&&Oe(ui,{page:r,toPage:p}),Oe("button",{type:"button",className:"Pagination-btn active",value:r+1,onClick:p,children:r+1}),f-(r+1)>2?tr(os,{children:[Oe("img",{className:"Pagination-more",src:db,alt:"more courses"}),Oe(ui,{page:f,toPage:p})]}):f-(r+1)>1?tr(os,{children:[Oe(ui,{page:r+2,toPage:p}),Oe(ui,{page:f,toPage:p})]}):f-(r+1)==1&&Oe(ui,{page:f,toPage:p}),Oe("button",{type:"button",className:"Pagination-btn-next",onClick:c,children:Oe("img",{src:lg,alt:"arrow icon"})})]})]})},ug=()=>{const{data:e,isLoading:t,isError:r}=Fo.useFetchAllCoursesQuery(5),{page:n}=Oy();let a=parseInt(n||"1");a=isNaN(a)?1:a;const o=Ru();return se.useEffect(()=>{r&&o("/error")},[r]),tr("main",{className:"Courses",children:[Oe("h1",{className:"Courses-heading",children:"Courses"}),e&&Oe(hb,{page:a,courses:e}),t&&!r&&Oe(My,{})]})},pb="/study-app/assets/not found-f8e13a96.jpg";const cg=()=>{const e=Iy();return tr("div",{className:"NotFound",children:[tr("div",{children:[Oe("h1",{className:"NotFound-heading",children:"Ooops!"}),Oe("h2",{className:"NotFound-heading small",children:"Bad request"}),Oe("p",{className:"NotFound-text",children:e&&(e.statusText||e.message)||"Try again later..."})]}),Oe("img",{className:"NotFound-img",src:pb,alt:""})]})},vb=X_(kl(tr(Ni,{path:"/",errorElement:Oe(cg,{}),children:[Oe(Ni,{path:"/error",element:Oe(cg,{})}),Oe(Ni,{index:!0,element:Oe(ug,{})}),Oe(Ni,{path:":page",element:Oe(ug,{})}),Oe(Ni,{path:"courses/:id",element:Oe(ub,{})})]})));function gb(){return Oe(_1,{store:xy,children:Oe(K_,{router:vb})})}Dc.createRoot(document.getElementById("root")).render(Oe(gb,{}));
